// Copyright 2014-2020 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(ca){if(void 0==ca.Shared)throw Error("Vintasoft.Shared is not found.");if("1.7.0.3"!==ca.version)throw Error("Wrong version of Vintasoft.Shared script.");var a=ca.Shared,x=ca.Imaging={};x.version="9.1.2.3";x.engine="svg";var u=ca.Imaging.Utils={},ta=ca.Imaging.ImageProcessing={},ja=ca.Imaging.UI={},nb=ca.Imaging.UI.VisualTools={};(function(w){function qa(e){null==e&&(e=a.WebServiceJS.defaultFileService);a.pv.c(e,a.WebServiceJS,"Please specify correct file service OR define the default file service.");
return e}(function(e){var d=function(h,f,z,l,q,e){var n=d.prototype;n.get_m11=function(){return this._1231};n.set_m11=function(h){a.pv.n(h);this._1231=h};n.get_m12=function(){return this._5728};n.set_m12=function(h){a.pv.n(h);this._5728=h};n.get_m21=function(){return this._216};n.set_m21=function(h){a.pv.n(h);this._216=h};n.get_m22=function(){return this._7827};n.set_m22=function(h){a.pv.n(h);this._7827=h};n.get_offsetx=function(){return this._2505};n.set_offsetx=function(h){a.pv.n(h);this._2505=
h};n.get_offsety=function(){return this._11357};n.set_offsety=function(h){a.pv.n(h);this._11357=h};n.determinant=function(){return this._1231*this._7827-this._5728*this._216};n.invert=function(){var a=1/this.determinant(),a=new d(this._7827*a,-this._5728*a,-this._216*a,this._1231*a,(this._216*this._11357-this._2505*this._7827)*a,(this._5728*this._2505-this._11357*this._1231)*a);this.setMatrix(a);return this};n.transformVector=function(a){a={x:a.x,y:a.y};this.multiplyVector(a);return a};n.transformPoint=
function(a){a={x:a.x,y:a.y};this.multiplyPoint(a);return a};n.transformPoints=function(a){for(var h=0;h<a.length;h++)this.multiplyPoint(a[h])};n.transformRectangle=function(a){var h=[{x:a.x,y:a.y},{x:a.x+a.width,y:a.y+a.height}];this.transformPoints(h);a.x=h[0].x;a.y=h[0].y;a.width=h[1].x-h[0].x;a.height=h[1].y-h[0].y};n.multiplyVector=function(a){var h=a.y*this._216,f=a.x*this._5728;a.x*=this._1231;a.x+=h;a.y*=this._7827;a.y+=f};n.multiplyPoint=function(a){var h=a.y*this._216+this._2505,f=a.x*this._5728+
this._11357;a.x*=this._1231;a.x+=h;a.y*=this._7827;a.y+=f};n.rotate=function(a,h){var f=0,z=0;null!=h&&(f=h.x,z=h.y);f=d.multiplyMatrix(this,d._3039(b._10670(a%360),f,z));this.setMatrix(f)};n.rotatePrepend=function(a,h){var f=0,z=0;null!=h&&(f=h.x,z=h.y);f=d.multiplyMatrix(d._3039(b._10670(a%360),f,z),this);this.setMatrix(f)};n.setMatrix=function(a){this._1231=a._1231;this._5728=a._5728;this._216=a._216;this._7827=a._7827;this._2505=a._2505;this._11357=a._11357};n.translate=function(a,h){var f=new d(this._1231,
this._5728,this._216,this._7827,this._2505+a,this._11357+h);this.setMatrix(f)};n.translatePrepend=function(a,h){var f=d.multiplyMatrix(d._10386(a,h),this);this.setMatrix(f)};n.scale=function(a,h){var f=d.multiplyMatrix(this,d._1090(a,h));this.setMatrix(f)};n.scalePrepend=function(a,h){var f=d.multiplyMatrix(d._1090(a,h),this);this.setMatrix(f)};n.compareMatrix=function(a){return this._1231==a._1231&&this._5728==a._5728&&this._216==a._216&&this._7827==a._7827&&this._2505==a._2505&&this._11357==a._11357};
n._3252=function(){return{m11:this._1231,m12:this._5728,m21:this._216,m22:this._7827,offsetx:this._2505,offsety:this._11357}};null!=h?(this._1231=+h,this._5728=+f,this._216=+z,this._7827=+l,this._2505=+q,this._11357=+e):(this._1231=1,this._216=this._5728=0,this._7827=1,this._11357=this._2505=0)};d.multiplyMatrix=function(a,f){return new d(a._1231*f._1231+a._5728*f._216,a._1231*f._5728+a._5728*f._7827,a._216*f._1231+a._7827*f._216,a._216*f._5728+a._7827*f._7827,a._2505*f._1231+a._11357*f._216+f._2505,
a._2505*f._5728+a._11357*f._7827+f._11357)};d._6691=function(a){var f=new d;f.setMatrix(a);return f};d._1090=function(a,f){return new d(a,0,0,f,0,0)};d._3039=function(a,f,b){null==f&&(b=f=0);var l=Math.sin(a);a=Math.cos(a);if(1===l||-1===l)a=0;if(1===a||-1===a)l=0;return new d(a,l,-l,a,f*(1-a)+b*l,b*(1-a)-f*l)};d._10386=function(a,f){return new d(1,0,0,1,a,f)};WebImageCacheManagerJS=function(){function h(a,h){var f="";null==h&&(h=a.get_RenderingSettings());var b=h.gsi(a);if(null!=b&&!b.isEmpty()&&
b.iai(a)){var z=b.get_Resolution(),l=b.get_InterpolationMode(),d=b.get_SmoothingMode(),f=f+("Rs"+z.x+","+z.y+","+l.valueOf()+","+d.valueOf());"Pdf"===b.get_Type()&&(b.get_DrawNonMarkupAnnotations()||(f+="P0"))}return f}function f(a,h){var f="";null==h&&(h=a.get_DecodingSettings());null!=h&&h.get_IsColorManagementEnabled()&&(f+="Cm");return f}function b(a,h,f,z){null==a._3332[h]&&(a._3332[h]={});a._3332[h][f]=z}function l(h,f){for(;f>h._250;){var b=h._1151();if(null!=b){var z=h._272(b.data);h._10477(b.iKey,
b.cKey);f-=z}else a.pv.te("Error")}}function d(a,h,f){var b=!0;if(null!=a[h]){delete a[h][f];for(var z in a[h]){b=!1;break}b&&delete a[h]}}var e=WebImageCacheManagerJS.prototype;e.get_MaxCacheSize=function(){return this._250};e.set_MaxCacheSize=function(h){a.pv.n(h);0>h&&a.pv.te("Size must be positive.");if(this._250!==h){var f=this._250;this._250=h;if(0===h)this._3332={};else{if(0===f){h=Date.now();for(var d in this._1916)for(var q in this._1916[d])b(this,d,q,h)}d=this.get_CacheSize();l(this,d)}}};
e.get_CacheSize=function(){var a=0;if(null!=this._1916)for(var h in this._1916)a+=this._7543(h);return a};e.addImageData=function(h,f,d){null==d&&a.pv.te("Data can not be null.");this.containsImageData(h,f)&&a.pv.te("Cache manager already contains data with specified key.");h=h.get_Guid();var q=!1;if(0!=this._250){var e=this._272(d);e<=this._250&&(q=this.get_CacheSize(),l(this,q+e),q=!0,b(this,h,f,Date.now()))}else q=!0;q&&(null==this._1916[h]&&(this._1916[h]={}),this._1916[h][f]=d)};e.containsImageData=
function(h,f){a.pv.c(h,a.WebImageJS);a.pv.s(f);var b=h.get_Guid();return null!=this._1916[b]?null!=this._1916[b][f]:!1};e.getImageData=function(h,f){a.pv.c(h,a.WebImageJS);a.pv.s(f);var l=h.get_Guid();if(null!=this._1916[l]){var d=this._1916[l][f];null!=d&&0!==this._250&&b(this,l,f,Date.now());return d}};e.clear=function(){this._1916={};this._3332={}};e.contains=function(h){a.pv.c(h,a.WebImageJS);h=h.get_Guid();return null!=this._1916[h]};e.clearImageCache=function(h){a.pv.c(h,a.WebImageJS);h=h.get_Guid();
null!=this._1916[h]&&delete this._1916[h];null!=this._3332[h]&&delete this._3332[h]};e._1547=function(a,b,z,l,d,q){a="tlL"+a.x+","+a.y;a+="S"+z.x+","+z.y+"Sz"+b.width+","+b.height;a+=h(l,d);return a+=f(l,q)};e._10109=function(a,b,z,l,d){a="thS"+a+","+b+h(z,l);return a+=f(z,d)};e._10477=function(a,h){d(this._1916,a,h);d(this._3332,a,h)};e._7543=function(a){var h=0;if(null!=this._1916[a])for(var f in this._1916[a])h+=this._272(this._1916[a][f]);return h};e._272=function(a){return 2*a.length};e._1151=
function(){if(null!=this._3332){var a=Date.now(),h,f;for(f in this._3332){var b=this._5688(f);null!=b&&a>b.date&&(a=b.date,h=b)}return h}};e._5688=function(a){if(null!=this._3332[a]){var h=Date.now(),f="",b;for(b in this._3332[a]){var z=this._3332[a][b];z<h&&(h=z,f=b)}return{data:this._1916[a][f],iKey:a,cKey:f,date:h}}};this._2936=a.WebImagingEnviromentJS.guid();this._1916={};this._3332={};this._250=64E3};var b=function(){};b._10682=-3.402823E38;b._3593=function(a,f,b){if(0===b)return a;b=-b*Math.PI/
180;var l=Math.sin(b);b=Math.cos(b);var d=a.x-f.x;a=a.y-f.y;return{x:d*b+a*l+f.x,y:-d*l+a*b+f.y}};b._7714=function(a,f,b){if(0!=b){b*=-Math.PI/180;var l=Math.sin(b);b=Math.cos(b);for(var d,e,n=0;n<a.length;n++)d=a[n].x-f.x,e=a[n].y-f.y,a[n].x=d*b+e*l+f.x,a[n].y=-d*l+e*b+f.y}};b._10670=function(a){return Math.PI/180*a};b._7241=function(a){return a/Math.PI*180};b._384=function(a,f,b){for(var l=0;l<a.length;l++)a[l].x*=f,a[l].y*=b};b._11380=function(a,f){return Math.sqrt((a.x-f.x)*(a.x-f.x)+(a.y-f.y)*
(a.y-f.y))};b._478=function(a,f,z){null==f&&(f=0);null==z&&(z=a.length-1);for(var l=0;f<z;f++)l+=b._11380(a[f],a[f+1]);return l};b._1121=function(a,f){for(var b=0;b<a.length;b++)a[b].x+=f.x,a[b].y+=f.y};b._1979=function(a,f,b){a=Math.atan2(f.y-a.y,f.x-a.x)-Math.atan2(b.y-f.y,b.x-f.x);return Math.abs(180-Math.abs(180/Math.PI*a))};b._3686=function(a,f,b){a=Math.atan2(a.x-f.x,a.y-f.y);for(a=180*(b?1:0)+180-180*a/Math.PI;360<a;)a-=360;for(;0>a;)a+=360;return a};b._4781=function(a){for(;360<=a;)a-=360;
for(;0>a;)a+=360;return a};b._4331=function(h){(-360>=h||360<=h)&&a.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(h)-180))};b._1575=function(a){for(;0>a;)a+=360;for(;360<a;)a-=360;360==a&&(a=0);return a};b._1806=function(a,f){var b=0,l=0,d=f.x-a.x,e=f.y-a.y;0==d||0==e?0==d?l=0>e?-1:1:b=0>d?-1:1:(c=Math.sqrt(d*d+e*e),b=d/c,l=e/c);return{x:b,y:l}};b._2591=function(a,f){f=Math.asin(Math.max(-1,Math.min(1,0*a.x-1*a.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*a.x+1*a.y)));f=0<=f?beta:
2*Math.PI-beta;var b=Math.cos(f),l=Math.sin(f);return{x:b,y:l}};b._3952=function(a,f,b){return{x:a.x+f.x*b,y:a.y+f.y*b}};b._4468=function(a,f,b){var l=f.x-a.x,d=f.y-a.y;f=b.x-a.x;a=b.y-a.y;var e=Math.sqrt(l*l+d*d);b=Math.sqrt(f*f+a*a);if(.01>e||.01>b)return 0;l/=e;d/=e;f/=b;b=a/b;a=Math.asin(Math.max(-1,Math.min(1,l*b-f*d)));f=Math.acos(Math.max(-1,Math.min(1,l*f+d*b)));return 0<=a?f:2*Math.PI-f};b._6951=function(a,f,b){return{x:a.x+b*(f.x-a.x),y:a.y+b*(f.y-a.y)}};b._5439=function(a,f,d){d=b._8929(a,
f,d);var l=b._11380(a,d),q=b._11380(f,d),e=b._11380(a,f);return l<=e&&q<=e?d:l<q?a:f};b._8929=function(a,f,b){if(a.x==f.x)return f=a.x,a=b.y,{x:f,y:a};if(a.y==f.y)return f=b.x,a=a.y,{x:f,y:a};var l=(f.y-a.y)/(f.x-a.x);f=(b.x/l+b.y-(-l*a.x+a.y))/(l+1/l);a=-1/l*(f-b.x)+b.y;return{x:f,y:a}};b._5214=function(a,f){var d=f.y-a.y;if(0==d)return 0;var l=f.x-a.x;return 0==l?90:0<d?b._7241(Math.atan2(d,l)):b._7241(Math.atan2(-d,-l))};b._9928=function(a,f){var b=Math.asin(Math.max(-1,Math.min(1,a.x*f.y-f.x*
a.y))),l=Math.acos(Math.max(-1,Math.min(1,a.x*f.x+a.y*f.y)));return 0<=b?l:2*Math.PI-l};b._8122=function(a,f,b,l){return{x:(a.x+f.x+b.x+l.x)/4,y:(a.y+f.y+b.y+l.y)/4}};b._8105=function(a){return{x:a.x+a.width/2,y:a.y+a.height/2}};b._11170=function(a){if(0==a.length)return b._3842();for(var f=a[0].x,d=f,l=a[0].y,q=l,e=1;e<a.length;e++){var n=a[e].x,A=a[e].y;f>n?f=n:d<n&&(d=n);l>A?l=A:q<A&&(q=A)}return{x:f,y:l,width:d-f,height:q-l}};b._10815=function(a){a=b._11170(a);return b._8105(a)};b._8999=function(a){return[{x:a.x,
y:a.y},{x:a.x,y:a.y+a.height},{x:a.x+a.width,y:a.y+a.height},{x:a.x+a.width,y:a.y}]};b._9909=function(a,f){for(var b=[],l=0,d=a.length;l<d-1*!f;l++){var e=[a[l-1],a[l],a[l+1],a[l+2]];f?l?d-2==l?e[3]=a[0]:d-1==l&&(e[2]=a[0],e[3]=a[1]):e[0]=a[d-1]:d-2==l?e[3]=e[2]:l||(e[0]=a[l]);b.push([{x:(-e[0].x+6*e[1].x+e[2].x)/6,y:(-e[0].y+6*e[1].y+e[2].y)/6},{x:(e[1].x+6*e[2].x-e[3].x)/6,y:(e[1].y+6*e[2].y-e[3].y)/6},{x:e[2].x,y:e[2].y}])}return b};b._2100=function(a){var f=a.y-Math.floor(a.y);return{x:Math.floor(a.x),
y:Math.floor(a.y),width:parseInt(a.width+1+(a.x-Math.floor(a.x))),height:parseInt(a.height+1+f)}};b._3187=function(a,f){var b=Math.max(a.x,f.x),l=Math.min(a.x+a.width,f.x+f.width),d=Math.max(a.y,f.y),e=Math.min(a.y+a.height,f.y+f.height);return l>=b&&e>=d};b._6314=function(a,f){var d=Math.max(a.x,f.x),l=Math.min(a.x+a.width,f.x+f.width),e=Math.max(a.y,f.y),s=Math.min(a.y+a.height,f.y+f.height);return l>=d&&s>=e?{x:d,y:e,width:l-d,height:s-e}:b._3842()};b._385=function(a,f){var b=Math.min(a.x,f.x),
l=Math.max(a.x+a.width,f.x+f.width),d=Math.min(a.y,f.y),e=Math.max(a.y+a.height,f.y+f.height);return{x:b,y:d,width:l-b,height:e-d}};b._6514=function(a,f,d){a=b._8999(a);b._7714(a,d,f);return a};b._9123=function(a,f){return a==f?0:a<f?-1:1};b._2470=function(a,f,d,l,e,s){var n=[],A=[],v=b._11380(a,f)+b._11380(f,d)+b._11380(d,l),t=!1;null==s?s=e:(t=!0,e*=e);v=s/v;s*=s;n.push(a);A.push(0);for(var B,H=a,E=0;1>E;){var u,F=E+v;for(1<F&&(F=1);;)if(u=b._6965(a,f,d,l,F),B=b._6784(H,u),B<=s){if(!t)break;if(B>=
e||1<=F)break;else F+=(F-E)/2}else F=E+(F-E)/2;n.push(u);A.push(F);H=u;E=F}return{points:n,times:A}};b._8594=function(a,f,d){for(var l=[],e=0;e<f.length;e++)for(var s=b._2470(a[e],f[e][0],f[e][1],f[e][2],d).points,n=0;n<s.length;n++)l.push(s[n]);return l};b._6965=function(a,f,b,d,e){return{x:(1-e)*(1-e)*(1-e)*a.x+3*e*(1-e)*(1-e)*f.x+3*e*e*(1-e)*b.x+e*e*e*d.x,y:(1-e)*(1-e)*(1-e)*a.y+3*e*(1-e)*(1-e)*f.y+3*e*e*(1-e)*b.y+e*e*e*d.y}};b._3842=function(){return{x:0,y:0,width:0,height:0}};b._11395=function(a){return 0===
a.x&&0===a.y&&0===a.width&&0===a.height};b._1709=function(a){return 0===a.x&&0===a.y};b._9182=function(a){return 0===a.width&&0===a.height};b._464=function(a,f){return a===f?!0:a.x===f.x&&a.y===f.y&&a.width===f.width&&a.height===f.height};b._1094=function(a){var f=Math.min(a.x,a.x+a.width),b=Math.min(a.y,a.y+a.height),d=Math.max(a.x,a.x+a.width);a=Math.max(a.y,a.y+a.height);return{x:f,y:b,width:d-f,height:a-b}};b._3443=function(a,f,d){for(var l=0;l<f.length-1;l++){var e=b._5439(f[l],f[l+1],a);if(b._11380(a,
e)<=d)return!0}return!1};b._6784=function(a,f){var b=a.x-f.x,d=a.y-f.y;return b*b+d*d};b._8046=function(a,f,d){var l=360-b._7241(b._4468(f,a,d));a=b._11380(a,f);a+=b._11380(f,d);return 180<=l?-a:a};b._10726=function(a,f){return{x:(a.x+f.x)/2,y:(a.y+f.y)/2}};b._8049=function(a,f,d,l){var e=b._10726(a,f),s=b._5214(a,f);a=b._3593(a,e,-s);f=b._3593(f,e,-s);var n=a.x,A=a.y;a=f.x;f=f.y;var v=Math.sqrt(Math.pow(n-a,2)+Math.pow(A-f,2));if(0===v||v>d+d)return{x:0,y:0};d/=v;var t=Math.sqrt(d*d-.25);d=n+.5*
(a-n);v=A+.5*(f-A);A=(A-f)*t;n=(n-a)*t;l=l?{x:d+A,y:v+n}:{x:d-A,y:v-n};return l=b._3593(l,e,s)};b._4946=function(a){var f=[];if(0<a.length){f.push(a[0]);for(var b=1;b<a.length;b++)a[b].x==a[b-1].x&&a[b].y==a[b-1].y||f.push(a[b]);1!=f.length&&f[0].x==f[f.length-1].x&&f[0].y==f[f.length-1].y&&f.splice(f.length-1,1)}return f};b._1752=function(a){var f=0;if(2<a.length){for(var d=a[0],l,e,s=1;s<a.length;s++)l=a[s],e=s==a.length-1?a[0]:a[s+1],f+=b._8046(d,l,e),d=l;f+=b._8046(d,a[0],a[1])}return 0<=f};b._2548=
function(a){if(4>a.length)return a;for(var f=1,d=[],l=0;l<a.length;l++)d.push(0);for(var e=a[0].x,s=a[0].y,n=0,l=1;l<a.length;l++){var A=a[l].y;if(s<A||s==A&&e<a[l].x)e=a[l].x,s=A,n=l}e=a[n];s=[];for(l=0;l<a.length;l++)s.push(0);for(var v=0,t=3,n=e,B={x:n.x+1,y:n.y},H,E;;){H=n.x-B.x;E=n.y-B.y;for(var u=H*H+E*E,l=0;l<a.length;l++)if(0==d[l]){var F=a[l].x,A=a[l].y;H=n.x-F;E=n.y-A;var x=H*H+E*E;H=B.x-F;E=B.y-A;A=(u+x-(H*H+E*E))/Math.sqrt(u*x);A<t?(t=A,v=1,s[0]=l):A==t&&(s[v++]=l)}if(1<v)for(A=s[v-1],
B=b._6784(n,a[A]),l=v-2;0<=l;l--)v=b._6784(n,a[s[l]]),v>B&&(B=v,A=s[l]);else A=s[0];B=n;n=a[A];if(n.x==e.x&&n.y==e.y)break;d[A]=f;f++;v=0;t=3}f=[];f[0]=e;for(l=0;l<a.length;l++)0!=d[l]&&(f[d[l]]=a[l]);return f};b._4848=function(a,f,d,l){a=[a,f,d,l];f=b._2548(a);if(4!=f.length)return!1;for(d=0;d<f.length;d++)if(a[0].x===f[d].x&&a[0].y===f[d].y){for(l=0;4>l;l++,d=3==d?0:d+1)if(a[l].x!==f[d].x||a[l].y!==f[d].y)return!1;break}return!0};b._7498=function(a,f,d,l,e){return b._996(d,a,f,e)||b._996(d,l,f,
e)};b._996=function(a,f,b,d){var e=(d.x-f.x)*(a.y-f.y)+(d.y-f.y)*(f.x-a.x);f=(d.x-b.x)*(f.y-b.y)+(d.y-b.y)*(b.x-f.x);a=(d.x-a.x)*(b.y-a.y)+(d.y-a.y)*(a.x-b.x);return 0>e&&0>f&&0>a||0<e&&0<f&&0<a||e<Number.EPSILON&&f<Number.EPSILON&&a<Number.EPSILON};b._1997=function(a,f,b){return(b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y)<=f*f};b._10449=function(a,f){return f.x>=a.x&&f.x<=a.x+a.width&&f.y>=a.y&&f.y<=a.y+a.height};b._8799=function(a,f,d){if(0==d.width||0==d.height)return f;var l;l=d.width/2;d=d.height/
2;a=b._10670(a%360);a=Math.atan2(l*Math.sin(a),d*Math.cos(a));l*=Math.cos(a);d*=Math.sin(a);return{x:l+f.x,y:d+f.y}};b._4396=function(a,f){var b=a.length,d,e,s=!1;d=0;for(e=b-1;d<b;e=d++)a[d].y>f.y!=a[e].y>f.y&&f.x<(a[e].x-a[d].x)*(f.y-a[d].y)/(a[e].y-a[d].y)+a[d].x&&(s=!s);return s};b._9244=function(a,f){return b._3108({x:a.x,y:a.y},f)||b._3108({x:a.x+a.width,y:a.y},f)||b._3108({x:a.x,y:a.y+a.height},f)||b._3108({x:a.x+a.width,y:a.y+a.height},f)||b._3879(a,f[0],f[1])||b._3879(a,f[2],f[3])||b._3879(a,
f[0],f[3])||b._3879(a,f[1],f[2])?!0:!1};b._3879=function(a,f,d){var e=Math.min(a.x,a.x+a.width),q=Math.min(a.y,a.y+a.height),s=Math.max(a.x,a.x+a.width);a=Math.max(a.y,a.y+a.height);f={x:f.x,y:f.y};d={x:d.x,y:d.y};var n,A,v,t;n=b._10764(f,e,q,s,a);for(A=b._10764(d,e,q,s,a);0!=n||0!=A;){if(0!=(n&A))return!1;0!=n?(v=n,t=f):(v=A,t=d);0!=(v&1)?(t.y+=(f.y-d.y)*(e-t.x)/(f.x-d.x),t.x=e):0!=(v&2)&&(t.y+=(f.y-d.y)*(s-t.x)/(f.x-d.x),t.x=s);0!=(v&4)?(t.x+=(f.x-d.x)*(q-t.y)/(f.y-d.y),t.y=q):0!=(v&8)&&(t.x+=(f.x-
d.x)*(a-t.y)/(f.y-d.y),t.y=a);0!=n?f=t:d=t;v==n?n=b._10764(f,e,q,s,a):A=b._10764(d,e,q,s,a)}return!0};b._10764=function(a,f,b,d,e){return(a.x<f?1:0)+(a.x>d?2:0)+(a.y<b?4:0)+(a.y>e?8:0)};b._5425=function(a,f){var d=a[1],e=a[3],q=b._6784(a[0],a[2]),d=b._6784(d,e);return Math.abs(q-d)<Math.max(q,d)*f};b._7251=function(a){a=b._2548(a);if(2>=a.length)return a;for(var f=[],d=Number.MAX_VALUE,e=0;e<a.length;e++){for(var q=a[e],s=e<a.length-1?a[e+1]:a[0],s=b._5471(q,s,a),q=s[0],s=s[1],n={x:0,y:0},A=0,v=0;v<
a.length;v++){var t=b._11380(a[v],b._8929(q,s,a[v]));t>A&&(n=a[v],A=t)}A*=b._11380(q,s);A<d&&(f[0]=q,f[1]=s,d=A,A=b._3952(n,b._1806(q,s),1),f[2]=b._8929(n,A,s),f[3]=b._8929(n,A,q))}return f};b._8931=function(a){for(var f=a[0][3],d=a[0][2],e=b._3952(f,b._1806(f,d),1E5),q={x:0,y:0},s={x:0,y:0},n,A=Number.MAX_VALUE,v=0,t,B=0;B<a.length;B++)for(var H=a[B],E=0;E<H.length;E++)n=b._8929(f,d,H[E]),t=b._6784(e,n),t>v&&(v=t,q=n),t<A&&(A=t,s=n);f=a[0][0];d=a[a.length-1][1];B=b._8929(f,d,q);f=b._8929(f,d,s);
q=[B,f,s,q];if(b._5425(q,1E-4))return q;s=[];for(B=0;B<a.length;B++)s=s.concat(a[B]);a=b._7251(s);return 4!=a.length?q:[a[0],a[3],a[2],a[1]]};b._3108=function(a,f){return b._7498(f[0],f[1],f[3],f[2],a)};b._5471=function(a,f,d){for(var e=b._8929(a,f,d[0]),q=b._7220(a,f,a,e),s={x:e.x,y:e.y},n=q,A=1;A<d.length;A++){var v=b._8929(a,f,d[A]),t=b._7220(a,f,a,v);t<q&&(q=t,e=v);t>n&&(n=t,s=v)}return[e,s]};b._7220=function(a,f,d,e){var q=b._11380(d,e);a=b._1806(a,f);d=b._1806(d,e);b._1232(a,d)>Math.PI/2&&(q=
-q);return q};b._1232=function(a,f){var b=a.x*f.x+a.y*f.y;1<b?b=1:-1>b&&(b=-1);return Math.acos(b)};b._746=function(b){for(var f=[],d=0;d<b.length;d++)f.push(a.cloneObject(b[d]));return f};b._9711=function(a,f,b){if(a===f)return!0;if(a.length!==f.length)return!1;null==b&&(b=function(a,f){return a===f});for(var d=0;d<a.length;d++)if(!b(a[d],f[d]))return!1;return!0};e.WebMatrixJS=d;e.WebImageCacheManagerJS=WebImageCacheManagerJS;e._4868=b})(w.Utils);w.WebBorderColorTypeEnumJS=a.EnumGenerator.create([{AutoDetect:0},
{Black:1},{White:2},{Transparent:3},{Custom:4}],!1);w.WebRotateFlipTypeEnumJS=a.EnumGenerator.create([{RotateNoneFlipNone:0},{RotateNoneFlipX:1},{RotateNoneFlipY:2},{RotateNoneFlipXY:3},{Rotate90FlipNone:4},{Rotate90FlipX:5},{Rotate90FlipY:6},{Rotate90FlipXY:7},{Rotate180FlipNone:8},{Rotate180FlipX:9},{Rotate180FlipY:10},{Rotate180FlipXY:11},{Rotate270FlipNone:12},{Rotate270FlipX:13},{Rotate270FlipY:14},{Rotate270FlipXY:15}],!1);w.WebBinarizationModeEnumJS=a.EnumGenerator.create([{Threshold:0},{Global:1},
{Adaptive:2},{Halftone:3}],!1);w.WebBorderRemovalColorTypeEnumJS=a.EnumGenerator.create([{Auto:0},{Black:1},{White:2},{DetectBorderColorForEachSide:3}],!1);w.WebImageSideEnumJS=a.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Top:4},{Bottom:8},{All:15}],!0);w.WebImageProcessingDirectionEnumJS=a.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!0);w.WebColorChannelEnumJS=a.EnumGenerator.create([{R:1},{G:2},{B:4},{RGB:7},{A:8},{RGBA:15}],!0);w.WebLuminanceComputationModeEnumJS=a.EnumGenerator.create([{Standard:0},
{Sum:1}],!1);w.WebDesaturateMethodEnumJS=a.EnumGenerator.create([{Lightness:0},{Luminosity:1},{Average:2}],!1);w.WebImageSizeModeEnumJS=a.EnumGenerator.create([{FitToWidth:0},{FitToHeight:1},{BestFit:2},{Zoom:3},{Normal:4},{PixelToPixel:5}],!1);w.WebThumbnailFlowStyleEnumJS=a.EnumGenerator.create([{SingleColumn:1},{SingleRow:2},{WrappedRows:3},{FixedColumns:4}],!1);w.WebThumbnailScaleEnumJS=a.EnumGenerator.create([{Smallest:50},{Small:75},{Normal:100},{Large:150}],!1);w.WebPaletteTypeEnumJS=a.EnumGenerator.create([{Adaptive:0},
{Web:1}],!1);w.WebColorQuantizationMethodEnumJS=a.EnumGenerator.create([{FastPopularity:0},{AdvancedPopularity:1},{FastMedianCut:2},{AdvancedMedianCut:3}],!1);w.WebNoiseTypeEnumJS=a.EnumGenerator.create([{Perlin:0},{NegativeExponential:1},{Rayleigh:2},{Uniform:3},{Gaussian:4}],!1);w.WebBlendingModeEnumJS=a.EnumGenerator.create([{Normal:0},{Multiply:1},{Screen:2},{Overlay:3},{Darken:4},{Lighten:5},{ColorDodge:6},{ColorBurn:7},{HardLight:8},{SoftLight:9},{Difference:10},{Exclusion:11},{Hue:12},{Saturation:13},
{Color:14},{Luminosity:15},{Brightness:32},{Contrast:33},{Gamma:34},{Min:35},{Max:36},{Sum:37},{Sub:38},{Division:39}],!1);w.WebColorSpaceTypeEnumJS=a.EnumGenerator.create([{Unsupported:0},{Gray:1},{sRGB:2},{CMYK:3},{CMY:4},{CIELab:5},{CIEXYZ:6},{CIEYxy:7},{CIELUV:8},{PCSLab:9},{PCSXYZ:10},{YCbCrK:11},{YCbCr:12},{HSV:13},{HLS:14}],!1);w.WebHistogramTypeEnumJS=a.EnumGenerator.create([{Luminosity:1},{Red:2},{Green:4},{Blue:8},{Rgb:14},{All:15}],!0);w.WebColorBaseJSTypeEnumJS=a.EnumGenerator.create([{Indexed:0},
{Gray16:1},{RGB555:2},{RGB565:3},{RGB24:4},{ARGB32:5},{RGB48:6},{ARGB64:7}],!1);w.WebFrequencyFilterTypeEnumJS=a.EnumGenerator.create([{Ideal:0},{Butterworth:1},{Gaussian:2}],!1);w.WebImageLayoutDirectionEnumJS=a.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!1);w.WebImageViewerDisplayModeEnumJS=a.EnumGenerator.create([{SinglePage:1},{SingleContinuousColumn:2},{SingleContinuousRow:3},{TwoColumns:4},{TwoRows:5},{TwoContinuousColumns:6},{TwoContinuousRows:7},{ThreeColumns:8},{ThreeRows:9},{ThreeContinuousColumns:10},
{ThreeContinuousRows:11},{Custom:12}],!1);w.WebImageViewerMultipageDisplayModeEnumJS=a.EnumGenerator.create([{AllImages:1},{FixedImages:2}],!1);w.WebImageAnchorTypeEnumJS=a.EnumGenerator.create([{None:0},{Top:1},{Bottom:2},{Left:4},{Right:8},{Center:15},{TopLeft:5},{TopRight:9},{BottomLeft:6},{BottomRight:10}],!0);w.WebImageCompareOperatorEnumJS=a.EnumGenerator.create([{Difference:0},{AvgDifference:1},{MaxDifference:2},{MinDifference:3}],!1);w.WebOverlayBinaryOperationTypeEnumJS=a.EnumGenerator.create([{Replace:0},
{OR:1},{AND:2},{XOR:4},{ORSourceNOT:65},{OROverlayNOT:129},{ORSourceNOTOverlayNOT:193},{ANDSourceNOT:66},{ANDOverlayNOT:130},{ANDSourceNOTOverlayNOT:194},{XORSourceNOT:68},{XOROverlayNOT:132},{XORSourceNOTOverlayNOT:196},{SourceNOT:64},{OverlayNOT:128}],!0);w.WebMouseButtonsEnumJS=a.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Middle:4},{Fourth:8},{Fifth:16}],!0);w.WebTextSelectionModeEnumJS=a.EnumGenerator.create([{Rectangle:0},{UseFullLines:1}],!1);w.WebTextSearchModeEnumJS=a.EnumGenerator.create([{CurrentPage:0},
{AllPages:1}],!1);var ob=function(e){function d(a){var f=a._frame.contentDocument||a._frame.contentWindow.document,d=f.body,e=d.style;e.margin=0;e.padding=0;e.width="100%";e.height="100%";for(e=0;e<a._4893.length;e++){var h=f.createElement("img");h.id=a._4893[e].get_Guid();var z=h.style;z.maxWidth="100%";z.maxHeight="100%";z.margin=0;z.padding=0;z.width="auto";z.height="auto";h.onload=function(){for(var f=this.id,d=0;d<a._4893.length;d++)a._4893[d].get_Guid()===f&&console.log("Loaded for #",d);b(a)};
d.appendChild(h);e<a._4893.length-1&&(h=f.createElement("p"),h.style.pageBreakAfter="always",h.style.margin=0,h.className="pageBreak",d.appendChild(h))}a._initializationFinished=!0;$(a).triggerHandler("_4456")}function b(a){a._ready++;a._ready===a._4893.length&&($(a).triggerHandler("beginPrint"),a._aborted||(a._frame.contentWindow.focus(),a._frame.contentWindow.print()),setTimeout(function(){$(a._frame).remove()},6E3),$(a).triggerHandler("endPrint"))}var h=ob.prototype;h.imagesPreparationFailed=function(a,
f){};h.imagePrepared=function(a){};h.beginPrint=function(a){};h.endPrint=function(a){};h._4456=function(a){};h.print=function(){function a(){for(var b=0;b<f._4893.length&&!f._aborted;b++){var d=f._2953(b);null!=d&&f._6475.push(d)}}var f=this;if(f._4456)a();else $(f).one("_4456",a)};h.abort=function(){this._6510()};h._2953=function(a){var f=this;return this._4893[a].getImageAsBase64String(function(a){f._7784(a.image.get_Guid(),a.fileId)},function(a){if("abort"!==a.statusText)if(null!=a.errorMessage)f._6510(a.errorMessage);
else{var b;a.responseJSON&&(b=a.responseJSON.ExceptionMessage);f._6510(b)}})};h._6510=function(a){this._aborted=!0;for(var f=0;f<this._6475.length;f++){var b=this._6475[f].object;1!==b.readyState&&2!==b.readyState||b.abort()}this._6475=[];$(this._frame).remove();null!=a&&$(this).triggerHandler("imagesPreparationFailed",a)};h._7784=function(a,f){$(this).triggerHandler("imagePrepared");if(!this._aborted){var b=$(this._frame).contents().find("#"+a)[0];null!=b&&(b.src=f)}};a.pv.ac(e,a.WebImageJS);var f=
this;f._4893=e;f._ready=0;f._frame=null;f._aborted=!1;f._initializationFinished=!1;f._6475=[];e=document.createElement("iframe");e.id=a.WebImagingEnviromentJS.guid();e.src="";f._frame=e;var z=e.style;z.position="absolute";z.width=1;z.height=1;z.margin=0;z.left="-1000px";z.top="-1000px";document.body.appendChild(e);setTimeout(function(){d(f)},0);delete h.imagesPreparationFailed;delete h.imagePrepared;delete h.beginPrint;delete h.endPrint;delete h._4456};a.WebServiceJS.defaultFileService=-1;VintasoftFileAPI=
function(){};VintasoftFileAPI.uploadImageFile=function(e,d,b,h){h=qa(h);a.pv.c(e,File);var f=new FormData;f.append("file",e);e=new a.WebRequestJS("UploadImageFile",d,b,{contentType:!1,processData:!1,data:f});return h.sendRequest(e)};VintasoftFileAPI.uploadImageFiles=function(e,d,b,h){h=qa(h);a.pv.ac(e,File);for(var f=new FormData,z=0;z<e.length;z++)f.append("files",e[z]);e=new a.WebRequestJS("UploadImageFiles",d,b,{contentType:!1,processData:!1,data:f});return h.sendRequest(e)};VintasoftFileAPI.uploadBase64Image=
function(e,d,b,h,f){var z;a.pv.isf(d)?(z=d,f=h,d=null):(z=b,b=h);f=qa(f);a.pv.s(e);null!=d&&a.pv.s(d);""===d&&(d=null);e={imageAsBase64String:e};null!=d&&(e.fileName=d);d=new a.WebRequestJS("UploadBase64Image",z,b,{data:e});return f.sendRequest(d)};VintasoftFileAPI.uploadBase64Images=function(e,d,b,h,f){var z;a.pv.isf(d)?(z=d,f=h,d=null):(z=b,b=h);f=qa(f);a.pv.ad(e,a.pv.s);null!=d&&a.pv.s(d);""===d&&(d=null);e={imagesAsBase64Strings:e};null!=d&&(e.fileName=d);d=new a.WebRequestJS("UploadBase64Images",
z,b,{data:e});return f.sendRequest(d)};VintasoftFileAPI.downloadImageFile=function(e,d,b,h){h=qa(h);a.pv.iss(e)?e={id:e,password:""}:(void 0==e.id&&a.pv.te("fileId.id parameter cannot be undefined"),a.pv.iss(e.id)||a.pv.te("fileId.id parameter must be a string"));var f=e.id.split("/").pop();null==f&&(f=e.id);var z=new XMLHttpRequest;z.onload=function(a){a=this.response;if(200==this.status){var e=this.getAllResponseHeaders(),h=f,e=e.match(/filename=(.+);/);null!=e&&2<=e.length&&(h=e[1]);d&&d({blob:a,
filename:h,xmlHttpRequest:this})}else 500==this.status&&(h=this.statusText,""===h?(h=new FileReader,$(h).on("loadend",function(a){b&&b({errorMessage:this.result})}),h.readAsText(a)):b&&b({errorMessage:h}))};z.onerror=b;e={fileId:e.id,password:e.password,sessionId:ca.Shared.WebImagingEnviromentJS.get_SessionId()};var l=h.get_ServiceRoute();a.pv.ic(h,a.WebServiceControllerJS)?(z.open("POST",l+"/DownloadImageFile",!0),z.setRequestHeader("Content-type","application/json"),e=JSON.stringify(e)):(z.open("POST",
l,!0),z.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e="action=DownloadImageFile&requestParams="+JSON.stringify(e));z.responseType="arraybuffer";z.responseType="blob";return z.send(e)};VintasoftFileAPI.copyFile=function(e,d,b,h){h=qa(h);a.pv.s(e);e=new a.WebRequestJS("CopyFile",d,b,{data:{fileId:e}});return h.sendRequest(e)};VintasoftFileAPI.authenticateFile=function(e,d,b,h,f){f=qa(f);a.pv.s(e,d);d=new a.WebRequestJS("AuthenticateFile",function(a){a.fileId=e;b&&b(a)},function(a){a.fileId=
e;h&&h(a)},{data:{fileId:e,password:d}});return f.sendRequest(d)};var lb=function(e,d){var b=lb.prototype;b.get_BackgroundStyle=function(){return this._5329};b.get_BorderStyle=function(){return this._1098};b.equals=function(b){return this===b?!0:a.pv.ic(b,lb)?b._1098===this._1098&&b._5329===this._5329:!1};b._6876=function(){var a="background:"+this._5329+";",a=a+("border:"+this._1098+";"),a=a+("margin-left:-"+this._8895+"px;"),a=a+("margin-top:-"+this._8895+"px;");return a+="box-sizing: content-box;-webkit-box-sizing: content-box;"};
a.pv.s(e,d);this._5329=e;this._1098=d;this._8895=function(a){a=a.split(" ");for(var f,b=0;b<a.length;b++)if(f=parseInt(a[b]),!isNaN(f))return 0<f?f:0;if(isNaN(f))return 0}(this._1098)},Ca=function(e,d,b){var h=Ca.prototype;h.changed=function(a){};h.get_BackColor=function(){return this._2835};h.set_BackColor=function(f){a.pv.s(f);this._2835!==f&&(this._2835=f,this._4073())};h.get_BorderColor=function(){return this._7427};h.set_BorderColor=function(f){a.pv.s(f);this._7427!==f&&(this._7427=f,this._4073())};
h.get_BorderWidth=function(){return this._1920};h.set_BorderWidth=function(f){a.pv.n(f);0>f&&a.pv.toe();this._1920!==f&&(this._1920=f,this._4073())};h.equals=function(f){return a.pv.ic(f,Ca)?this._2835===f._2835&&this._7427===f._7427&&this._1920===f._1920&&this._1098===f._1098:!1};h.clone=function(){return new Ca(this._2835,this._7427,this._1920,this._1098)};h._4073=function(a){$(this._7010).triggerHandler("changed",a);$(this).triggerHandler("changed",a)};this._2835="rgba(255,255,255,0)";this._7427=
"rgba(0,0,0,1)";this._1920=0;this._1098="solid";this._7010={};null!=e&&(a.pv.s(e,d),this._2835=e,this._7427=d,a.pv.n(b),0>b&&a.pv.toe(),this._1920=b);delete h.changed},Da=function(e,d){var b=Da.prototype;b.get_ActionSource=function(){return this._9963};b.get_IsValid=function(){return!0};b.get_Source=function(){return this._4542};b.get_SourceItems=function(){return null};b.get_CurrentState=function(){return this._7370};b.set_CurrentState=function(a){this._7370=a};b.dispose=function(){null!=this._7370&&
a.pv.isf(this._7370.dispose)&&this._7370.dispose()};b.toString=function(){return null==this._4542?"":null==this._9963?this._4542.toString()+" (original)":this._4542.toString()+": "+this._9963};b.undo=function(){a.pv.tne()};b._8718=function(a){this._4542=a};b._11105=function(a,f){if(null!=this._7924)for(var b=Math.min(a.length,f.length),d=0;d<b;d++)this._9453(a[d],f[d])};b._9453=function(a,f){};b._5956=function(a){this._7370=a};this._9963=d;this._4542=e;this._7924=this._7370=null;this._2936=a.WebImagingEnviromentJS.guid()},
la=function(a){var d=la.superclass;d.constructor.call(this,null,a);a=la.prototype;a.toString=function(){return null==this._9963?d.toString.call(this):this._9963.toString()};a.undo=function(){}};a.extend(la,Da);var G=function(e){var d=G.superclass;d.constructor.call(this,e);var b=G.prototype;b.get_IsValid=function(){if(0==this._4634.length)return!0;for(var a=0;a<this._4634.length;a++)if(this._4634[a].get_IsValid())return!0;return!1};b.getActions=function(){this._479();return this._4634};b.dispose=
function(){d.dispose.call(this);for(var a=0;a<this._4634.length;a++)this._4634[a].dispose()};b.toString=function(){return null!=this._9963?this._9963.toString():d.toString.call(this)};b.undo=function(){};b._7189=function(b){this._479();if(null==b){if(0!==this._4634.length)return b=this._4634[this._4634.length-1],a.pv.ic(b,G)&&(b=b._7189()),b}else for(var f=this._4634.length-1;0<=f;f--)if(a.pv.ic(this._4634[f],G)){var d=this._4634[f]._7189(b);if(null!=d)return d}else if(this._4634[f]._4542==b)return this._4634[f]};
b._11194=function(a,f){this._479();if(0<this._4634.length){var b=this._4634[this._4634.length-1];if(b._4542==a._4542&&null!=f){var d=f.clone();b._5956(d)}}null!=a&&null==a._7370&&null!=a._4542&&(d=a._4542.clone(),a._5956(d));this._4634.push(a)};b._1399=function(b){this._479();for(var f=0;f<this._4634.length;f++)if(a.pv.ic(this._4634[f],G)){if(this._4634[f]._1399(b))return!0}else if(this._4634[f]==b)return!0;return!1};b._5224=function(){var b=[];this._479();for(var f=0;f<this._4634.length;f++)a.pv.ic(this._4634[f],
G)?b.addRange(this._4634[f]._5224()):b.push(this._4634[f]);return b};b._479=function(){for(var a=this._4634.length-1;0<=a;a--)this._4634[a].get_IsValid()||this._4634.splice(a,1)};this._4634=[];this._9963=e;this._4542=null};a.extend(G,Da);var ra=function(){function e(b,d){for(var f=0;f<b._4634.length;f++){var z=b._4634[f];if(z===d||a.pv.ic(z,G)&&e(z,d))return!0}return!1}var d=ra.prototype;d.changing=function(a,d){};d.changed=function(a,d){};d.navigated=function(a,d){};d.get_IsInitializing=function(){return 0!=
this._387};d.get_IsCompositeActionStarted=function(){return 0!==this._757.length};d.get_IsEnabled=function(){return this._3461};d.set_IsEnabled=function(b){a.pv.b(b);(this._3461=b)&&this._479()};d.get_UndoLevel=function(){return this._1889-1};d.set_UndoLevel=function(b){a.pv.n(b);1>b&&a.pv.te("Undo level cannot be less than 1.");b+=1;if(this._1889>b){var d=Math.min(this._1889,this._4634.length)-b;if(0<d){var f=this._1780,e=[],l=[];if(0<this._4634.length-this._1780){for(var q=Math.min(this._4634.length-
this._1780-1,d),s=this._4634.length-q,n=0;n<q;n++)l.push(s+n),e.push(this._4634[s+n]);d-=q}if(0<d){for(n=0;n<d;n++)l.push(n),e.push(this._4634[n]);f-=d}d={type:"removeActions",actions:e.slice()};this._7926(d);for(n=l.length-1;0<=n;n--)s=l[n],this._4634[s].dispose(),this._4634.splice(s,1);this._1780=f;f={type:"removeActions",actions:e.slice()};this._6110(f)}}this._1889=b};d.get_UndoCount=function(){var a=this.get_CurrentActionIndex();return 1>a?0:a};d.get_UndoDescription=function(){var a=this.get_CurrentActionIndex();
return 0==this.get_UndoCount()||-1==a?"":this._4634[a].toString()};d.get_RedoCount=function(){this._479();return this._4634.length-this._1780-1};d.get_RedoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||-1==a?"":this._4634[a+1].toString()};d.get_CurrentActionIndex=function(){this._479();return this._1780};d.set_CurrentActionIndex=function(b){this._3461&&!this.get_IsInitializing()&&(this._479(),0>b&&a.pv.te("Index of current undo action cannot be less than 0."),
b>this._4634.length&&a.pv.te("Index of current undo action cannot be greater than "+this._4634.length+"."),this.set_CurrentAction(this._4634[b]))};d.get_CurrentAction=function(){var a=this.get_CurrentActionIndex();return-1==a?null:this._4634[a]};d.set_CurrentAction=function(a){if(this._3461&&!this.get_IsInitializing()&&a.get_IsValid()){this._479();var d=this._1780;this._2605(a);this._1780=this._4634.indexOf(a);this._9593(this._1780-d)}};d._4270=function(){return this._2936};d._9072=function(){this._479();
return 0==this.get_UndoCount()||-1==this._1780?null:this._4634[this._1780-1]};d._5743=function(){return this._4634.length};d.beginInit=function(){this._387++};d.endInit=function(){0==this._387&&a.pv.tie();this._387--};d.containsActionForSourceObject=function(b){for(var d=Math.min(this._1780+1,this._4634.length),f=0;f<d;f++){var e=this._4634[f];if(a.pv.ic(e,G)){if(null!=e._7189(b))return!0}else if(this._4634[f]._4542==b)return!0}if(0<this._757.length)for(f=0;f<this._757.length;f++)if(null!=this._757[f]._7189(b))return!0;
return!1};d.beginCompositeAction=function(a){a=new G(a);a._8718();this._757.push(a)};d.endCompositeAction=function(){0==this._757.length&&a.pv.te("Composite action stack length cannot be 0.");var b=this._757.pop();0<b._4634.length&&(0===this._757.length&&0===this._4634.length&&this.addAction(new la(b.toString()+" (original)")),this.addAction(b,null))};d.removeCompositeAction=function(){0!=this._757.length&&this._757.pop()};d.addAction=function(b,d){if(!this._3461||this.get_IsInitializing())null!=
b&&b.dispose();else if(null==b&&a.pv.te("UndoAction parameter cannot be null."),b.get_IsValid())if(0<this._757.length)this._757[this._757.length-1]._11194(b,d);else{this._7926({type:"addActions",actions:[b]});this.beginInit();this.removeRedoActions();if(-1!=this._1780){var f=this._4634[this._1780];if(f._4542==b._4542&&null!=d){var e=d.clone();f._5956(e)}}null!=b&&null==b._7370&&null!=b._4542&&(e=b._4542.clone(),b._5956(e));this._4634.push(b);this._4634.length>this._1889&&this.removeFirstAction();
this._1780=this._4634.length-1;this.endInit();this._479();this._6110({type:"addActions",actions:[b]});this._9593(1)}else b.dispose()};d.removeRedoActions=function(){if(this._3461&&this._1780<this._4634.length-1){for(var a=[],d=[],f=this._4634.length,e=this._1780+1;e<f;e++)d.push(e),a.push(this._4634[e]);if(0<a.length){e={type:"removeActions",actions:a.slice()};this._7926(e);for(e=d.length-1;0<=e;e--)f=d[e],this._4634[f].dispose(),this._4634.splice(f,1);a={type:"removeActions",actions:a.slice()};this._6110(a)}}};
d.removeFirstAction=function(){if(this._3461&&0!=this._4634.length){var a=this._4634[0];this._7926({type:"removeActions",actions:[a]});this._4634.splice(0,1);a.dispose();this._6110({type:"removeActions",actions:[a]})}};d.undo=function(a){this._4658(-Math.abs(a))};d.redo=function(a){this._4658(Math.abs(a))};d.getActions=function(){this._479();return this._4634};d.clear=function(){this._3461&&this._3469(!0)};d.dispose=function(){this._3469(!1);this._5376=null};d._4718=function(a,d,f,e){var l=this._6895();
if(0!==l.length){for(var q=0;q<l.length;q++)this._1818(l[q],a,f);if(null!=d&&null!=e)for(a=Math.min(d.length,e.length),q=0;q<a;q++)for(f=0;f<l.length;f++)this._1818(l[f],d[q],e[q])}};d._2232=function(a){this._5376=a};d._6227=function(a){for(var d=!0,f=0;f<a.length;f++)d&=this._1656(a[f]);return d};d._1656=function(a){if(null==a)return!1;var d=this._4634.indexOf(a);if(-1==d)return!1;-1!=this._1780&&d<=this._1780&&this._1780--;return this._4634.splice(d,1)?(a.dispose(),!0):!1};d._11277=function(a,d){var f=
a._7924;return null==f||-1===f.indexOf(d)?!1:!0};d._8020=function(b,d){for(var f=-1,z=0;z<this._4634.length;z++){var l=this._4634[z];if(l===b){f=z;break}else if(a.pv.ic(l,G)&&e(l,b)){f=z;break}}return-1==f?!0:0==f?d:this.get_CurrentActionIndex()>=f?!1:!0};d._479=function(){if(!this.get_IsInitializing()&&this._3461){for(var a=[],d=this._1780,f=this._4634.length-1;0<=f;f--){var e=this._4634[f];e.get_IsValid()||(a.push(e),d>=f&&d--)}0<a.length&&(a.slice(),this.beginInit(),this._6227(a),this._1780=d,
this.endInit(),a={type:"removeActions",actions:a.slice()},this._6110(a))}};d._2605=function(b){this.beginInit();try{a.pv.ic(b,G)&&(b=b._7189());var d=this.get_CurrentAction();if(a.pv.ic(d,G)){var f=d,d=f._7189();null==d&&(d=f)}var e=this._6895();b.get_IsValid()||a.pv.te("Invalid action.");-1==e.indexOf(b)&&a.pv.te("Action is not found.");this._1638(d,b);var l=b._4542,q=b._7924;b.undo();var s=b._4542,n=b._7924;null==this._5376?this._4718(l,q,s,n):this._5376._4718(l,q,s,n);this._1780=this._4634.indexOf(b)}finally{this.endInit()}};
d._1638=function(a,d){if(!this._10804){this._10804=!0;var f=this._6895(),e=f.indexOf(a),l=f.indexOf(d),q=Math.max(e,l),s=Math.min(e,l);if(1<q-s){for(var n=[],A=!1;q>=s;q--){var A=!1,v=f[q];if(v._4542!=d._4542){for(var t=0;t<n.length;t++){var B=n[t];if(B._4542==v._4542){A=!0;break}}A||n.push(v)}}if(0<n.length)if(e>l){B=n;n=[];for(q=0;q<B.length;q++){A=B[q]._4542;for(t=s-1;0<=t;t--)if(A==f[t]._4542){n.push(f[t]);break}for(t=s;t<f.length;t++)if(A==f[t]._4542){n.push(f[t]);break}}if(0==n.length)for(q=
0;q<B.length;q++)for(t=0;t<f.length;t++)if(B[q]._4542==f[t]._4542){n.push(f[t]);break}for(q=n.length-1;0<=q;q--)if(null!=n[q]._7924)for(this._2605(n[q]),t=0;t<n[q]._7924.length;t++)s=n[q]._7924[t],s=this._3157(f,e,s),null!=s&&this._2605(s);for(q=n.length-1;0<=q;q--)null==n[q]._7924&&this._2605(n[q])}else{for(q=0;q<n.length;q++)null!=n[q]._7924&&this._2605(n[q]);for(q=0;q<n.length;q++)null==n[q]._7924&&this._2605(n[q])}}if(1==e-l&&a._4542!=d._4542&&(B=this._3157(f,e,a._4542),null!=B&&(this._2605(B),
null!=B._7924)))for(q=0;q<B._7924.length;q++)s=B._7924[q],s=this._3157(f,e,s),null!=s&&this._2605(s);this._10804=!1}};d._4658=function(a){this._3461&&!this.get_IsInitializing()&&0!=a&&(this._479(),a=Math.min(Math.max(this.get_CurrentActionIndex()+a,0),this._4634.length-1),this.set_CurrentAction(this._4634[a]))};d._1818=function(b,d,f){var e=!1;if(a.pv.ic(b,G))for(var l=0;l<b._4634.length;l++)e|=this._1818(b._4634[l],d,f);b._4542===d&&(b._8718(f),e=!0);this._11277(b,d)&&(b._9453(d,f),e=!0);return e};
d._3469=function(a){var d;a&&(d={type:"clearActions",actions:this._4634.slice()},this._7926(d),d={type:"clearActions",actions:this._4634.slice()});for(var f=0;f<this._4634.length;f++)this._4634[f].dispose();this._4634=[];this._1780=-1;a&&this._6110(d)};d._3157=function(b,d,f){for(--d;0<=d;d--){var e=b[d];if(a.pv.ic(e,G)){if(e=e._7189(f),null!=e)return e}else if(e._4542==f)return e}};d._6895=function(){for(var b=[],d=0;d<this._4634.length;d++)b[d]=this._4634[d];for(d=0;d<b.length;d++)if(a.pv.ic(b[d],
G)){var f=b[d];b.splice(d,1);for(var f=f._5224(),e=d,l=0;l<f.length;l++)b.splice(e,0,f[l]),e++;d+=f.length-1}return b};d._7926=function(a){$(this).triggerHandler("changing",a)};d._6110=function(a){$(this).triggerHandler("changed",a)};d._9593=function(a){$(this).triggerHandler("navigated",a)};this._2936=a.WebImagingEnviromentJS.guid();this._3461=!0;this._1889=6;this._1780=-1;this._4634=[];this._387=0;this._10804=!1;this._757=[];this._5376=null;delete d.changing;delete d.changed;delete d.navigated},
wb=function(a,d,b){this._5566=a;this._5944=d;this._4683=b},pb=function(){var e=pb.prototype;e._340=function(a,b){};e._2438=function(d){this._2259(d);a.pv.ic(d,G)&&null!=this._7202[d._2936]&&this._6289(d,!0);this._1011()};e._1656=function(d){if(-1!==this._2881.indexOf(d))a.pv.ic(d,G)&&delete this._7202[d._2936],this._9048(d),null!=this._5220[d._2936]&&(this._5220[d._2936]._5566._1656(d),delete this._5220[d._2936]),a.pv.ic(d,G)&&this._6289(d,!1),this._1011();else{var b=this._11342[d._2936];null!=b&&
(delete this._11342[d._2936],b._4634.splice(b._4634.indexOf(d),1),delete this._5220[d._2936],0==b._4634.length&&this._1656(b))}};e._848=function(a){for(var b=[],e=0;e<this._2881.length;e++)for(var f=this._2881[e],z=0;z<a.length;z++)if(this._102(f,a[z])){b.push(f);break}return this._3279(b)};e._102=function(d,b){if(a.pv.ic(d,G)&&null!=this._7202[d._2936])for(var e=0;e<d._4634.length;e++){if(this._102(d._4634[e],b))return!0}else if(e=this._5220[d._2936],null!=e&&e._5566===b)return!0;return!1};e._6524=
function(a,b){var e=new wb(b,b._9072(),b.get_CurrentAction());this._5220[a._2936]=e};e._8980=function(a){this._7202[a._2936]=!1};e._2259=function(a){this._2881.push(a)};e._9048=function(a){this._2881.splice(this._2881.indexOf(a),1)};e._4743=function(a){var b=[];this._5400(b,a);return b};e._5400=function(d,b){var e=a.pv.ic(b,G);if(!e||e&&null==this._7202[b._2936])d.push(this._5220[b._2936]);else for(e=0;e<b._4634.length;e++)this._5400(d,b._4634[e])};e._9161=function(d,b){for(var e=0;e<b.length;e++){var f=
b[e];if(a.pv.ic(f,G)){if(this._9161(d,f._4634))return!0}else if(this._5220[f._2936]._5566===d)return!0}return!1};e._1332=function(d){if(0==d.length)return null;for(var b=d.length-1;0<=b;b--){var e=d[b];if(null!=this._7202[e._2936]){if(!this._8020(e,!0))return e}else{var f=this._5220[e._2936];if(null!=f){if(!f._5566._8020(e,!0))return e}else if(a.pv.ic(e,G)&&!this._8020(e,!0))return e}}return d[0]};e._4988=function(){this._2881=[];this._11342={};this._5220={}};e._8020=function(d,b){if(a.pv.ic(d,G)&&
null!=this._7202[d._2936]){for(var e=0;e<d._4634.length;e++){var f=d._4634[e];if(a.pv.ic(f,G)){if(!this._8020(f,b))return!1}else{var z=this._5220[f._2936];if(null!=z&&!z._5566._8020(f,b))return!1}}return!0}return this._5220[d._2936]._5566._8020(d,b)?!0:!1};e._7349=function(a){if(-1!==this._2881.indexOf(a))return a;a=this._11342[a._2936];if(null!=a)return this._7349(a)};e._6289=function(d,b){for(var e=0;e<d._4634.length;e++){var f=d._4634[e];b?this._11342[f._2936]=d:(delete this._11342[f._2936],delete this._5220[f._2936]);
a.pv.ic(f,G)&&this._6289(f,b)}};e._3279=function(d){for(var b=d.slice(),e=[],f={},z=0;z<d.length;z++){var l=this._6811(d[z]);this._8637(e,l);if(a.pv.ic(d[z],G))for(l=-1;l!=e.length;)for(var l=e.length,q=0;q<this._2881.length;q++)if(-1===b.indexOf(this._2881[q])){var s=f[this._2881[q]._2936];null==s&&(s=this._6811(this._2881[q]),f[this._2881[q]._2936]=s);this._1791(e,s)&&b.push(this._2881[q])}}if(b.length==d.length)return d;d=[];for(z=0;z<b.length;z++)e=this._2881.indexOf(b[z]),d[e]=b[z];return d};
e._6811=function(d){if(a.pv.ic(d,G)){for(var b=[],e=0;e<d._4634.length;e++){var f=this._6811(d._4634[e]);this._8637(b,f)}return b}b=[];null!=d._4542&&b.push(d._4542);return b};e._8637=function(a,b){for(var e=0;e<b.length;e++){var f=b[e];-1===a.indexOf(f)&&a.push(f)}};e._1791=function(a,b){for(var e=0;e<b.length;e++)if(-1!==a.indexOf(b[e]))return this._8637(a,b),!0;return!1};e._1011=function(){$(this).triggerHandler("_340")};this._2881=[];this._5220={};this._11342={};this._7202={};delete e._340},qb=
function(e){function d(f,b){var d=f._2936;$(b).on("changing."+d,function(a,d){if(f._3461){if(!f._10509&&f._4884()&&"addActions"===d.type&&0==b._5743()){f._10509=!0;if(0!=f._7150().length){var e=new la(d.actions[0].toString()+" (original)");b.addAction(e)}else f._5469=!0,e=new la(f._2810),b.addAction(e),f._5469=!1;f._10509=!1}!f._4884()&&f._8582(b)&&null==f._10641&&f._7926(d)}});$(b).on("changed."+d,function(d,e){if(f._3461){var l=e.actions;if("addActions"!=e.type||1!=l.length||!a.pv.ic(l[0],la)||
f._5469){switch(e.type){case "addActions":for(var h=0;h<l.length;h++)f._2438(l[h],b);break;case "removeActions":case "clearActions":for(h=0;h<l.length;h++)f._1656(l[h])}if(f._8582(b)){if("addActions"===e.type)for(var v=f._7150(),h=l.length-1;0<=h;h--)-1===v.indexOf(l[h])&&l.splice(h,1);0<l.length&&(null==f._10641?f._6110(e):f._10641=f._10641.concat(l))}}}})}var b=qb.prototype;b.changing=function(a,b){};b.changed=function(a,b){};b.navigated=function(a,b){};b._9479=function(){return this._11181};b._7027=
function(a){if(this._11181!=a){this._11181=a;this._4634=null;a=this._7150();var b=this._11204._1332(a);this._1780=a.indexOf(b);if(this._1889<a.length)for(this._5876(!1),a=this._7150().length-this._1889;0<a;)this._8341(!1),a--}};b._7150=function(){this._479();null==this._4634&&(this._4634=this._4379());return this._4634};b._1080=function(){var a=this._9466();return-1==a?null:this._7150()[a]};b._6113=function(a){a=this._7150().indexOf(a);this._9307(a)};b._9466=function(){this._479();return this._1780};
b._9307=function(f){(0>f||f>this._7150().length)&&a.pv.toe();this._411(f-this._9466())};b._7634=function(){var a=this._9466();return 1>a?0:a};b._2486=function(){var a=this._9466(),b=this._7150();return 0==this._7634()||-1==a||a>=b.length?"":b[a].toString()};b._4800=function(){return this._7150().length-this._9466()-1};b._293=function(){var a=this._9466(),b=this._7150();return 0==this._4800()||-1==a||a>=b.length?"":b[a+1].toString()};b._1601=function(){return this._3461};b._6619=function(a){this._3461=
a};b._4884=function(){return this._5469?!1:0!=this._2938.length};b._9469=function(){return this._1889};b._3421=function(a){var b=a+1;this._1889>b&&this._8969(b,!0);this._1889=a+1};b._8969=function(a,b){var d=this._9088.slice(),e=this._4379(!1,d),h=this._4379(!0,d),n=e.indexOf(this._1080()),A=h.length-a;if(0<A){for(var d=[],v=e.length-1;0<A&&v>n;){var t=e[v--];d.push(t);-1!==h.indexOf(t)&&A--}if(0<A){for(v=0;0<A&&v<=n;)t=e[v++],d.push(t),-1!==h.indexOf(t)&&A--;if(-1===h.indexOf(e[v]))for(;-1===!h.indexOf(e[v])&&
v<=n;)d.push(e[v++])}b&&this._7926({type:"removeActions",actions:d});for(e=0;e<d.length;e++)this._1656(d[e]);b&&this._6110({type:"removeActions",actions:d})}};b._10646=function(a){d(this,a);this._9088.push(a)};b._7165=function(a){var b=this._2936;$(a).off("."+b);this._10450(a);this._9088.splice(this._9088.indexOf(a),1)};b._11400=function(a){this._3461&&this._411(-Math.abs(a))};b._8606=function(a){this._3461&&this._411(Math.abs(a))};b._8341=function(a){for(var b=this._4379(!1,this._11181),d=this._4379(!0,
this._11181),e=b.indexOf(this._1080()),h=[],n=0;n<b.length;){var A=b[n++];h.push(A);if(-1!==d.indexOf(A))break}if(-1===d.indexOf(b[n]))for(;-1===d.indexOf(b[n])&&n<=e;)h.push(b[n++]);a&&(b={type:"removeActions",actions:h.slice()},this._7926(b));for(b=0;b<h.length;b++)this._1656(h[b]);a&&(a={type:"removeActions",actions:h.slice()},this._6110(a))};b._5876=function(a){var b=this._1080();if(!this._3461||null==b)return[];var d=this._9466(),e=this._7150();if(d==e.length-1)return[];for(var b=[],h=e.length-
1;h>d;h--)b.push(e[h]);a&&(d={type:"removeActions",actions:b.slice()},this._7926(d));for(h=0;h<b.length;h++)this._11204._1656(b[h]);this._7150();this._9045();for(h=0;h<this._11181.length;h++)this._11181[h].removeRedoActions();this._5717();a&&(d={type:"removeActions",actions:b.slice()},this._6110(d));return b};b._10287=function(f,b,d){1===arguments.length&&(d=f,f=this._7150(),b=Math.min(this._9466()+1,f.length));for(var e=0;e<b;e++){var h=f[e];if(a.pv.ic(h,G)){if(null!=h._7189(d))return!0}else if(f[e]._4542==
d)return!0}return!1};b._1659=function(){for(var a={},b=this._7150(),d=Math.min(this._9466()+1,b.length),e=0;e<d;e++)for(var h=b[e],n=0;n<this._11181.length;n++){var A=this._11181[n];if(this._11204._102(h,A)){n=a[A._2936];null==n&&(n=[],a[A._2936]=n);n.push(h);break}}return a};b._9045=function(){null==this._10641&&(this._10641=[])};b._5717=function(){if(null==this._10641)return[];var a=this._10641.slice();this._10641=null;return a};b._9796=function(a){a=new G(a);a._8718();0==this._2938.length&&(this._2810=
a.toString()+" (original)");this._2938.push(a)};b._9966=function(b){0==this._2938.length&&a.pv.te("The undo manager does not have composite action.");var d=this._2938[0];this._2938.splice(0,1);0<d.getActions().length&&(0==this._2938.length&&this._7926({type:"addActions",actions:[d]}),this._11204._8980(d),this._2438(d,b),0==this._2938.length&&this._6110({type:"addActions",actions:[d]}))};b._8086=function(){if(0!==this._2938.length){var a=this._2938[0];this._2938.splice(0,1);this._1656(a)}};b._479=
function(){if(null!=this._11181&&0<this._11181.length)for(var a=0;a<this._11181.length;a++)this._11181[a]._479()};b._2438=function(a,b){if(this._3461)if(a.get_IsValid())if(this._4884())this._11204._6524(a,b),this._2938[this._2938.length-1].getActions().push(a);else{if(this._5876(!0),this._11204._6524(a,b),this._11204._2438(a),this._5103(),this._7150().length>this._1889&&this._8341(!0),this._8582(b)){var d=this._7150().indexOf(a);-1!==d&&(this._1780=d)}}else a.dispose()};b._5103=function(){for(var a=
0;a<this._9088.length;a++){var b=this._9088[a];this._8582(b)||0===b.get_CurrentActionIndex()&&b.clear()}};b._8582=function(a){return null==this._11181||null==a?!1:-1!==this._11181.indexOf(a)};b._1656=function(a){var b=this._7150(),d=b.indexOf(a);-1===d&&(a=this._11204._7349(a));if(null!=a){var e=b.length,h=this._1080();this._11204._1656(a);b=this._7150();e!=b.length?-1!=d&&d<=this._1780&&(this._1780-=e-b.length):null!=h&&(-1!==!b.indexOf(h)&&(h=this._11204._7349(h)),this._1780=b.indexOf(h))}};b._10450=
function(a){if(this._3461){a=this._11204._848([a]);for(var b=0;b<a.length;b++)this._1656(a[b])}};b._411=function(a){for(var b=0;b<this._11181.length;b++)if(this._11181[b].get_IsInitializing())return;var d=this._7150();if(0!=a&&0!=d.length){for(var e=Math.abs(a),b=this._9466();0<e&&!(0>b||b>=d.length);){if(0>a){var h=d[b];this._2605(h);b--}else h=b+1,h>=d.length&&(h=d.length-1),h=d[h],this._10941(h),b++;e--}a=b-this._1780;this._1780=b;this._9593(a)}};b._2605=function(a){a=this._11204._4743(a);for(var b=
a.length-1;0<=b;b--){var d=a[b];null!=d._5944&&d._5566.set_CurrentAction(d._5944)}};b._10941=function(a){a=this._11204._4743(a);for(var b=0;b<a.length;b++){var d=a[b];null!=d._5944&&d._5566.set_CurrentAction(d._4683)}};b._4988=function(){this._11204._4988();this._11181=this._4634=null;this._1780=-1};b._4379=function(b,d){null==b&&(b=!0,d=this._11181);this._479();var e=[];if(null!=d&&0<d.length){for(var h=!1,s=this._11204._848(d),n=s.length-1;0<=n;n--){var A=s[n];if(null!=A){if(this._11204._8020(A,
!h)){if(h)continue}else h=!0;e.push(A)}}if(b)for(n=e.length-2;0<=n;n--)a.pv.ic(e[n],G)||null!=e[n]._9963||e.splice(n,1);e.reverse()}1==e.length&&(h=e[0],a.pv.ic(h,G)&&0<h.getActions().length&&e.splice(0,0,new la(e[0].toString()+" (original)")));return e};b._7926=function(a){$(this).triggerHandler("changing",a)};b._6110=function(a){$(this).triggerHandler("changed",a)};b._9593=function(a){$(this).triggerHandler("navigated",a)};this._2936=a.WebImagingEnviromentJS.guid();this._11204=new pb(e);this._10641=
null;this._2938=[];this._5469=!1;this._2810="";this._10509=!1;this._9088=[];this._4634=this._11181=null;this._1780=-1;this._3461=!0;this._1889=e;var h=this;$(this._11204).on("_340",function(a,b){h._4634=null})},Ea=function(){function e(b){null==b._4316&&a.pv.te("Current manager is not specified.")}var d=Ea.superclass;d.constructor.call(this);var b=Ea.prototype;b.currentManagerChanging=function(a,b){};b.currentManagerChanged=function(a,b){};b.activeManagersChanging=function(a){};b.activeManagersChanged=
function(a){};b.get_ActiveManagers=function(){return this._2250._11181};b.set_ActiveManagers=function(b){a.pv.ac(b,ra);if(b!=this._2250._11181){this._8867();if(null!=b)for(var d=0;d<b.length;d++)-1===this._8401.indexOf(b[d])&&a.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");this._2250._7027(b);this._4133=this._11285();b={type:"addActions",actions:this._2250._7150()};this._6110(b);this._11159()}};b.get_CurrentManager=function(){return this._4316};
b.set_CurrentManager=function(b){a.pv.ic(b,ra);this.get_IsInitializing()&&a.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(b!=this._4316&&(b={oldValue:this._4316,newValue:b,cancel:!1},this._2256(b),!b.cancel&&b.newValue!==this._4316)){b=b.newValue;null!=b&&-1===this._8401.indexOf(b)&&a.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");var d={oldValue:this._4316,newValue:b};null!=
this._4316&&this._6053(this._4316);this._4316=b;this._4133=this._11285();null!=this._4316&&this._9419(this._4316);this._600(d)}};b.get_IsInitializing=function(){return null==this._4316?!1:this._4316.get_IsInitializing()};b.get_IsCompositeActionStarted=function(){return 0!==this._2250._4884()};b.set_IsEnabled=function(a){d.set_IsEnabled.call(this,a);this._2250._6619(a);for(var b=0;b<this._8401.length;b++)this._8401[b].set_IsEnabled(a)};b.set_UndoLevel=function(a){d.set_UndoLevel.call(this,a);this._2250._3421(a)};
b.get_UndoCount=function(){return this._2250._7634()};b.get_UndoDescription=function(){return this._2250._2486()};b.get_RedoCount=function(){return this._2250._4800()};b.get_RedoDescription=function(){return this._2250._293()};b.get_CurrentActionIndex=function(){return this._2250._9466()};b.set_CurrentActionIndex=function(a){this._2250._9307(a)};b.get_CurrentAction=function(){return this._2250._1080()};b.set_CurrentAction=function(a){this._3461&&!this.get_IsInitializing()&&a.get_IsValid()&&this._2250._6113(a)};
b._9072=function(){this._479();var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?null:this._2250.getActions()[a-1]};b._5743=function(){return this._2250._7150().length};b.addManager=function(){var a=new ra;a.set_IsEnabled(this._3461);a.set_UndoLevel(Number.MAX_VALUE);a._2232(this);this._8401.push(a);this._2250._10646(a);return a};b.removeManager=function(a){var b=this._8401.indexOf(a);-1!==b&&(this._4316===a&&this.set_CurrentManager(),this._2250._7165(a),this._8401.splice(b,
1),a._2232(),a.dispose())};b.beginInit=function(){this._387++;for(var a=0;a<this._8401.length;a++)this._8401[a].beginInit()};b.endInit=function(){0===this._387&&a.pv.tie();this._387--;for(var b=0;b<this._8401.length;b++)this._8401[b].endInit()};b.containsActionForSourceObject=function(a){e(this);if(this._4133&&0!==this.get_RedoCount()){var b=this._2250._1659()[this._4316._2936];return null!=b?this._2250._10287(b,b.length,a):!1}return this._4316.containsActionForSourceObject(a)};b.beginCompositeAction=
function(a){this._2250._9796(a)};b.endCompositeAction=function(){this._2250._9966(this._4316)};b.removeCompositeAction=function(){this._2250._8086()};b.addAction=function(a,b){e(this);this._2250._5876(!0);this._4316.addAction(a,b)};b.undo=function(a){this._479();this._2250._11400(a)};b.redo=function(a){this._479();this._2250._8606(a)};b.getActions=function(){this._479();return this._2250._7150()};b.clear=function(){this._479();for(var a=[],b=0;b<this._8401.length;b++)a=a.concat(this._8401[b].getActions());
if(0!=a.length){a={type:"clearActions",actions:a.slice()};this._7926(a);this._2250._9045();for(b=0;b<this._8401.length;b++)this._8401[b].clear();a={type:"clearActions",actions:this._2250._5717().slice()};this._6110(a)}};b.removeFirstAction=function(){this._2250._8341()};b.removeRedoActions=function(){this._2250._5876(!0)};b.dispose=function(){this._4316=null;$(this._2250).off("."+this._2936);for(var a=0;a<this._8401.length;a++){var b=this._8401[a];this._2250._7165(b);b.dispose()}this._8401=[];this._2250._4988()};
b._2232=function(b){a.pv.tne()};b._4718=function(a,b,d,f){for(var e=0;e<this._8401.length;e++)this._8401[e]._4718(a,b,d,f)};b._2256=function(a){$(this).triggerHandler("currentManagerChanging",a)};b._600=function(a){$(this).triggerHandler("currentManagerChanged",a)};b._8867=function(){$(this).triggerHandler("activeManagersChanging")};b._11159=function(){$(this).triggerHandler("activeManagersChanged")};b._479=function(){if(!this.get_IsInitializing()&&this._3461){this._2464();for(var a=0;a<this._8401.length;a++)this._8401[a]._479();
this._8248()}};b._2464=function(){this._3382++};b._8248=function(){this._3382--};b._11285=function(){return null==this._4316||null==this._2250._11181?!1:-1==this._2250._11181.indexOf(this._4316)?!1:!0};b._9419=function(a){var b=this,d=b._4270();$(a).on("changing."+d,function(a,d){0!=b._3382||b._4133||b._7926(d)});$(a).on("changed."+d,function(a,d){0!=b._3382||b._4133||b._6110(d)})};b._6053=function(a){var b=this._4270();$(a).off("."+b)};this._8401=[];this._4133=!1;this._387=this._3382=0;this._4316=
null;var h=new qb(this._1889);this._2250=h;var f=this,z="."+f._2936;$(h).on("navigated"+z,function(a,b){f._9593(b)});$(h).on("changing"+z,function(a,b){f._7926(b)});$(h).on("changed"+z,function(a,b){f._6110(b)});delete b.currentManagerChanging;delete b.currentManagerChanged;delete b.activeManagersChanging;delete b.activeManagersChanged};a.extend(Ea,ra);var rb=function(e){var d=rb.prototype;d.disposed=function(a){};d.get_IsEnabled=function(){return this._3461};d.set_IsEnabled=function(b){a.pv.b(b);
this._3461=b};d.get_UndoManager=function(){return this._2014};d.dispose=function(){$(this).triggerHandler("disposed")};a.pv.c(e,ra);this._2014=e;this._3461=!0;delete d.disposed};w.WebPrintManagerJS=ob;w.VintasoftFileAPI=VintasoftFileAPI;w.WebThumbnailAppearanceJS=lb;w.WebImageAppearanceJS=Ca;w.WebUndoActionJS=Da;w.WebCompositeUndoActionJS=G;w.WebUndoManagerJS=ra;w.WebCompositeUndoManagerJS=Ea;w.WebUndoMonitorJS=rb;a.WebServiceJS.rcr("GetTextRegionOfImage","GetTextRegionOfImages");a.WebServiceJS.rcr("GetActionsOfImage",
"GetActionsOfImages");var Fa=function(e,d){var b=Fa.prototype;b.get_SelectionRegion=function(){return u._4868._746(this._3713)};b.get_Symbol=function(){return this._1216};b._8496=function(){var a=this.get_SelectionRegion();return u._4868._11170(a)};a.pv.ad(e,a.pv.p);a.pv.s(d);this._3713=e;this._1216=d;this._8759=null;Object.freeze&&Object.freeze(this._3713)},ma=function(e,d,b,h,f){function z(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d]._3713);return u._4868._8931(b)}var l=ma.prototype;l.get_TextContent=
function(){var a=this._5351;if(null!=a)return a;var b=this._7605;if(null!=b){for(var a="",d=0;d<b.length;d++){var f=b[d].get_TextContent();null!=f&&(""!==a&&(a+="\n"),a+=f)}return a}b=this._2516;if(null!=b){a="";for(d=0;d<b.length;d++)a+=b[d]._1216;return a}};l.get_SelectionRegions=function(){var a=this._3228;if(null!=a){for(var b=[],d=0;d<a.length;d++)b.push(u._4868._746(a[d]));return b}};l.get_Subregions=function(){return this._7605.slice()};l.get_Symbols=function(){var a=this._2516;if(null!=a)return a.slice()};
l.containsPoint=function(b){a.pv.p(b);for(var d=this._3228,f=0;f<d.length;f++)if(u._4868._3108(b,d[f]))return!0;return!1};l.getWordSubregion=function(a){var b=this.getLineSubregion(a);return null==b?null:null==b._7605&&null!=b._2516?b:b._7020(a)};l.getLineSubregion=function(a){return this._7020(a)};l.getSubregion=function(b,d){var f=a.pv.e(d,x.WebTextSelectionModeEnumJS);a.pv.r(b);var e=a.cloneObject(b),h=!1;0>e.width&&(e.width=-e.width,e.x-=e.width,h=!h);var t=this._3749();0>e.height&&(t=!t,e.height=
-e.height,e.y-=e.height);for(var l=-1,H=-1,E=this._7192(),Q=0;Q<E.length;Q++)for(var F=E[Q],K=F.get_SelectionRegions(),I=0;I<K.length;I++)if(u._4868._9244(e,K[I])){0>l&&(l=Q);H=Q;break}if(!(0>l)){for(var K=[],w=[],Q=H,I=l;I<=Q;I++){F=E[I];l=[];if(null!=F._7605)for(H=0;H<F._7605.length;H++)l.push(F._7605[H]._6085());else null!=F._2516&&l.push(F._6085());K.push(l);w.push(F._5351)}if(0!=K.length){if(1===f.valueOf()){f=t;Q=K[0];E=w[0];t=I={x:e.x,y:e.y,width:e.width,height:e.height};f?(h||(t.x+=t.width),
t.width=Number.MAX_VALUE):h&&(t.x+=t.width);t=Q;F=0;for(l=!1;F<t.length&&!l;){for(H=t[F];0<H.length;){var O=H[0]._8496();if(u._4868._3187(I,O)){l=!0;break}else O=H.splice(0,1),O=E.indexOf(O[0]._1216),-1!==O&&(E=E.slice(0,O)+E.slice(O+1))}0==H.length?t.splice(F,1):F++}0==Q.length?(K.splice(0,1),w.splice(0,1)):w[0]=E;if(0!==K.length){Q=K[K.length-1];E=w[w.length-1];e=I={x:e.x,y:e.y,width:e.width,height:e.height};h?f||(e.width=e.x,e.x=0):f&&(e.width=e.x,e.x=0);e=Q;f=E;h=I;t=e.length-1;for(E=!1;0<=t&&
!E;){for(I=e[t];0<I.length;)if(F=I[I.length-1]._8496(),u._4868._3187(h,F)){E=!0;break}else F=I.splice(I.length-1,1),F=f.lastIndexOf(F[0]._1216),-1!==F&&(f=f.slice(0,F)+f.slice(F+1));0==I.length&&e.splice(t,1);t--}E=f;0==Q.length?(K.splice(K.length-1,1),w.splice(w.length-1,1)):w[w.length-1]=E}}else for(Q=0;Q<K.length;){f=K[Q];t=w[Q];h=f;E=e;I=0;for(F=!1;I<h.length;){l=h[I];for(H=0;H<l.length;)O=l[H]._8496(),u._4868._3187(E,O)?(H++,F=!0):(O=l.splice(H,1),O=F?t.lastIndexOf(O[0]._1216):t.indexOf(O[0]._1216),
-1!==O&&(t=t.slice(0,O)+t.slice(O+1)));0==l.length?h.splice(I,1):I++}0==f.length?(K.splice(Q,1),w.splice(Q,1)):(w[Q]=t,Q++)}for(e=0;e<w.length;e++)w[e]=w[e].trim(" ");if(0!=K.length){e=[];f=[];for(Q=0;Q<K.length;Q++)if(F=K[Q],""!==w[Q]){h=[];for(I=0;I<F.length;I++)t=F[I],E=z(t),h.push(new ma(null,[E],null,t,this._4272));t=h;E=[];for(I=0;I<t.length;I++)E.push(t[I]._3228[0]);t=u._4868._8931(E);f.push(t);e.push(new ma(w[Q],[t],h,null,this._4272))}return new ma(null,f,e,null,this._4272)}}}};l.searchText=
function(b){a.pv.c(b,RegExp);for(var d=[],f=[],e=this._7192(),h=!1,t=0;t<e.length&&!h;t++){var l=e[t],H=l.get_TextContent();if(null!=l._7605){d[t]=[];for(var E=0,u=0;u<l._7605.length;u++){var F=l._7605[u].get_TextContent(),E=H.indexOf(F,E);d[t].push(E);E+=F.length}}else d[t]=[0];l=[];for(u=-1;null!=(E=b.exec(H));){F=E.index;if(F===u)break;""!==E[0]&&l.push(E);u=F;if(!b.global){h=!0;break}}f.push(l)}b=[];for(h=0;h<f.length;h++)if(t=f[h],0!==t.length)for(H=null!=e[h]._7605?e[h]._7605:[e[h]],l=d[h],
E=0;E<t.length;E++){var u=t[E][0],F=t[E].index,x=t[E].input,w;w=H;for(var fa=l,O=u,na=F,S=0;na>fa[S];)S++;S--;0>S&&(S=0);for(var aa=w[S],ba=fa[S],V=[],U=0;U<O.length;){var R=na-ba+U;aa._2516.length<=R?na+U>=fa[S+1]?(S++,ba=fa[S],aa=w[S]):U++:(R=aa._2516[R],null!=R&&V.push(R),U++)}w=V;0!==w.length&&(fa=z(w),b.push({context:x,position:F,region:new ma(u,[fa],null,w,this._4272)}))}return b};l.getTransformFromImageToTextSpace=function(b){a.pv.p(b);b=u.WebMatrixJS._1090(96/b.x,96/b.y);return u.WebMatrixJS.multiplyMatrix(b,
this._4272)};l.getTransformFromTextToImageSpace=function(a){return this.getTransformFromImageToTextSpace(a).invert()};l.getSelectionBoundingBox=function(){var a=this._3228;if(0===a.length)return u._4868._3842();for(var b=u._4868._11170(a[0]),d=1;d<a.length;d++)b=u._4868._385(b,u._4868._11170(a[d]));return b};l._3749=function(){var a=this._4272;return 0>a._1231||0>a._7827};l._7020=function(a){if(null!=this._7605)for(var b=0;b<this._7605.length;b++){var d=this._7605[b];if(d.containsPoint(a))return d}return null};
l._7192=function(){var a=[];if(null!=this._5351)a.push(this);else{var b=this._7605;if(null!=b)for(var d=0;d<b.length;d++)a=a.concat(b[d]._7192())}return a};l._6085=function(){var a=this._2516;if(null!=a)return a.slice();var a=[],b=this._7605;if(null!=b)for(var d=0;d<b.length;d++)a=a.concat(b[d]._6085());return a};null!=e&&a.pv.s(e);a.pv.ad(d,function(b){a.pv.ad(b,a.pv.p)});null!=b&&(a.pv.ac(b,ma),0===b.length&&(b=null));null!=h&&(a.pv.ac(h,Fa),0===h.length&&(h=null));this._5351=e;this._3228=d;this._7605=
b;this._2516=h;this._2936=a.WebImagingEnviromentJS.guid();null!=f?a.pv.c(f,u.WebMatrixJS):f=new u.WebMatrixJS;this._4272=f;Object.freeze&&(null!=this._7605&&Object.freeze(this._7605),null!=this._2516&&Object.freeze(this._2516))},ka=function(){var e=ka.prototype;this._109=[];e.get_Type=function(){return"PageContentActionMetadata"};e.get_Region=function(){return u._4868._746(this._109)};e.set_Region=function(d){a.pv.ad(d,a.pv.p);this._109=d};e._5276=function(a){this._109=a.region}};ka._10638=function(a){var d=
null;if(null!=a){switch(a.type){case "GotoActionMetadata":d=new ua;break;case "UriActionMetadata":d=new xa;break;case "NamedActionMetadata":d=new va;break;default:d=new ka}null!=d&&d._5276(a)}return d};var ua=function(){var e=ua.prototype,d=ua.superclass;d.constructor.call(this);this._4761=-1;this._3595=u._4868._3842();this._8819=new x.WebImageSizeModeEnumJS(4);this._9194=0;this._4121=!1;e.get_Type=function(){return"GotoActionMetadata"};e.get_DestPageIndex=function(){return this._4761};e.set_DestPageIndex=
function(b){a.pv.n(b);0>b&&a.pv.toe();this._4761=b};e.get_DestRect=function(){return a.cloneObject(this._3595)};e.set_DestRect=function(b){a.pv.r(b);this._3595=b={x:b.x,y:b.y,width:b.width,height:b.height}};e.get_SizeMode=function(){return this._8819};e.set_SizeMode=function(b){this._8819=a.pv.e(b,x.WebImageSizeModeEnumJS)};e.get_Zoom=function(){return this._9194};e.set_Zoom=function(b){a.pv.n(b);this._9194=b};e.get_ZoomToDestRect=function(){return this._4121};e.set_ZoomToDestRect=function(b){a.pv.b(b);
this._4121=b};e._5276=function(a){d._5276.call(this,a);this._4761=a.destPageIndex;this._3595=a.destRect;this._8819=new x.WebImageSizeModeEnumJS(a.sizeMode);this._9194=a.zoom;this._4121=a.zoomToDestRect}};a.extend(ua,ka);var xa=function(){var e=xa.prototype,d=xa.superclass;d.constructor.call(this);this._2260="";e.get_Type=function(){return"UriActionMetadata"};e.get_Uri=function(){return this._2260};e.set_Uri=function(b){a.pv.s(b);this._2260=b};e._5276=function(a){d._5276.call(this,a);this._2260=a.uri}};
a.extend(xa,ka);var va=function(){var e=va.prototype,d=va.superclass;d.constructor.call(this);this._4142="";e.get_Type=function(){return"NamedActionMetadata"};e.get_ActionName=function(){return this._4142};e.set_ActionName=function(b){a.pv.s(b);this._4142=b};e._5276=function(a){d._5276.call(this,a);this._4142=a.actionName}};a.extend(va,ka);var ya=function(){ya.prototype.executeAction=function(e,d,b){a.pv.tne()}},Ga=function(e){var d=Ga.prototype;Ga.superclass.constructor.call(this);a.pv.ac(e,ya);
this._5680=e.slice();d.get_Items=function(){return this._5680.slice()};d.executeAction=function(a,d,f){for(var e=0;e<this._5680.length;e++)if(this._5680[e].executeAction(a,d,f))return!0;return!1}};a.extend(Ga,ya);var Ha=function(){Ha.superclass.constructor.call(this);Ha.prototype.executeAction=function(e,d,b){a.pv.c(e,ja.WebImageViewerJS);a.pv.c(d,a.WebImageJS);a.pv.c(b,ka);if(a.pv.ic(b,ua)){d=function(){3===b._8819.valueOf()&&0<b._9194?(e.set_ImageSizeMode(b._8819),e.set_Zoom(b._9194)):e.set_ImageSizeMode(b._8819);
var a=b.get_DestRect(),d=a.x===u._4868._10682,h=a.y===u._4868._10682;if(!d||!h){var q=e.get_FocusedImage().get_Resolution();u.WebMatrixJS._1090(q.x/96,q.y/96).transformRectangle(a);if(a.x===u._4868._10682||a.y===u._4868._10682)q=e._9412(),d&&(a.x=q.x),h&&(a.y=q.y);if(b._4121)e.zoomToRectangle(a);else{var d=a.x,a=a.y,q=e._9412(),h=q.width/2,q=q.height/2,s=e.get_ImageRotationAngle();if(90===s||270===s)s=h,h=q,q=s;e.scrollToImagePoint(d+h,a+q)}}};var h=b._4761;if(0<=h&&h!=e.get_FocusedIndex())return e.setFocusedIndexAsync(h,
d),!0;d();return!0}return a.pv.ic(b,va)&&(d=-1,"NextPage"==b._4142&&(d=Math.min(e.get_Images().get_Count()-1,e.get_FocusedIndex()+1)),"PrevPage"==b._4142&&(d=Math.max(0,e.get_FocusedIndex()-1)),"FirstPage"==b._4142&&(d=0),"LastPage"==b._4142&&(d=e.get_Images().get_Count()-1),-1!==d)?(e.set_FocusedIndex(d),!0):!1}};a.extend(Ha,ya);var sb=function(e){function d(a,b){if(null==b){var e=a.transformFromDipSpace;null!=e&&(b=new u.WebMatrixJS(e.m11,e.m12,e.m21,e.m22,e.offsetx,e.offsety))}var e=a.textContent,
l=null,q=a.selectionRegions;if(null!=q)for(var l=[],s=0;s<q.length;s++)l.push(q[s].points);var q=null,n=a.symbols;if(null!=n)for(q=[],s=0;s<n.length;s++){var x=n[s];q.push(new Fa(x.selectionRegion.points,x.symbol))}n=null;x=a.subRegions;if(null!=x)for(n=[],s=0;s<x.length;s++)n.push(d(x[s],b));return new ma(e,l,n,q,b)}var b=sb.prototype;a.pv.c(e,a.WebImageJS);e.sm(this);this._7826=e;this._4634=this._7796=void 0;$(e.evm).on("icd",{m:this},function(a,b){var d=b.imc;"dc"===b.d&&d&&(d=a.data.m,d._7796=
void 0,d._4634=void 0)});b.get_Image=function(){return this._7826};b.getTextRegion=function(){if(void 0!==this._7796)return this._7796;a.pv.te("Information about text region is not available, call the requestTextRegion method.")};b.isTextRegionReceived=function(){return void 0!==this._7796};b.requestTextRegion=function(b,e){var u=this,l=u._7826,q=l.get_Source().get_ImageService(),l={data:{imageInfo:l.cto()}},l=new a.WebRequestJS("GetTextRegionOfImage",function(a){var e=null,f=a.textRegion;null!=f&&
(e=d(f));u._7796=e;a.textRegion=e;a.image=u._7826;b&&b(a)},function(a){"abort"!==a.statusText&&(a.image=u._7826,a.blocked||(u._7796=null),e&&e(a))},l);return q.addRequest(l)};b.getActions=function(){if(void 0!==this._4634)return this._4634;a.pv.te("Information about actions is not available, call the requestActions method.")};b.isActionsReceived=function(){return void 0!==this._4634};b.requestActions=function(b,d){var e=this,l=e._7826,q=l.get_Source().get_ImageService(),l={data:{imageInfo:l.cto()}},
l=new a.WebRequestJS("GetActionsOfImage",function(a){var d=[],f=a.actions;if(null!=f){for(var d=JSON.parse(f),f=[],l=0;l<d.length;l++){var t=ka._10638(d[l]);null!=t&&f.push(t)}d=f}e._4634=d;a.actions=d;a.image=e._7826;b&&b(a)},function(a){"abort"!==a.statusText&&(a.image=e._7826,d&&d(a))},l);return q.addRequest(l)}};w.WebPageContentActionMetadataJS=ka;w.WebGotoActionMetadataJS=ua;w.WebUriActionMetadataJS=xa;w.WebNamedActionMetadataJS=va;w.WebPageContentActionExecutorJS=ya;w.WebPageContentActionCompositeExecutorJS=
Ga;w.WebNavigationActionExecutorJS=Ha;w.WebTextRegionSymbolJS=Fa;w.WebTextRegionJS=ma;w.WebImageMetadataJS=sb;(function(e){(function(b){function d(g,b){h(g);a.pv.f(b,"The second parameter must be a Function, which allows to create the WebVisualToolJS object.");null!=M._529[g]&&a.pv.te("Fabric does not allow to change the standard tool with ID '"+g+"'.")}function h(g){a.pv.s(g);""===g&&a.pv.te("The element ID cannot be empty.")}var q=function(){};q._8672=function(g){a.pv.s(g);g=Raphael.getRGB(g);if(1===
g.error)a.pv.tae();else return"rgba("+g.r+","+g.g+","+g.b+","+(null!=g.opacity?g.opacity:1)+")"};q._144=function(a,b){a.transform(["m",b._1231,b._5728,b._216,b._7827,b._2505,b._11357])};q._6798=function(a,b){var d="matrix("+b._1231+","+b._5728+","+b._216+","+b._7827+","+b._2505+","+b._11357+")";$(a).attr("transform",d)};e._10378=q;var s=function(){var a=s.prototype;a._8108=function(){this._11068="";return this};a._6473=function(a){this._11068+="M"+a.x+","+a.y;return this};a._69=function(a){this._11068+=
"L"+a.x+","+a.y;return this};a._2021=function(a,g,b,d,k,r,y){this._11068+="A"+a+","+g+","+b+","+ +d+","+ +k+","+r+","+y;return this};a._9761=function(a,g){this._6473(a[0]);for(var b=1;b<a.length;b++)this._69(a[b]);g&&this._3432();return this};a._8742=function(a){this._6473(a[0]);this._11068+=" R ";for(var g=1;g<a.length;g++)this._11068+=","+a[g].x+","+a[g].y;return this};a._5161=function(a){a=u._4868._8999(a);this._9761(a,!0);return this};a._5840=function(a){this._11068+=a;return this};a._3432=function(){this._11068+=
"Z";return this};a._2016=function(){return this._11068};this._11068=""};e._5750=s;var n=function(){var g=n.prototype;g.mouseDown=function(a,g){};g.mouseMove=function(a,g){};g.mouseUp=function(a,g){};g.mouseDoubleClick=function(a,g){};g.initializationStarted=function(a,g){};g.initializationFinished=function(a,g){};g.initializationException=function(a,g){};g.get_Name=function(){return this._9951};g.get_ActionButton=function(){return this._5433};g.set_ActionButton=function(g){this._5433=a.pv.e(g,x.WebMouseButtonsEnumJS)};
g.get_IsEnabled=function(){return this._3461};g.set_IsEnabled=function(g){this._8226&&(a.pv.b(g),this._3461!==g&&(this._3461=g,this._4137(this._3461)))};g.get_DisableContextMenu=function(){return this._9999};g.set_DisableContextMenu=function(g){a.pv.b(g);this._9999=g};g.get_Cursor=function(){return this._10694};g.set_Cursor=function(g){a.pv.s(g);this._10694=g;this._7741()&&this._1761&&this._268(g)};g.get_ActionCursor=function(){return this._2220};g.set_ActionCursor=function(g){a.pv.s(g);this._2220=
g};g.get_MouseClicksDelta=function(){return this._6346};g.set_MouseClicksDelta=function(g){a.pv.n(g);0>g&&(g=10);this._6346=g};g.get_MouseClickCount=function(){return this._8430};g.get_IsMultipageModeSupported=function(){return!1};g.toString=function(){return this._9951};g.reset=function(){};g._2380=function(a){return!this._3461||null!=this._3463&&this._3463._290()&&(a=this._3463.getImageIndexByLocation(a.pv),0<=a&&a!=this._3463._547)?!1:!0};g._7741=function(a){return this._3461?null!=this._3463&&
null!=this._3463.get_FocusedImage():this._3461};g._1469=function(a,g){};g._1982=function(a,g){};g._6281=function(a,g){};g._6729=function(a,g){};g._6207=function(){this._10516();this._3833=this._3463=null};g._4137=function(a){(this._1761=a)?(this._268(this._10694),this.set_ActionCursor(this._2220)):this._268("")};g._202=function(){};g._10516=function(){this._5409();this.set_IsEnabled(!1);this._8226=!1;this._1837();this._7789();this._3463=null};g._4610=function(g){null!=this._3463&&a.pv.te("Visual tool is already activated in another image viewer");
if(this._3463=g)this._8226=!0,this._1433(),this._5409(),this._5519(),this._1903(),this.set_IsEnabled(!0)};g._1837=function(){};g._9215=function(a){this._2454("initializationStarted",a)};g._815=function(a){this._2454("initializationFinished",a)};g._2147=function(a){this._2454("initializationException",a)};g._5409=function(){null!=this._3463&&$(this._3463._6466).off("."+this._2936)};g._5519=function(){var a=this,g="."+a._2936,b=a._3463._6466;$(b).on("_2242"+g,function(g,k){a._1469(g,k)});$(b).on("_7059"+
g,function(g,k){a._1982(g,k)});$(b).on("_4337"+g,function(g,k){a._6281(g,k)});$(b).on("focusedIndexChanged"+g,function(g,k){a._6729(g,k)});$(b).on("disposed"+g,function(){a._6207()})};g._1733=function(a){if(this._7741()){var g=Date.now();Math.abs(g-this._3007)>this._6346&&(this._8430=0);this._3007=g;this._2454("mouseDown",a.e)}};g._9698=function(a){this._7741()&&this._2454("mouseMove",a.e)};g._9629=function(a){if(this._7741()){var g=Date.now();Math.abs(g-this._3007)<this._6346?this._8430++:this._8430=
1;this._2454("mouseUp",a.e)}};g._11042=function(a){this._7741()&&this._2454("mouseDoubleClick",a.e)};g._4628=function(a){this._3833&&this._8226&&(null==a&&(a=this._3463.get_FocusedImage()),this._3463._8326(a))};g._2454=function(a,g){$(this).triggerHandler(a,g)};g._6160=function(a,g,b){};g._268=function(a){null!=this._3463&&this._3463._1110(a)};g._1433=function(){var a=this._3463;a&&(this._3833=a._606);a=this._3833;if(null!=a){var g=a._1029;if(null==g||null==g.node.parentNode)a._1029=a.rect(0,0,a.width,
a.height).attr({"fill-opacity":0,fill:"#f00",stroke:"none"}),a._1029.toBack()}};g._1903=function(){this._7789();this._6781=this._3833.rect(-1E3,-1E3,0,0)};g._7789=function(){this._6781&&(this._6781.remove(),this._6781=null)};g._8052=function(){return this._3833};this._9951="VisualTool";this._3463=null;this._2936=a.WebImagingEnviromentJS.guid();this._5433=new x.WebMouseButtonsEnumJS(1);this._9999=this._8226=this._3461=!1;this._2220=this._10694="default";this._1761=!1;this._6781=this._1029=null;this._8430=
1;this._6346=250;this._3007=0;this._3833=null;this._1433();delete this._1029;delete this._6781;delete g.mouseDown;delete g.mouseMove;delete g.mouseUp;delete g.mouseDoubleClick;delete g.initializationStarted;delete g.initializationFinished;delete g.initializationException},w=function(){var g=w.superclass;g.constructor.call(this);var b=w.prototype;b.get_BackColor=function(){return this._2835};b.set_BackColor=function(a){a=q._8672(a);this._2835!==a&&(this._2835=a,null!=this._7779&&this._7779.attr({fill:a}))};
b.get_BorderColor=function(){return this._7427};b.set_BorderColor=function(a){a=q._8672(a);this._7427!==a&&(this._7427=a,null!=this._7779&&this._7779.attr({stroke:a}))};b.get_Rectangle=function(){var a=this._2848;return{x:a.x,y:a.y,width:a.width,height:a.height}};b.set_Rectangle=function(g){a.pv.r(g);if(this._8940&&this._3463){var b=this._3463._5257();g=this._4048(g,this._2848,{x:0,y:0,width:b.width,height:b.height})}u._4868._464(this._2848,g)||(this._2848={x:g.x,y:g.y,width:g.width,height:g.height},
this._1598||this._8491||(b=this._4637,u._4868._11395(g)?("t"===b._7455&&b._7782(),this._4637=this._6709):this._4637=this._5804),this._7741()&&this._4628())};b.set_IsEnabled=function(a){var b=this._3461;g.set_IsEnabled.call(this,a);a=this._3461;a!==b&&((b=this._4637,a)?this._7741()&&(this._4628(),null!=this._7779&&this._7779.show(),"t"===b._7455&&b._4166()):(null!=this._7779&&this._7779.hide(),"t"===b._7455&&b._7782()))};b.get_Movable=function(){return this._1973};b.set_Movable=function(g){a.pv.b(g);
if(this._1973!==g){this._1973=g;var b=this._5804;b._1578(g);this._4637===b&&b._8979()}};b.get_Resizable=function(){return this._4548};b.set_Resizable=function(g){a.pv.b(g);if(g!==this._4548){this._4548=g;var b=this._5804;b._8625(g);this._4637===b&&b._8979()}};b.get_SelectionOnlyOnImage=function(){return _8940};b.set_SelectionOnlyOnImage=function(g){a.pv.b(g);this._8940=g};b.get_Rotation=function(){return this._924};b.reset=function(){this._1837();this._268(this._10694)};b._1837=function(){this._1598=
this._8491=!1;this._5799()};b._1733=function(a){g._1733.call(this,a);if(this._1761&&a.b.equals(this._5433)&&this._7741()){var b=this._4637,d=this._3463._8306();if("b"===b._7455)this._6553(a,d);else{var k=a.pv;if(null==b._5163(k)){if(!this._1973&&(b=d.transformPoint(k),u._4868._10449(this._2848,b)))return;this._5799();this._6553(a,d)}else b._9849(a)}}};b._9698=function(a){g._9698.call(this,a);if(this._1761){var b=this._4637;if(this._8491||this._1598)b._9849(a);else if("t"===b._7455){var d=this._10694,
b=b._5163(a.pv);if(null!=b){var k=a.b,d=b._10694;if(k.equals(this._5433)||0===k.valueOf())a.handled=!0}this._268(d)}}};b._9629=function(a){g._9629.call(this,a);if(this._1761&&(this._8491||this._1598)){var b=this._4637;b._9849(a);1>this._2848.width&&1>this._2848.height?this.set_Rectangle(u._4868._3842()):(this._4637=b=this._5804,b._3953||b._4166())}};b._7741=function(a){if(this._3461){var g=this._3463;return null!=g&&(g=g.get_FocusedImage(),null==a&&(a=g),null!=a&&a===g)?!a.get_IsBad():!1}return this._3461};
b._1469=function(a,g){var b=this._3463;this._3234(b._8306());var k=b.get_FocusedImage(),b=b._6097(k);this._6160(b,k)};b._6281=function(a,g){this.reset()};b._6729=function(a,g){this.reset()};b._4610=function(a){g._4610.call(this,a);this._3234(a._8306())};b._10476=function(a,g){var b=this._3463._1953(a,g);return u._4868._10449(this._2848,b)};b._3431=function(){return this._7779};b._9402=function(){var a=this._2848,g=a.x,b=a.y;return{x0:g,y0:b,x1:g+a.width,y1:b+a.height}};b._10943=function(a,g,b,k){a=
u._4868._1094({x:a,y:g,width:b-a,height:k-g});this.set_Rectangle(a)};b._4048=function(a,g,b){var k=a.x,r=a.y,d=k+a.width,e=r+a.height,D=b.x,f=b.y,h=b.width;b=b.height;.01>Math.abs(a.width-g.width)&&.01>Math.abs(a.height-g.height)?(k<D&&(d+=D-k,k=D),r<f&&(e+=f-r,r=f),d>h&&(k-=d-h,d=h),e>b&&(r-=e-b,e=b)):(k<D&&(k=D),r<f&&(r=f),d<D&&(d=D),e<f&&(e=f),k>h&&(k=h),r>b&&(r=b),d>h&&(d=h),e>b&&(e=b));return d===k&&r===e?u._4868._3842():{x:k,y:r,width:d-k,height:e-r}};b._6553=function(a,g){var b=this._4637,
k=a.pv;this._8940?(k=g.transformPoint(k),this._900(k)&&b._9849(a)):b._9849(a)};b._5799=function(){this._5804._7782();this._4637=this._6709;this.set_Rectangle(u._4868._3842())};b._900=function(a){var g=this._3463._5257();return u._4868._10449({x:0,y:0,width:g.width,height:g.height},a)};b._6160=function(a,g,b){this._7741(g)&&(g=this._2848,u._4868._11395(g)?this._1750():(b=Math.max(Math.abs(a._1231),Math.abs(a._7827)),0===b&&(b=Math.max(Math.abs(a._5728),Math.abs(a._216))),b={"stroke-width":1/b},null==
this._7779?(this._7779=this._3833.rect(g.x,g.y,g.width,g.height).attr({fill:this._2835,stroke:this._7427,"stroke-dasharray":"--"}),this._6781&&this._7779.insertAfter(this._6781)):(b.x=g.x,b.y=g.y,b.width=g.width,b.height=g.height),g=this._4637,"t"===g._7455&&(g._8979(),g._10985()),this._7779.attr(b),q._144(this._7779,a)))};b._1750=function(){null!=this._7779&&(this._7779.remove(),this._7779=null)};b._3234=function(a){this._5804._3234(a);this._6709._3234(a)};b._4719=function(){this._1598=!0};b._236=
function(){this._1598=!1};b._1217=function(){this._8491=!0};b._4979=function(){this._8491=!1};this._9951="RectangularSelection";this._7779=null;this._2835="rgba(0,200,255,0.5)";this._7427="rgba(0,0,0,1)";this._2848=u._4868._3842();this._8940=this._4548=this._1973=!0;this._8491=this._1598=!1;this._924=0;b=new P(this);b._977={width:0,height:0};this._6709=b;b=new ga(this,!1);b._7412(!1);this._5804=b;this._4637=this._6709;$(this).on("_10811",function(){this._1217()});$(this).on("_9285",function(){this._4979()});
$(this).on("_1563",function(){this._4719()});$(this).on("_8016",function(){this._236()})};a.extend(w,n);var v=function(){var g=v.superclass,b=v.prototype;g.constructor.call(this);b.get_ZoomButton=function(){return this._8120};b.set_ZoomButton=function(g){this._8120=a.pv.e(g,x.WebMouseButtonsEnumJS)};b.set_ActionCursor=function(a){g.set_ActionCursor.call(this,a);this._5804._7780.set_Cursor(a);this._3498.set_Cursor(a)};b._1733=function(a){g._1733.call(this,a);var b=this._4637;if("t"===b._7455){var d=
this._8120;if(a.b.equals(d)&&(b=this._5433.equals(d)?b._5334:b._2491(a.pv),null!=b&&("move"===b._8668||"zoom"===b._8668))){var b=this._3463,d=this.get_Rectangle(),d=u._4868._1094(d),k=b._640(),r=b._10050._6746(d),y=b.get_ImageRotationAngle(),k=90==y||270==y?Math.min(k.height/r.width,k.width/r.height):Math.min(k.width/r.width,k.height/r.height);this._7320=u._4868._8105(d);this.reset();b.set_ImageSizeMode(new x.WebImageSizeModeEnumJS(3));d=b._4668*k;1>d&&(d=1);1E3<d&&(d=1E3);b.set_Zoom(d);a.handled=
!0}}};b._1469=function(a,b){var d=this,k=d._3463,r=k._6097();if(null!=d._7320){var y=k._640(),r=r.transformPoint(d._7320);k._558(r.x-y.width/2,r.y-y.height/2);d._7320=null;setTimeout(function(){g._1469.call(d,a)},0)}else g._1469.call(d,a)};this._9951="ZoomSelection";this._8120=new x.WebMouseButtonsEnumJS(1);this._7320=null;b=new N(this);b._8668="zoom";this._5804._2945.splice(1,0,b);this._3498=b;this.set_ActionCursor("zoom-in")};a.extend(v,w);var t=function(){},B=function(b){var d=B.prototype;d._1563=
function(a){};delete d._1563;d._8016=function(a){};delete d._8016;d._2099=function(a,b){};delete d._2099;d._10811=function(a){};delete d._10811;d._9285=function(a){};delete d._9285;d.get_BackColor=function(){return this._2835};d.set_BackColor=function(b){a.pv.s(b);this._2835!==b&&(this._2835=b,this._6663())};d.get_BorderColor=function(){return this._7427};d.set_BorderColor=function(b){a.pv.s(b);this._7427!==b&&(this._7427=b,this._6663())};d.get_SelectedRect=function(){var a=this._2848;return{x:a.x,
y:a.y,width:a.width,height:a.height}};d.set_SelectedRect=function(b){a.pv.r(b);u._4868._464(this._2848,b)||(this._2848={x:b.x,y:b.y,width:b.width,height:b.height},this._6663())};d.get_Rotation=function(){return this._924};d._9402=function(){var a=this._2848,b=a.x,g=a.y;return{x0:b,y0:g,x1:b+a.width,y1:g+a.height}};d._10943=function(a,b,g,k){var d=0,y=0,d=Math.min(a,g),y=Math.min(b,k),e=0,f=0,e=Math.max(a,g),f=Math.max(b,k);this._2848={x:d,y:y,width:e-d,height:f-y};this._6663()};d.clone=function(){var a=
new this.constructor(this._2848);a._2835=this._2835;a._7427=this._7427;return a};d._10476=function(a,b){return u._4868._10449(this._2848,{x:a,y:b})};d._2199=function(){null!=this._7754&&(this._7754.remove(),this._7754=null);var a=this._4637;"t"===a._7455&&a._3953&&a._7782()};d._6160=function(a,b){var g=this.get_SelectedRect(),k=this._9990(a,b),d=Math.max(Math.abs(k._1231),Math.abs(k._7827));0===d&&(d=Math.max(Math.abs(k._5728),Math.abs(k._216)));d={"stroke-width":1/d};null==this._7754?this._7754=
this._3833.rect(g.x,g.y,g.width,g.height).attr({fill:this._2835,stroke:this._7427}):(d.x=g.x,d.y=g.y,d.width=g.width,d.height=g.height,d.fill=this._2835,d.stroke=this._7427);var y=this._4637;!u._4868._11395(g)&&"t"===y._7455&&y._3953&&(y._8979(),y._10985());this._7754.attr(d);q._144(this._7754,k)};d._9990=function(a,b){return a._6097(b)};d._6759=function(a,b){return a._8306(b)};d._6663=function(a){null==a&&(a=!0);this._2454("_2099",a)};d._6317=function(a){this._5804._3234(a);this._6709._3234(a);return a};
d._2454=function(a,b){$(this).triggerHandler(a,b)};d._8052=function(){return this._3833};d._4719=function(){this._1598=!0};d._236=function(){this._1598=!1};d._1217=function(){this._8491=!0};d._4979=function(){this._8491=!1};null==b&&(b=u._4868._3842());a.pv.r(b);this._2848={x:b.x,y:b.y,width:b.width,height:b.height};this._2835="rgba(0,200,255,0.5)";this._7427="rgba(0,0,0,1)";this._924=0;this._2936=a.WebImagingEnviromentJS.guid();this._3833=null;b=new P(this);b._977={width:100,height:100};this._6709=
b;b=new ga(this);b._7412(!1);this._4637=this._5804=b;this._8491=this._1598=!1;this._7754=null;$(this).on("_10811",function(){this._1217()});$(this).on("_9285",function(){this._4979()});$(this).on("_1563",function(){this._4719()});$(this).on("_8016",function(){this._236()})};a.extend(B,t);var H=function(b){function d(a,b){var k=a.type,g={i:this,r:b};$(a.data.c).triggerHandler(k,g)}var e=H.prototype;b===t||a.pv.ic(b.prototype,t)||a.pv.te("Collection can work only with classes inherited from InteractiveObject");
this._10765=b;this._5680=[];e._11063=function(a,b){};delete e._11063;e.get_Item=function(b){a.pv.n(b);(0>b||b>=this._5680.length)&&a.pv.toe();return this._5680[b]};e.get_Count=function(){return this._5680.length};e.indexOf=function(b){a.pv.c(b,this._10765);return this._5680.indexOf(b)};e.clearItems=function(){var a=this._5680;if(0<a.length){for(var b=0;b<this._5680.length;b++)this._9954(a[b]);this._5680=[];this._6110("clear",null,null,null,a)}};e.addItem=function(a){this.insertItem(this._5680.length,
a)};e.insertItem=function(b,g){(0>b||b>this._5680.length)&&a.pv.toe();this._1390(g);this._7742(g);this._5680.splice(b,0,g);this._6110("insert",b,g)};e.removeItem=function(b){a.pv.c(b,this._10765);b=this._5680.indexOf(b);-1===b&&a.pv.te("Collection does not contains specified interactive object");this.removeItemAt(b)};e.removeItemAt=function(b){(0>b||b>=this._5680.length)&&a.pv.toe();var g=this._5680[b];this._9954(g);this._5680.splice(b,1);this._6110("remove",b,g)};e.setItem=function(b,g){(0>b||b>=
this._5680.length)&&a.pv.toe();this._1390(g);var k=this._5680[b];k!=g&&(this._5680[b]=g,this._9954(k),this._7742(g),this._6110("set",b,g,k))};e.toArray=function(){return this._5680.slice()};e._4988=function(){for(var a=0;a<this._5680.length;a++)this._9954(this._5680[a]);this._5680=[]};e._6110=function(a,b,k,g,d){a={actionName:a};null!=b&&(a.index=b);null!=k&&(a.item=k);null!=g&&(a.previousItem=g);null!=d&&(a.items=d);$(this).triggerHandler("_11063",a)};e._1390=function(b){a.pv.c(b,this._10765);null!=
b._3833&&a.pv.te("Item is already used in other collection.")};e._7742=function(a){var b={c:this};$(a).on("_2099",b,d)};e._9954=function(a){$(a).off("_2099",d)}},E=function(){E.superclass.constructor.call(this,B)};a.extend(E,H);var Q=function(){function b(a,k){var g=a.data.t,r=g._8157(this);if(null!=r){var y=k.item,e=k.previousItem;switch(k.actionName){case "remove":d(g,y);g._5507==y&&g._1458();break;case "insert":g._10691(y,r);break;case "clear":y=k.items;for(e=0;e<y.length;e++)d(g,y[e]);g._1458();
break;case "set":d(g,e),g._10691(y,r),g._5507==e&&g._1458(y)}g._2454("collectionChanged",{collection:this,image:r})}}function d(a,b){var k="."+b._2936;$(a).off(k);delete a._11393[b._2936];b._2199();b._3833=null}function e(a,b){if(b.r){var k=a.data.t,g=b.i;g._6160(k._3463,k._11393[g._2936])}}function f(a){a.data.t._2454("buildingStarted",this)}function W(a){a.data.t._2454("buildingFinished",this)}function k(a,b){var k=a._2936,g=k.length/2;return k.substr(0,g)+b.substr(g)}function r(a,b){var g=b.get_Guid(),
d=a._3833.canvas,g=k(a,g),r=$(d).children("#"+g);if(0===r.length){d=document.createElementNS(d.namespaceURI,"g");d.id=g;$(d).insertAfter(a._6781.node);r=a._3463;if(r._7963(b)._10330()){var e=null;r.get_FocusedImage()!==b&&(e=r._4072(b));y(a,g,d,e)}return d}return r[0]}function y(a,b,k,g){var d=a._3833.canvas,r=$(d).children("defs")[0];b+="clip";if(null!=g){var y=$(r).children("#"+b)[0];null==y?(y=document.createElementNS(d.namespaceURI,"clipPath"),g=a._3833.rect(g.x,g.y,g.width,g.height),y.appendChild(g.node),
y.id=b,r.appendChild(y),$(k).css("clip-path","url(#"+b+")")):(a=$(y).children()[0],$(a).attr("x",g.x),$(a).attr("y",g.y),$(a).attr("width",g.width),$(a).attr("height",g.height))}else $(r).children("#"+b).remove(),$(k).css("clip-path","")}var L=Q.superclass,J=Q.prototype;L.constructor.call(this);J.focusedItemChanged=function(a,b){};delete J.focusedItemChanged;J.collectionChanged=function(a,b){};delete J.collectionChanged;J.buildingStarted=function(a,b){};delete J.buildingStarted;J.buildingFinished=
function(a,b){};delete J.buildingFinished;J.get_FocusedItem=function(){return this._5507};J.set_FocusedItem=function(b){null!=b&&a.pv.c(b,B);this._1458(b)};J.get_IsMultipageModeSupported=function(){return!0};J.set_IsEnabled=function(a){var b=this._3461;L.set_IsEnabled.call(this,a);this._3461!==b&&(this._3461?this._7741()&&this._4628():this._9635(!1))};J.addAndBuild=function(a){a._4637=a._6709;this.add(a)};J.add=function(b,k){var g=this._3463;null==g&&a.pv.te("VisualTool is not set in viewer.");var d=
g.get_FocusedImage();null==k?k=d:(a.pv.c(k,a.WebImageJS),-1===g.get_Images().indexOf(k)&&a.pv.te("Image collection of viewer does not contain specified image."));this._5651(k,b);k===d&&this._1458(b)};J.getSelections=function(a){return this._10020(a)};J.reset=function(){this._9635(!0);this._1125={};this._11393={}};J._1733=function(a){var b=a.pv;if(a.b.equals(this._5433)&&this._7741()){L._1733.call(this,a);var k=this._5507;if(null!=k){var g=k._4637;k._1598||k._8491?g._9849(a):"t"===g._7455?null==g._5163(b)?
this._8509(a):g._9849(a):g._9849(a)}else this._8509(a)}};J._9698=function(a){if(this._1761){L._9698.call(this,a);var b=this._5507;if(null!=b){var k=b._4637;b._1598||b._8491?k._9849(a):"t"===k._7455&&k._3953&&(b=this._10694,k=k._2491(a.pv),null!=k&&(b=k._10694,k=a.b,k.equals(this._5433)||0===k.valueOf())&&(a.handled=!0),this._268(b))}else this._268(this._10694)}};J._9629=function(a){L._9629.call(this,a);if(this._1761){var b=this._5507;if(null!=b){var k=this._3463,g=k.get_FocusedImage(),d=b._4637,r=
b._1598||b._8491;d._9849(a);a=b._1598||b._8491;r&&!a&&(r=b.get_SelectedRect(),b._9990(k,g).transformRectangle(r),r=u._4868._8105(r),r=k.getImageIndexByLocation(r),-1!=r&&k._547!==r&&(a=k.get_Images().get_Image(r),this._9359=!0,this._110(b,g,a),k.disableAutoScrollToFocusedImage(),k.set_FocusedIndex(r),k.enableAutoScrollToFocusedImage(),this._9359=!1),"b"===d._7455&&(b._4637=b._5804,b._4637._3953||b._4637._4166()))}}};J._4610=function(a){L._4610.call(this,a);this._4529()};J._1837=function(){this._9635(!1);
this._5507=null};J._2380=function(a){if(null==this._3463.get_FocusedImage())return!1;var b=this._5507;if(null!=b)if(b=b._4637,"t"===b._7455){if(null!=b._2491(a.pv))return!0}else return!0;return L._2380.call(this,a)};J._1469=function(a,b){this._4529();var k=this._3463.get_FocusedImage();if(null!=k){var k=r(this,k),g;g=this._2936;g=g.substr(0,g.length/2);g=$(this._3833.canvas).children("*[id^='"+g+"']");0!==g.length&&(g=g[g.length-1],k!==g&&$(k).insertAfter(g))}};J._6729=function(a,b){this._1458()};
J._3771=function(a){for(var b=this._3463,k=b._10911(),g=0;g<k.length;g++){var d=k[g],r=d.get_Guid(),r=this._1125[r];if(null!=r&&(r=r._5680,0<r.length))for(var d=r[0]._6759(b,d).transformPoint(a),y=r.length-1;0<=y;y--){var e=r[y];if(e._10476(d.x,d.y))return e}}return null};J._9635=function(a){for(var b in this._1125){var k=this._1125[b];if(null!=k){for(var g=k._5680,d=0;d<g.length;d++)g[d]._2199();a&&(k._4988(),g="."+this._2936,$(k).off(g))}}};J._6160=function(a,b,k){this._7741(b)&&this._998(b)};J._8509=
function(a){var b=this._3771(a.pv);this._1458(b);null!=b&&(b=b._4637,b._9849(a),null!=b._5334&&this._268(b._5334._10694))};J._1458=function(b){var k=this,g=k._3463;if(null!=g&&!k._9359){void 0==b&&(b=null);var d;null!=b&&(d=k._11040(b),null==d&&a.pv.te("Selection is not found."));var r=k._5507;if(r!=b){var y=function(){if(null!=b){var a=b.get_SelectedRect();if(!u._4868._11395(a)){var d=g.get_FocusedImage();b._9990(g,d).transformRectangle(a);a=u._4868._1094(a);d=g._3602();u._4868._3187(a,d)||(a=u._4868._8105(a),
a=g.transformPointFromViewerToImage(a),g.scrollToImagePoint(a.x,a.y))}a=b._4637;"t"!==a._7455||a._3953||a._4166()}k._2454("focusedItemChanged",{oldValue:r,newValue:b})};k._5507=b;var e=g.get_FocusedImage();if(null!=r){var f=r._4637;"t"===f._7455&&f._3953&&f._7782()}null!=b&&d!==e?(k._9359=!0,d=g.get_Images().indexOf(d),g.setFocusedIndexAsync(d,y),k._9359=!1):y()}}};J._11040=function(a){return this._11393[a._2936]};J._8157=function(a){var b=this._3463;if(null!=b)for(var k in this._1125)if(this._1125[k]===
a){var g=b.get_Images(),d=g.indexOf(k);if(-1!=d)return g.get_Image(d)}};J._10020=function(k,d){a.pv.c(k,a.WebImageJS);null==d&&(d=!0);if(d){var y=this._3463;if(null==y||-1===y.get_Images().indexOf(k))return null}var f=k.get_Guid(),D=this._1125[f];if(null==D){var p=D=this._11282(),L="."+this._2936,W={t:this};$(p).on("_11063"+L,W,b);$(p).on("_2099"+L,W,e);this._1125[f]=D;null!=y&&r(this,k)}return D};J._11282=function(){return new E};J._5651=function(a,b){this._10020(a).addItem(b)};J._110=function(a,
b,k){var g=this._3463,d=a._9990(g,b),g=a._6759(g,k),y=a._2848;d.transformRectangle(y);g.transformRectangle(y);a._6317(g);this._10020(b).removeItem(a);this._11393[a._2936]=k;this._5651(k,a);b=r(this,k);a=a._7754;if(null==a.length)b.appendChild(a.node);else for(k=0;k<a.length;k++)b.appendChild(a[k].node)};J._10691=function(a,b){this._11393[a._2936]=b;a._3833=this._8052();var k=a._6759(this._3463,b);a._6317(k);var k="."+this._2936,g={t:this};$(a).on("_1563"+k,g,f);$(a).on("_8016"+k,g,W);k=r(this,b);
a._6160(this._3463,b);g=a._7754;if(null==g.length)k.appendChild(g.node);else for(var d=0;d<g.length;d++)k.appendChild(g[d].node)};J._4529=function(){var a=this._3463;if(null!=a){for(var b={},g=a.get_Images(),e=0;e<g.get_Count();e++){var f=g.get_Image(e),p=f.get_Guid();null!=this._1125[p]&&(b[p]=f)}g=a.get_FocusedImage();for(p in this._1125)if(null==b[p]){var C=this._1125[p];if(null!=C){for(var L=C._5680,e=0;e<L.length;e++)f=L[e],d(this,f),f===this._5507&&(this._5507=null);C._4988();f="."+this._2936;
$(C).off(f)}e=this._3833.canvas;f=k(this,p);e=$(e).children("#"+f)[0];null!=e&&(y(this,f,e),$(e).remove());delete this._1125[p]}else if(C=this._1125[p],null!=C){f=b[p];L=C._5680;if(0<L.length)for(C=L[0]._6759(a,f),e=0;e<L.length;e++)L[e]._6317(C);e=r(this,f);C=null;f!==g&&(C=a._4072(f));f=k(this,p);y(this,f,e,C)}}};J._998=function(a){var b=a.get_Guid(),k=this._1125[b];if(null!=k&&(b=this._3463,k=k._5680,0<k.length))for(var g=k[0]._6759(b,a),d=0;d<k.length;d++){var r=k[d];r._6317(g);r._6160(b,a);r===
this._5507&&"t"===r._4637._7455&&(r._4637._8979(),r._4637._10985())}};this._9951="Multi-rectangular selection";this._1125={};this._11393={};this._5507=null;this._9359=!1};a.extend(Q,n);var F=function(){function b(a){var k=a._5015;if(null!=k){var g=a._5680[k.ci],d=a._1322(g);null!=d&&(k=d[k.ei],null!=k&&k.attr({fill:g._252,stroke:g._1086}))}a._5015=null}function d(a){var b=a._5015;if(null!=b){var g=a._1322(a._5680[b.ci]);null!=g&&(b=g[b.ei],null!=b&&b.attr({fill:a._1891,stroke:a._2317}))}}var e=F.superclass;
e.constructor.call(this);var f=F.prototype;f.set_ActionCursor=function(a){e.set_ActionCursor.call(this,a);if(this._1761)for(var b in this._7124)this._7124[b].attr({cursor:a})};f.get_SelectedItem=function(){if(null==this._5015)return-1;for(var a=this._5015.ci,b=0,g=0;g<a;g++)b+=this._5680[g].get_Count();return b+=this._5015.ei};f.set_SelectedItem=function(e){a.pv.n(e);0>e&&a.pv.toe();for(var k=e,r=0,y=0;r<this._5680.length;r++){var f=this._5680[r].get_Count(),y=y+f;if(k>=f)k-=f;else break}e>=y&&a.pv.toe();
b(this);this._5015={ci:r,ei:k};d(this)};f.get_SelectedItemBrushColor=function(){return this._1891};f.set_SelectedItemBrushColor=function(a){a=q._8672(a);this._1891!==a&&(this._1891=a,d(this))};f.get_SelectedItemPenColor=function(){return this._2317};f.set_SelectedItemPenColor=function(a){a=q._8672(a);this._2317!==a&&(this._2317=a,d(this))};f.set_IsEnabled=function(a){var b=this._3461;e.set_IsEnabled.call(this,a);a=this._3461;if(a!==b)if(b=this._7124,!a)for(var g in b)b[g].hide();else if(this._7741())for(g in this._4628(),
b)b[g].show()};f.addItems=function(b){a.pv.c(b,I);this._5680.push(b);this._7741()&&this._4628()};f.removeItemAt=function(b){a.pv.n(b);0>b||b>=this._5680.length?a.pv.toe():this._975(b)};f.clearItems=function(){if(0!=this._5680.length){for(var a in this._7124)this._7124[a].remove();this._7124={};this._5015=null;this._5680=[]}};f.findItem=function(b,k){a.pv.n(b,k);if(0<this._5680.length){var g=this._4845({x:b,y:k});if(null!=g)return this._5680[g._collect].get_Item(g._533)}};f.reset=function(){this.clearItems()};
f.selectItem=function(e){a.pv.c(e,K);var k=this._5015;if(null==k||this._5680[k.ci]._7341[k.ei]!==e){for(var k=0,r=-1;k<this._5680.length&&(r=this._5680[k]._7341.indexOf(e),-1===r);k++);-1===r&&a.pv.te("Item is not contained in tool regions.");b(this);this._5015={ci:k,ei:r};d(this)}};f._4137=function(a){var b=this._1761;e._4137.call(this,a);if(this._1761!==b&&!this._1761)for(var g in this._7124)this._7124[g].attr({cursor:""})};f._4845=function(a){if(0<this._5680.length)return a=this._3833.getElementByPoint(a.x-
(document.body.scrollLeft||document.documentElement.scrollLeft),a.y-(document.body.scrollTop||document.documentElement.scrollTop)),null==a||null==a._collect?null:a};f._4610=function(a){e._4610.call(this,a);this._202();this.set_ActionCursor(this._2220)};f._1837=function(){for(var a in this._7124)this._7124[a].remove();this._7124={};this._5015=null};f._202=function(){this._7741()&&this._4628()};f._1733=function(a){e._1733.call(this,a);a.b.equals(this._5433)&&this._7741()&&(a=this._4845(a.ps),b(this),
null!=a&&(this._5015={ci:a._collect,ei:a._533},d(this)))};f._1469=function(a,b){var g=this._3463,d=g.get_FocusedImage(),g=g._6097(d);this._6160(g,d)};f._6281=function(a,b){this.reset()};f._6160=function(a,b,g){if(this._7741(b)&&(g=this._3463.get_FocusedImage(),b===g)){var d=this._6781;for(b=0;b<this._5680.length;b++){g=this._5680[b];var e=this._1322(g);if(null==e){for(var e=this._3833,f=g,D=b,p=e.set(),C=f._252,h=f._1086,t=0;t<f.get_Count();t++){var l,Aa=f.get_Item(t),B=C,m=h;l=D;var n=t,B=e.path(0,
0," ").attr({path:Aa.get_Path(),fill:B,stroke:m}),Aa=Aa.get_ToolTip();null!=Aa&&B.attr({title:Aa});B._collect=l;B._533=n;l=B;null!=d&&(l.insertAfter(d),d=l);p.push(l)}e=p;e.attr("cursor",this._2220);this._7026(g,e)}q._144(e,a);d=e[e.length-1]}}};f._1322=function(a){return this._7124[a._2936]};f._7026=function(a,b){this._7124[a._2936]=b};f._975=function(a){var b=this._5680[a];this._5680.splice(a,1);b=b._2936;this._7124[b].remove();for(delete this._7124[b];a<this._5680.length;a++)if(b=this._1322(this._5680[a]),
null!=b)for(var g=0;g<b.length;g++)b[g]._collect=a};this._9951="HighlightTool";this._5680=[];this._7124={};this._5015=null;this._1891="rgba(0,0,255,0.18)";this._2317="rgba(0,128,0,0.75)"};a.extend(F,n);var K=function(a){var b=K.prototype;b.get_Path=function(){return this._9983};b.get_ToolTip=function(){return this._7561};b.set_ToolTip=function(a){this._7561=a};this._9983=a;this._7561=""};K.createObjectFromRectangle=function(b){a.pv.r(b);var d=new s;d._5161(b);return new K(d._2016())};K.createObjectFromPolygon=
function(b){a.pv.ad(b,a.pv.p);var d=new s;d._9761(b,!0);return new K(d._2016())};var I=function(b,d,e){var f=I.prototype;f.get_Count=function(){return this._7341.length};f.get_Item=function(b){a.pv.n(b);(0>b||b>this._7341.length)&&a.pv.toe();return this._7341[b]};this._252=q._8672(d);this._1086=e=null!=e?q._8672(e):"rgba(0,0,0,1)";a.pv.ac(b,K);this._7341=b;this._2936=a.WebImagingEnviromentJS.guid()},fa=function(){var b=fa.superclass;b.constructor.call(this);var d=fa.prototype;d.get_ZoomInButton=function(){return this._4126};
d.set_ZoomInButton=function(b){this._4126=a.pv.e(b,x.WebMouseButtonsEnumJS)};d.get_ZoomOutButton=function(){return this._5394};d.set_ZoomOutButton=function(b){this._5394=a.pv.e(b,x.WebMouseButtonsEnumJS)};d.get_ZoomStep=function(){return this._1013};d.set_ZoomStep=function(b){a.pv.n(b);this._1013=b};d.reset=function(){this._1837()};d._1733=function(a){b._1733.call(this,a);var d=this._3463,e=d.get_Zoom(),k=0;this._5394.equals(a.b)&&(k-=this._1013);this._4126.equals(a.b)&&(k+=this._1013);k=e*(1+k/100);
1>k&&(k=1);1E3<k&&(k=1E3);k!==e&&(this._7843=e=a.pv,this._8036=d._1953(e),d.set_ImageSizeMode(3),d.set_Zoom(k));a.handled=!0};d._9698=function(a){b._9698.call(this,a);this._268(this._10694)};d._1469=function(a,b){if(null!=this._8036){var g=this._3463,k=g._7254(this._8036),d=k.x-this._7843.x,k=k.y-this._7843.y,e=g._1704();g._558(e.x+d,e.y+k);this._8036=this._7843=null}};d._1837=function(){this._8036=this._5377=null};this._9951="Zoom";this._4126=new x.WebMouseButtonsEnumJS(1);this._5394=new x.WebMouseButtonsEnumJS(2);
this._1013=10;this._8036=this._7843=null;this._9999=!0};a.extend(fa,n);var O=function(){function b(a){if(a._7741()){var g=a._3463._4022[0],k=a._3463.get_FocusedImage();if(null!=g&&null==a._6644){a._6644=$("<div>").insertBefore(g);var g=a._7449.width,r=a._7449.height,e=h(a),e={width:g,height:r,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":e,position:"absolute","pointer-events":"none"};$(a._6644).css(e);a._6644[0].oncontextmenu=function(a){return!1};
a._1956=Raphael(a._6644[0],g,r);a._1956.renderfix();null!=k&&d(a,k)}}}function d(a,k){if(null==a._1956)b(a);else{var r=new ja._2326(a._1956,k,a._3463._5699);a._11056=r;r._10094();e(a);r._9158(a._3463._1814);r._1751(1024,1024);r._7023();r._5998()}}function e(a){var b=a._11056,g=a._3463._10050,k=g._7826;if(null==b)d(a,k);else{b._10094();var r=a._9194/100;b._7511(g._444*r,g._9006*r);b._9158(g._1814);r=k.gi();if(r!==a._1028){k=b._429(k);if(0!=k.length){$(k[0]).remove();for(var f=1;f<k.length;f++)k[f].remove()}b._7072(g);
a._1028=r}a={x:0,y:0,width:a._7449.width,height:a._7449.height};b._6581(a);b._6353(a);g=g._6205();null!=g&&(g=g.clone(),g.set_BorderWidth(0));b._9073(g);b._5998()}}function f(a,b){var g=b.x,k=b.y;if(a._3463._10050._10755()){$(a._6644).css("display","block");var d=a._3463._4072(),r=a._3463._3602(),e=a._3463._1704(),d=u._4868._6314(d,r),D=a._11056._4085(!0),r=Math.round(Math.max(D.width,a._7449.width)),D=Math.round(Math.max(D.height,a._7449.height));a._1956.setSize(r,D);D=a._9194/100;r=a._7449.width/
(2*D);D=a._7449.height/(2*D);g<r+d.x&&(g=r+d.x+1);k<D+d.y&&(k=D+d.y+1);var p=d.width;g+r>p+d.x&&(g=p-Math.ceil(r)-1+d.x);r=d.height;k+D>r+d.y&&(k=r-Math.ceil(D)-1+d.y);$(a._6644).css({"margin-left":g-a._7449.width/2-e.x,"margin-top":k-a._7449.height/2-e.y});e=a._3463._1953(g,k);g=a._11056;d=g._2882();k=e.x*d.x;d=e.y*d.y;r=a._7449.width/2;D=a._7449.height/2;p=g._4085();e={x:k-r,y:d-D,width:a._7449.width,height:a._7449.height};switch(g._9863()){case 90:e={x:p.height-d-r,y:k-D,width:a._7449.height,height:a._7449.width};
break;case 180:e={x:p.width-k-r,y:p.height-d-D,width:a._7449.width,height:a._7449.height};break;case 270:e={x:d-r,y:p.width-k-D,width:a._7449.height,height:a._7449.width}}0>e.x&&(e.x=0);0>e.y&&(e.y=0);k=a._6644[0];k.scrollLeft=e.x;k.scrollTop=e.y;g._6581(e)}else $(a._6644).css("display","none")}function h(a){var b="inherit";if(null!=a._6644)for(a=a._6644.parent();0!==a.length&&a[0]!=document;){var g=a.css("background-color");if("rgba(0, 0, 0, 0)"!==g&&"transparent"!==g){b=g;break}a=a.parent()}return b}
var k=O.superclass;k.constructor.call(this);var r=O.prototype;r.get_Size=function(){return{width:this._7449.width,height:this._7449.height}};r.set_Size=function(b){a.pv.sz(b);var g=b.width;b=b.height;(0>g||0>b)&&a.pv.tae();if(this._7449.width!==g||this._7449.height!==b)this._7449={width:g,height:b},null!=this._6644&&($(this._6644).css({width:g,height:b}),this._1956.width=g,this._1956.height=b,null!=this._11056&&(e(this),null!=this._10725&&f(this,this._10725)))};r.get_Zoom=function(){return this._9194};
r.set_Zoom=function(b){a.pv.n(b);100>b&&(b=100);500<b&&(b=500);b!==this._9194&&(this._9194=b,null!=this._11056&&(e(this),null!=this._10725&&f(this,this._10725)))};r.set_ActionCursor=function(a){k.set_ActionCursor.call(this,a);this._7741()&&this._1761&&this._905&&this._268(a)};r.set_IsEnabled=function(a){var b=this._3461;k.set_IsEnabled.call(this,a);a=this._3461;a===b||a||this._1658()};r.reset=function(){this._6917()};r._1733=function(a){k._1733.call(this,a);if(a.b.equals(this._5433)&&this._7741()){var b=
a.pv,g=!1,d=this._3463._10050;null!=d&&(g=d._6038(b));g&&(e(this),this._9425(b),f(this,b),a.handled=!0,a.active=!0)}};r._9698=function(a){k._9698.call(this,a);if(this._905){var b=a.pv;this._268(this._2220);this._10725=b;f(this,b);a.handled=!0;a.active=!0}else this._268(this._10694)};r._9629=function(a){k._9629.call(this,a);this._905&&this._6917()};r._4610=function(a){var d=this;k._4610.call(d,a);var r=".i"+this._2936;$(a._6466).on("_1450"+r,function(a,b){d._1869(a,b)});null==d._6644&&b(d)};r._10516=
function(){var a=".i"+this._2936;$(this._3463._6466).off(a);k._10516.call(this);this._1837();this._1658()};r._1837=function(){this._10725=null;this._905=!1};r._4137=function(a){(this._1761=a)?this._268(this._10694):this._268("")};r._7741=function(a){if(this._3461){var b=this._3463;return null!=b&&(b=b.get_FocusedImage(),null==a&&(a=b),null!=a&&a===b)?!a.get_IsBad():!1}return this._3461};r._6729=function(a,b){this._905&&this._6917()};r._1658=function(){null!=this._11056&&(this._11056=null);$(this._6644).remove();
this._1028=this._1956=this._6644=null;this._905=!1};r._9425=function(a){if(null!=this._6644){this._905=!0;var b=h(this);$(this._6644).css({display:"block","background-color":b});this._10725=a;this.set_ActionCursor(this._2220)}};r._6917=function(){$(this._6644).css("display","none");this._1837();this.set_Cursor(this._10694)};r._1869=function(a){this._905&&this._7741()&&f(this,this._10725)};this._9951="Magnifier";this._7449={width:200,height:200};this._9194=250;this._10725=this._1028=this._11056=this._1956=
this._6644=null;this._905=!1;this._2220="none"};a.extend(O,n);var na=function(b){function d(a,b){var g="."+a._2936;$(b).on("initializationStarted"+g+" initializationFinished"+g+" initializationException"+g,function(b,g){a._2454(b.type,g)})}var e=na.superclass;e.constructor.call(this);var f=na.prototype;f.get_VisualTools=function(){return this._6501.slice()};f.get_Tool=function(b){a.pv.n(b);0>b&&b>this._6501.length&&a.pv.toe();return this._6501[b]};f.get_ActiveVisualTool=function(){return this._9942};
f.set_ActiveVisualTool=function(b){if(0!=this._6501.length){if(null!=b&&(a.pv.c(b,n),-1===this._6501.indexOf(b)&&a.pv.te("Composite visual tool does not contain specified visual tool."),this._9942==b))return;var g=null==b?!0:!1;this._9942=b;for(b=this._6501.length-1;0<=b;b--)this._6501[b]._4137(g);null!=this._9942&&this._9942._4137(!0)}};f.set_IsEnabled=function(a){e.set_IsEnabled.call(this,a);for(var b=this._6501.length-1;0<=b;b--)this._6501[b].set_IsEnabled(a)};f.get_IsMultipageModeSupported=function(){for(var a=
0;a<this._6501.length;a++)if(this._6501[a].get_IsMultipageModeSupported())return!0;return!1};f.get_DisableContextMenu=function(){if(null!=this._9942)return this._9942._9999;for(var a=0;a<this._6501.length;a++)if(this._6501[a]._9999)return!0;return!1};f.set_DisableContextMenu=function(b){a.pv.b(b);var g=this._6501;if(0!==g.length)if(null!=this._9942)this._9942._9999=b;else if(1===g.length)g[0]._9999=b;else for(var d=0;d<g.length;d++)g[d]._9999!=b&&a.pv.te("The property cannot be set for composite visual tool.")};
f.contains=function(b){a.pv.c(b,n);for(var g=this._6501,d=0;d<g.length;d++){var e=g[d];if(a.pv.ic(e,na)){if(e.contains(b))return!0}else if(e===b)return!0}return!1};f.reset=function(){for(var a=this._6501.length-1;0<=a;a--)this._6501[a].reset()};f._2380=function(a){if(this._3461){if(null!=this._9942)return this._9942._2380(a);for(var b=0;b<this._6501.length;b++)if(this._6501[b]._2380(a))return!0}return!1};f._4610=function(b){null!=this._3463&&a.pv.te("Visual tool is already activated in another image viewer");
this._3463=b;this._3461=this._1761=this._8226=!0;for(var g=this._6501.length-1;0<=g;g--){var e=this._6501[g];e._4610(b);e._5409();d(this,e)}this._5519();b=this._9942;null!=b&&(b=this._6501.indexOf(b),-1!==b&&this._6501[b]._4137(!0));this._3833=this._6501[0]._3833};f._10516=function(){for(var a=this._6501.length-1;0<=a;a--){var b=this._6501[a];b._10516();var g="."+this._2936;$(b).off(g)}e._10516.call(this)};f._1733=function(a){e._1733.call(this,a);if(null!=this._9942)this._9942._7741()&&this._9942._1733(a);
else for(var b=0;b<this._6501.length;b++){var g=this._6501[b];if(g._7741()&&(g._1733(a),a.handled))break}};f._9698=function(a){e._9698.call(this,a);if(null!=this._9942)this._9942._7741()&&this._9942._9698(a);else for(var b=0;b<this._6501.length;b++){var g=this._6501[b];if(g._7741()&&(g._9698(a),a.handled))break}};f._9629=function(a){e._9629.call(this,a);if(null!=this._9942)this._9942._7741()&&this._9942._9629(a);else for(var b=0;b<this._6501.length;b++){var g=this._6501[b];if(g._7741()&&(g._9629(a),
a.handled))break}};f._11042=function(a){e._11042.call(this,a);if(null!=this._9942)this._9942._7741()&&this._9942._11042(a);else for(var b=0;b<this._6501.length;b++){var g=this._6501[b];if(g._7741()&&(g._11042(a),a.handled))break}};f._1469=function(a,b){for(var g=this._6501.length-1;0<=g;g--)this._6501[g]._1469(a,b)};f._1982=function(a,b){for(var g=this._6501.length-1;0<=g;g--)this._6501[g]._1982(a,b)};f._6281=function(a,b){for(var g=this._6501.length-1;0<=g;g--)this._6501[g]._6281(a,b)};f._6729=function(a,
b){for(var g=this._6501.length-1;0<=g;g--)this._6501[g]._6729(a,b)};f._6207=function(){for(var a=this._6501.length-1;0<=a;a--)this._6501[a]._6207();e._10516.call(this);this._3833=this._3463=null};f._6160=function(a,b,g){for(var d=this._9942,e=this._6501.length-1;0<=e;e--){var f=this._6501[e];f._7741(b)&&f!==d&&f._6160(a,b,g)}null!=d&&d._7741(b)&&d._6160(a,b,g)};f._1433=function(){e._1433.call(this);if(null!=this._6501)for(var a=0;a<this._6501.length;a++)this._6501[a]._1433()};f._7893=function(){var b=
this._9942;if(null!=b)return b._3461?b:null;for(var b=this._6501,g=0;g<b.length;g++){var d=b[g];if(a.pv.ic(d,na)){if(d=d._7893(),null!=d)return d}else if(d._3461)return d}};this._6501=[];this._9951="Composite:";var h=this;a.pv.ad(b,function(b){a.pv.c(b,n);h._6501.push(b);h._9951+=b._9951+","});this._9951=this._9951.substr(0,this._9951.length-1);this._9942=null};a.extend(na,n);var S=function(){var a=S.superclass;a.constructor.call(this);var b=S.prototype;b._1623=function(a){};b._1733=function(b){this._3461&&
(a._1733.call(this,b),b.handled&&$(this._3463._6466).triggerHandler("_1623"))};b._9698=function(b){this._1454||($(this._3833.canvas).css("z-index",30),this._1454=!0);a._9698.call(this,b)};b._9629=function(b){a._9629.call(this,b);b=this._7779;if(null!=b){var d=this._3463,e=b.matrix.x(b.attr("x"),b.attr("y")),k=b.matrix.y(b.attr("x"),b.attr("y")),r=b.attr("width"),f=b.attr("height"),D=d._4451(),h=D.width,D=D.height,t=[];null!=d._7325&&(t=d._7325.find("div.border"));for(var l=$(this._3833.canvas).offset(),
B=[],m=0;m<t.length;m++){var za=$(t[m]).offset(),tb=za.top-l.top,za=za.left-l.left;if(!(e>=za+h||e+r<=za||k>=tb+D||k+f<=tb||(B.push(m),this._3463.get_MultiSelect())))break}d.set_SelectedIndices(B);b.remove();delete this._7779;this.set_Rectangle(u._4868._3842())}$(this._3833.canvas).css("z-index",1);this._1454=!1};b._4628=function(a){this._3833&&this._8226&&this._3463.invalidate()};b._7741=function(a){return this._3461};b._268=function(a){};b._4610=function(b){a._4610.call(this,b);$(this._3463._4824).find("svg").css("z-index",
1)};this._9951="ThumbnailSelection";this._1454=!1;this.set_Resizable(!1);this.set_Movable(!1);delete b._1623};a.extend(S,w);var aa=function(){function b(a,g){if(null!=g){var k=g.get_Metadata();if(null!=k)return k=k._7796,l(a,g,k),k}}function d(a,b){null!=a._7175[b]&&(a._7175[b].remove(),delete a._7175[b])}function e(a){for(var b in a._7175)a._7175[b].remove();a._7175={}}function f(b){return a.pv.ic(b,x.WebTextRegionJS)}function h(a,b,g){var d=a._3463._4072(b);g=u._4868._6314(g,d);u._4868._11395(g)||
k(a,b,{x:g.x,y:g.y},{x:g.x+g.width,y:g.y+g.height})}function k(a,b,g,k){var d=g,e=k,f=!1,D,p=r(a,b);if(null!=p){f=!0;try{var C=a._11133(b,p),d=C.transformPoint(d),e=C.transformPoint(e);D=y(p,a._7305,d,e)}catch(h){}}g=f?D:{s:g,e:k};null!=g&&a._2374(b,g)}function r(a,k){return a._3463._6264(k)?a._6507(k):b(a,k)}function y(a,b,g,k){return a.getSubregion({x:g.x,y:g.y,width:k.x-g.x,height:k.y-g.y},b)}function L(a,b,g){a={description:a,image:b};null!=g&&(a.errorMessage=g);return a}function t(a){var b=0,
g;for(g in a._8927){b++;break}0===b&&(a._8927=null,a._498=null)}function l(a,b,g){null!=g&&(b=b.get_Guid(),null==a._498&&(a._498={}),a._498[b]=g._2936)}function B(a,b){var g=!1,k=a._8927[b];null!=k&&f(k)&&(g=!0,d(a,b));delete a._8927[b];return g}var m=aa.prototype,n=aa.superclass;n.constructor.call(this);m.selectionChanged=function(a){};m.textSelectionStarted=function(a){};m.textSelectionFinished=function(a){};m.textSearchStarted=function(a){};m.textSearchProgress=function(a,b){};m.textSearchFinished=
function(a){};m.initializationStarted=function(a,b){};m.initializationFinished=function(a,b){};m.initializationException=function(a,b){};m.get_IsMultipageModeSupported=function(){return!0};m.get_SelectionColor=function(){return this._2423};m.set_SelectionColor=function(a){a=ja._10378._8672(a);if(this._2423!==a){this._2423=a;for(var b in this._7175)this._7175[b].attr({fill:a})}};m.get_SelectionMode=function(){return this._7305};m.set_SelectionMode=function(b){this._7305=a.pv.e(b,x.WebTextSelectionModeEnumJS)};
m.get_SelectedRegion=function(){return this.getSelectedRegion(this._3463.get_FocusedImage())};m.set_SelectedRegion=function(a){this.setSelectedRegion(a)};m.set_IsEnabled=function(a){var b=this._3461;n.set_IsEnabled.call(this,a);if(this._3461!==b)if(!this._3461)for(var g in this._7175)this._7175[g].hide();else if(this._7741()){for(g in this._7175)this._7175[g].show();this._4628()}};m.get_SelectedText=function(){null==this._selectedText&&(this._selectedText=this._11349());return this._selectedText};
m.get_IsSelectionEnabled=function(){return this._2368};m.set_IsSelectionEnabled=function(b){a.pv.b(b);if(this._2368!==b)if(this._2368=b,!b)this.reset(),this._2952();else if(null!=this._8927){b=this._3463._10911();for(var g=0;g<b.length;g++){var k=b[g];null!=this._8927[k.get_Guid()]&&this._4628(k)}}};m.get_TextSelectionAutoScrollStep=function(){return this._617};m.set_TextSelectionAutoScrollStep=function(b){a.pv.n(b);0>b&&a.pv.toe();this._617=b};m.getSelectionImages=function(){var a=[];if(null!=this._3463)for(var b=
this._3463.get_Images(),g=0;g<b.get_Count();g++){var k=b.get_Image(g),d=this._7574(k);null!=d&&f(d)&&a.push(k)}return a};m.getSelectedRegion=function(b){null!=b&&a.pv.c(b,a.WebImageJS);null==b&&null!=this._3463&&(b=this._3463.get_FocusedImage());if(null!=b&&(b=this._7574(b),null!=b&&f(b)))return b};m.setSelectedRegion=function(b,g){null!=b&&a.pv.c(b,x.WebTextRegionJS);null!=g&&a.pv.c(g,a.WebImageJS);null==g&&(this._498=this._8927=null,e(this),null!=this._3463&&(g=this._3463.get_FocusedImage()));if(null!=
g){if(null==b){if(null!=this._8927){var k=g.get_Guid();B(this,k);t(this)}}else this._2374(g,b);this._2952()}};m.selectTextInTextSpace=function(b,g){if(this._7741()){var k;null!=this._3463&&(k=this._3463.get_FocusedImage());a.pv.p(b,g);k=this._6507(k);null!=k&&(k=y(k,this._7305,b,g));this.set_SelectedRegion(k)}};m.selectTextInViewerSpace=function(b,g){a.pv.p(b,g);if(this._7741()){var d=this._3463.getNearestImage(b),f=this._3463.getNearestImage(g);null==f&&(f=d);this._8927=null;e(this);if(d==f)k(this,
d,b,g),this._2952(),this._4628();else{var y=this._3463.get_Images(),D=y.indexOf(d),p=y.indexOf(f),L=Math.min(D,p)+1,t=Math.max(D,p)-1;if(1===this._7305.valueOf()){if(p=p<D)D=d,d=f,f=D;var J=d.get_Size();f.get_Size();var l=this._3463._6097(d),m=this._3463._6097(f),D=p?g:b,J=l.transformPoint({x:J.width,y:J.height}),p=p?b:g,m=m.transformPoint({x:0,y:0});k(this,d,D,J);for(d=L;d<=t;d++)L=y.get_Image(d),D=r(this,L),null==D&&(D=0),this._2374(L,D);k(this,f,p,m)}else{D={x:b.x,y:b.y,width:g.x-b.x,height:g.y-
b.y};D=u._4868._1094(D);h(this,d,D);for(d=L;d<=t;d++)h(this,y.get_Image(d),D);h(this,f,D)}this._2952()}}};m.searchText=function(b,g){function k(a){D===p&&(a._6623=!1,a._2454("textSearchFinished"))}function d(a){var g=a.image,e=a.textRegion,r=null;null!=a.textRegion&&(r=e.searchText(b));if(C===y._10129){if(null==r||0===r.length)r=null;D++;f.progress=D;f.image=g;f.result=r;y._2454("textSearchProgress",f);f.result=null;k(y)}}function e(a){if("abort"!==a.statusText&&C===y._10129){var b=a.image;D++;f.progress=
D;f.image=b;f.error=a.errorMessage;y._2454("textSearchProgress",f);f.error="";k(y)}}if(this._7741()){this._6623&&a.pv.te("The text search process is started already.");g=a.pv.e(g,x.WebTextSearchModeEnumJS);a.pv.c(b,RegExp);var r=this._3463.get_FocusedImage();if(null!=r){var f={result:null,error:""},y=this,D=0,p=0,C=a.WebImagingEnviromentJS.guid();this._10129=C;if(0===g.valueOf()){p=1;f.total=p;this._6623=!0;this._2454("textSearchStarted");var L=this._6507(r,d,e);void 0!==L&&d({image:r,textRegion:L})}else if(r=
this._3463.get_Images(),p=r.get_Count(),f.total=p,0!==p){this._6623=!0;this._2454("textSearchStarted");for(var h=0;h<p;h++){var t=r.get_Image(h),L=this._6507(t,d,e);void 0!==L&&d({image:t,textRegion:L})}}}}};m.cancelTextSearch=function(){if(this._6623){this._10129=null;for(var a in this._6380)this._6380[a].object.abort(),delete this._6380[a];this._6623=!1;this._2454("textSearchFinished")}};m.reset=function(){this._1837();this._selectedText=this._498=this._8927=null};m._4610=function(a){n._4610.call(this,
a);if(null!=this._8927){a=a.get_Images().toArray();for(var b=[],g=!1,k=0;k<a.length;k++)b.push(a[k].get_Guid());null==this._498&&(this._498={});var k=0,d;for(d in this._8927){if(-1===b.indexOf(d))g=!0,B(this,d),delete this._498[d];else{var e=a[k].get_Metadata()._7796;null==e?(e=B(this,d),delete this._498[d],g||(g=e)):this._498[d]!==e._2936&&(e=B(this,d),delete this._498[d],g||(g=e))}k++}t(this);g&&this._2952()}};m._1837=function(){this._4041=!1;this._3978=this._2656=null;e(this)};m._1733=function(a){n._1733.call(this,
a);if(this._1761&&(a.b.equals(this._5433)||!this._2368)&&this._7741()&&this._2368){var b=a.pv,g=this._3463.get_FocusedImage();if(null!=g){var k=this._6507(g),d=this.get_MouseClickCount()+1,e;if(void 0!==k){if(1<d&&f(k)&&(e=this._11133(g,k).transformPoint(b),k.containsPoint(e))){if(2==d){this.set_SelectedRegion(k.getWordSubregion(e));return}if(3==d){this.set_SelectedRegion(k.getLineSubregion(e));return}if(4===d){this.set_SelectedRegion(k);return}}null!=this._3463.getImageByLocation(b)&&(this._4041=
!0,this._2656=b,this._3978=g,this._2454("textSelectionStarted"),a.handled=!0,a.active=!0);this.set_SelectedRegion()}else this.set_Cursor(this._10694)}}};m._9698=function(a){n._9698.call(this,a);if(this._1761)if(this._2368){var b=a.pv,g=a.pc,k;try{k=this._3463.getImageByLocation(b),null==k&&(k=this._3978)}catch(d){}finally{if(null==k){this._268(this._10694);return}}var e=this._6507(k);null==e?(this._268(this._10694),a.handled=!0,this._4041&&0<this._617&&(this._1421(g),a.active=!0)):(k=this._11133(k,
e).transformPoint(b),this._4041||e.containsPoint(k)?this._2368&&this._268(this._2220):this._268(this._10694),this._4041&&(3<u._4868._11380(this._2656,b)&&(this.selectTextInViewerSpace(this._2656,b),a.handled=!0,a.active=!0),0<this._617&&this._1421(g)))}else this._268(this._10694)};m._9629=function(a){n._9629.call(this,a);if(this._1761){var b=a.pv,g=this._3463.getImageByLocation(b),k;null==g?k=this._10694:(a=this._6507(g),null!=a&&(b=this._11133(g,a).transformPoint(b),a.containsPoint(b)&&this._2368&&
(k=this._2220)));this._268(k);this._4041&&(this._2454("textSelectionFinished"),this._4041=!1)}};m._7741=function(a){if(this._3461){var b=this._3463;return null!=b&&(null==a&&(b=b._10050,null!=b&&(a=b._7826)),null!=a)?!a.get_IsBad():!1}return this._3461};m._1982=function(a,b){this.cancelTextSearch();if(null!=this._8927){var g=!1,k=b.actionName;if("clear"===k){for(var d in this._8927){g=!0;break}e(this);this._498=this._8927=null}else{var r=[];"removeAt"===k?r.push(b.image):"set"===k?r.push(b.previousImage):
"removeRange"===k&&(r=b.images);for(k=0;k<r.length;k++)d=r[k].get_Guid(),null!=this._8927[d]&&(g=!0,B(this,d),delete this._498[d]);0!=r.length&&t(this)}g&&this._2952()}};m._1469=function(a,b){for(var g=this._3463,k=g._10911(),d=0;d<k.length;d++){var e=k[d],r=e.get_Guid(),r=this._7175[r];if(null!=r){for(var f=this._7574(e),y=g._6097(e),e=this._5447(e,f),f=f.get_SelectionRegions(),D=0;D<f.length;D++){var p=f[D];e.transformPoints(p);var C=new ja._5750;C._9761(p,!0);r[D].attr({path:C._2016(),fill:this._2423,
stroke:"none"})}ja._10378._144(r,y)}}};m._6281=function(a,b){if(null!=this._8927){var g=b.i.get_Guid();if(null!=this._8927[g]&&"dc"===b.d&&b.imc){var k=B(this,g);delete this._498[g];t(this);k&&this._2952()}}};m._11133=function(a,b){var g=this._3463._8306(a),k=b.getTransformFromImageToTextSpace(a.get_Resolution());return u.WebMatrixJS.multiplyMatrix(g,k)};m._9832=function(a,b){var g=this._3463._10184(a).invert(),k=b.getTransformFromImageToTextSpace(a.get_Resolution());return u.WebMatrixJS.multiplyMatrix(g,
k)};m._5447=function(a,b){return b.getTransformFromTextToImageSpace(a.get_Resolution())};m._1421=function(a){var b=this._3463._1704(),g=b.x,k=b.y,d=this._3463._4822();0>a.x?g-=this._617:a.x>d.width&&(g+=this._617);0>a.y?k-=this._617:a.y>d.height&&(k+=this._617);b.x==g&&b.y==k||this._3463._10537(g,k)};m._11349=function(){var a="",b=0,g;for(g in this._8927){var k=this._8927[g];f(k)&&(0!==b&&(a+="\n"),a+=k.get_TextContent(),b++)}return a};m._2952=function(){this._selectedText=null;this._2454("selectionChanged")};
m._7574=function(a){if(null!=this._8927)return this._8927[a.get_Guid()]};m._2374=function(a,b){null==this._8927&&(this._8927={});var g=a.get_Guid();this._8927[g]=b;d(this,g);f(b)&&this._7741(a)&&this._4628(a)};m._6507=function(a,d,e){if(null!=a){var r=b(this,a),y=a.get_Guid();if(void 0===r){var D=function(a){a=a.image.get_Guid();null!=C._6380[a]&&delete C._6380[a]};if(null!=this._6380[y])return;var C=this;this._9215(L("Get text region",a,void 0));a=a.get_Metadata().requestTextRegion(function(a){D(a);
var b=a.image;d&&d(a);if(-1!==C._3463.get_Images().indexOf(b)){a=a.textRegion;l(C,b,a);var g=C._7574(b);null==g||f(g)||(0!==g?k(C,b,g.s,g.e):C._2374(b,a),C._selectedText=null,C._4628())}C._815(L("Get text region",b,void 0))},function(a){"abort"!==a.statusText&&D(a);e&&e(a);a=L("Get text region",a.image,a.errorMessage);C._2147(a)});this._6380[y]=a}return r}};m._6160=function(a,b,g){if(this._7741(b)&&null!=this._8927&&this._2368&&null!=b.get_Resolution()&&(g=this._7574(b),null!=g)){var k=b.get_Guid();
if(f(g)){var d=this._7175[k];if(null==d){for(var d=this._3833.set(),e=g.get_SelectionRegions(),r=this._6781,y=0;y<e.length;y++){var D=e[y];this._5447(b,g).transformPoints(D);var C=new ja._5750;C._9761(D,!0);D=this._3833.path(0,0," ").attr({path:C._2016(),fill:this._2423,stroke:"none"});D.insertAfter(r);d.push(D);r=D}ja._10378._144(d,a);this._7175[k]=d}}else this._6507(b)}};this._9951="TextSelection";this._2423="rgba(0,0,255,0.21)";this._7305=new x.WebTextSelectionModeEnumJS(1);this._6380={};this._498=
this._8927=null;this._7175={};this._4041=!1;this._2656=null;this._6623=!1;this._3978=this._10129=null;this._2368=!0;this._2220="text";this._617=5;delete m.initializationStarted;delete m.initializationFinished;delete m.initializationException;delete m.selectionChanged;delete m.textSearchFinished;delete m.textSearchStarted;delete m.textSearchProgress;delete m.textSelectionStarted;delete m.textSelectionFinished};a.extend(aa,n);var ba=a.EnumGenerator.create([{rect:0},{circle:1}],!1),V=function(b,d,e,
f){var h=V.prototype;h._613=function(a){};h._393=function(a,b){};h.get_Cursor=function(){return this._10694};h.set_Cursor=function(b){a.pv.s(b);b!==this._10694&&(this._10694=b,this._9931(),this._3230(!1))};h.get_FillColor=function(){return this._10236};h.set_FillColor=function(b){a.pv.s(b);this._10236!==b&&(this._10236=b,this._9931(),this._3230())};h.get_BorderColor=function(){return this._7427};h.set_BorderColor=function(b){a.pv.s(b);this._7427!==b&&(this._7427=b,this._9931(),this._3230())};h.get_BorderWidth=
function(){return this._1920};h.set_BorderWidth=function(b){a.pv.n(b);0>b&&a.pv.toe();this._1920!==b&&(this._1920=b,this._9931(),this._3230())};h._9505=function(){return this._10103};h._7728=function(a){this._10103!==a&&(this._10103=a,this._3134())};h._1601=function(){return this._3461};h._6619=function(b){a.pv.b(b);this._3461=b};h.isPointOnArea=function(a,b){return!1};h.remove=function(){this._2454("_613")};h._6160=function(a){};h._6890=function(b){a.pv.c(b,V);b._8668=this._8668;b._10694=this._10694;
b._7427=this._7427;b._1920=this._1920;b._10236=this._10236;b._3230()};h._1401=function(){var a=new this.constructor;this._6890(a);return a};h._4312=function(){};h._9931=function(){};h._3134=function(){};h._3230=function(a){null==a&&(a=!0);this._2454("_393",a)};h._2454=function(a,b){$(this).triggerHandler(a,b)};h._8291=function(){return this._3461&&this._10103};this._8668=b;this._10694=null==f?"default":f;this._7427=null==e?"rgba(0,0,0,0.75)":e;this._1920=1;this._10236=null==d?"rgba(255, 255, 255, 0.36)":
d;this._3461=this._10103=!0;delete h._613;delete h._393},U=function(b,d,e,f){var h=U.prototype,k=U.superclass;k.constructor.call(this,b,d,e,f);h.isPointOnArea=function(a,b){return null!=this._4717&&this._8291()?u._4868._4396(this._4717,{x:a,y:b}):!1};h.remove=function(){null!=this._11068&&(this._11068.remove(),this._11068=null);k.remove.call(this)};h._6160=function(a){this._3833=a;null==this._11068&&(this._11068=a.path(""),this._3134());this._4312()};h._7080=function(a){this._4717=a;this._790()};
h._4312=function(){this._9931();this._790()};h._3134=function(){var a=this._11068;null!=a&&(this._8291()?a.show():a.hide())};h._9931=function(){null!=this._11068&&this._11068.attr({cursor:this._10694,stroke:"rgba(0,0,0,0)",fill:"rgba(0,0,0,0)"})};h._790=function(){if(null!=this._11068){var a=new ja._5750;this._11068.attr({path:a._9761(this._4717,!0)._2016()})}};h._6890=function(b){a.pv.c(b,U);var g=this._4717;if(null!=g){for(var d=[],e=0;e<g.length;e++){var f=g[e];d.push({x:f.x,y:f.y})}b._4717=d}k._6890.call(this,
b)};this._11068=this._4717=null};a.extend(U,V);var R=function(a,b){R.superclass.constructor.call(this,"move",null,null,"move")};a.extend(R,U);var G=function(a,b,d){var e=G.prototype;G.superclass.constructor.call(this,"",a,b,d);e.isPointOnArea=function(a,b){return!1};e._9931=function(){null!=this._11068&&this._11068.attr({fill:this._10236,stroke:this._7427,"stroke-width":this._1920,cursor:this._10694})};this._7427="rgba(128,128,128,192)";this._10236="rgba(0,0,0,0)"};a.extend(G,U);var N=function(b){var d=
N.prototype,e=N.superclass;a.pv.isf(b._10476)||a.pv.tae();this._3898=b;e.constructor.call(this,"move",null,null,"move");d.isPointOnArea=function(a,b){var g=this._11068;return null!=g&&this._8291()?g.isPointInside(a,b):!1};d.remove=function(){null!=this._11068&&(this._11068.remove(),this._11068=null);e.remove.call(this)};d._6160=function(a){this._3833=a;if(null==this._11068){var b=this._3898._3431();a=b.clone();"path"===a.type?(b=$(b.node).css("fill-rule"),$(a.node).css("fill-rule",b)):a.attr({fill:"none",
stroke:"none"});this._11068=a;this._3134()}this._4312()};d._4312=function(){this._9931();this._790()};d._3134=function(){var a=this._11068;null!=a&&(this._8291()?a.show():a.hide())};d._9931=function(){null!=this._11068&&this._11068.attr({cursor:this._10694})};d._790=function(){if(null!=this._11068){var a=this._3898._3431(),b;"path"===a.type?b={path:a.getPath().toString()}:(b=a.attrs,b={x:b.x,y:b.y,width:b.width,height:b.height});this._11068.attr(b);a=a.matrix;this._11068.transform(["m",a.a,a.b,a.c,
a.d,a.e,a.f])}};d._6890=function(b){a.pv.c(b,N);null!=this._3898&&(b._3898=this._3898);e._6890.call(this,b)}};a.extend(N,V);var X=function(b,d,e,f){var h=X.prototype,k=X.superclass;k.constructor.call(this,b,d,e,f);h.get_Radius=function(){return this._5924};h.set_Radius=function(b){a.pv.n(b);0>b&&a.pv.toe();this._5924!==b&&(this._11407=this._5924=b,this._10981(),this._3230())};h.get_InteractionRadius=function(){return this._11407};h.set_InteractionRadius=function(b){a.pv.n(b);0>b&&a.pv.toe();this._11407!==
b&&(this._11407=b,this._10981(),this._3230())};h.get_Style=function(){return this._10799};h.set_Style=function(b){b=a.pv.e(b,ba);this._10799.equals(b)||(this._10799=b,this._2271(),this._3230())};h._7359=function(a){var b=this._7966;if(null==b||b.x!==a.x||b.y!==a.y)this._7966=a,this._10981()};h.remove=function(){null!=this._7320&&(this._7320.remove(),this._7320=null,this._8224.remove(),this._8224=null);k.remove.call(this)};h.isPointOnArea=function(a,b){if(!this._10103)return!1;var g=Math.max(this._5924+
this._1920/2,this._11407),k={x:a,y:b};return 1===this._10799.valueOf()?u._4868._1997(this._7966,g,k):u._4868._10449({x:this._7966.x-g,y:this._7966.y-g,width:2*g,height:2*g},k)};h._6160=function(a){this._3833=a;null==this._7320&&(this._4514(),this._3134());this._4312()};h._4514=function(){var a=this._10799.toString();this._7320=this._3833[a]();this._8224=this._3833[a]().attr({fill:"rgba(0,0,0,0)","fill-opacity":0,stroke:"none"})};h._4312=function(){null!=this._7320&&this._7320.type!==this._10799.toString()&&
this._2271();this._9931();this._10981()};h._9931=function(){null!=this._7320&&(this._7320.attr({fill:this._10236,stroke:this._7427,"stroke-width":this._1920,cursor:this._10694}),this._8224.attr({cursor:this._10694}))};h._3134=function(){var a=this._7320,b=this._8224;null!=a&&(this._8291()?(a.show(),b.show()):(a.hide(),b.hide()))};h._10981=function(){if(null!=this._7320){var a=this._7966.x,b=this._7966.y,g=this._5924,k=this._11407;if(1===this._10799.valueOf())g={cx:a,cy:b,r:g},a={cx:a,cy:b,r:k};else var d=
2*g,e=2*k,g={x:a-g,y:b-g,width:d,height:d},a={x:a-k,y:b-k,width:e,height:e};this._8224.attr(a);this._7320.attr(g)}};h._2271=function(){if(null!=this._7320){var a=this._7320,b=this._8224;this._4514();this._7320.insertAfter(b);this._8224.insertAfter(this._7320);a.remove();b.remove();this._4312();this._3134()}};h._6890=function(b){a.pv.c(b,X);var g=this._7966;null!=g&&(b._7966={x:g.x,y:g.y});b._5924=this._5924;b._11407=this._11407;b._10799=new ba(this._10799.valueOf());k._6890.call(this,b)};this._7966=
null;this._11407=this._5924=4;this._10799=new ba(1);this._8224=this._7320=null};a.extend(X,V);var da=function(b){var d=da.prototype,e=da.superclass;null==b&&a.pv.te("Object cannot be null.");a.pv.f(b.get_Text,"Object must support 'get_Text' property.");a.pv.f(b.get_Text,"Object must support 'set_Text' property.");this._9751=b;this._2758="rgba(0,0,0,1)";this._9598=14;this._6016="Arial";this._6150=this._8899=200;this._7966=null;this._10674=a.WebImagingEnviromentJS.guid();this._2262=this._7403=null;
e.constructor.call(this,"text","rgba(255,255,255,1)","rgba(0,0,0,1)","text");d.get_FontColor=function(){return this._2758};d.set_FontColor=function(b){a.pv.s(b);this._2758!==b&&(this._2758=b,this._9931(),this._3230())};d.get_FontFamily=function(){return this._6016};d.set_FontFamily=function(b){a.pv.s(b);this._6016!==b&&(this._6016=b,this._9931(),this._3230())};d.get_FontSize=function(){return this._9598};d.set_FontSize=function(b){a.pv.n(b);1>b&&a.pv.toe();this._9598!==b&&(this._9598=b,this._9931(),
this._3230())};d.get_TextBoxWidth=function(){return this._8899};d.set_TextBoxWidth=function(b){a.pv.n(b);1>b&&a.pv.toe();this._8899!==b&&(this._8899=b,this._9931(),this._3230())};d.get_TextBoxHeight=function(){return this._6150};d.set_TextBoxHeight=function(b){a.pv.n(b);1>b&&a.pv.toe();this._6150!==b&&(this._6150=b,this._9931(),this._3230())};d.remove=function(){this._10937();e.remove.call(this)};d.show=function(a){this._7966=a;this._8711()};d.hide=function(){null!=this._7403&&this._9751.set_Text(this._7403.value);
this._10937()};d.isPointOnArea=function(a,b){return null!=this._4717&&this._8291()?u._4868._4396(this._4717,{x:a,y:b}):!1};d._6160=function(a){e._6160.call(this,a);this._11068&&this._11068.attr({cursor:this._10694,stroke:"rgba(0,0,0,0)",fill:"rgba(0,0,0,0)"})};d._6890=function(b){a.pv.c(b,da);b._2758=this._2758;b._9598=this._9598;b._6016=this._6016;b._8899=this._8899;b._6150=this._6150;e._6890.call(this,b)};d._10937=function(){$(this._7403).remove();this._2262=this._7403=null};d._8711=function(){var a=
this._7403;if(null==a){a=$("<textarea id='"+this._10674+"'></textarea>").appendTo($("body"));this._7403=a[0];var b=this;$(a).keyup(function(a){var g=b._9751;27===a.which||27===a.keyCode?(g.set_Text(b._2262),b._10937()):g.set_Text(this.value)})}this._9931();var g=this._9751.get_Text();this._2262=g;$(a).val(g);$(a).focus()};d._9931=function(){var a=this._7403;if(null!=a){var b={position:"absolute",outline:"none","z-index":10,top:this._7966.y,left:this._7966.x,width:this._8899,height:this._6150,"border-width":this._1920,
"border-color":this._7427,"background-color":this._10236,color:this._2758,"font-size":this._9598,"font-family":this._6016,cursor:this._10694};$(a).css(b)}null!=this._11068&&this._11068.attr({cursor:this._10694})}};a.extend(da,U);var Z=function(b,d,e){var f=Z.prototype,h=Z.superclass;h.constructor.call(this,"polygon",b,d,e);this._3482=null;this._10799=new ba(0);f._6890=function(b){a.pv.c(b,Z);h._6890.call(this,b)}};a.extend(Z,X);var T=function(b,d,e){var f=T.prototype,h=T.superclass;h.constructor.call(this,
"resize",b,d,e);this._9047=!0;f.get_Cursor=function(){return this._9047?null:this._10694};f.set_Cursor=function(a){this._9047||h.set_Cursor.call(this,a)};f._6890=function(b){a.pv.c(b,T);h._6890.call(this,b)}};a.extend(T,X);var ea=function(b,d,e){var f=ea.prototype,h=ea.superclass;null==b&&(b="rgba(144,238,144,0.5)");null==e&&(e="pointer");h.constructor.call(this,"rotate",b,d,e);this._4375=20;f._10550=function(a){};delete f._10550;f.get_RotationPointDistance=function(){return this._4375};f.set_RotationPointDistance=
function(b){a.pv.n(b);0>b&&a.pv.toe();this._4375!==b&&(this._4375=b,this._3230(),this._2454("_10550"))};f._6890=function(b){a.pv.c(b,ea);b._4375=this._4375;h._6890.call(this,b)}};a.extend(ea,X);var ha=function(b){function d(a,b){a.data.b._3230(b)}a.pv.c(b,T);for(var e=[],f=0;8>f;f++)e.push(b._1401());this._6133=e[0];this._1003=e[1];this._85=e[2];this._2737=e[3];this._11093=e[4];this._5667=e[5];this._6831=e[6];this._9403=e[7];for(f=0;f<e.length;f++)$(e[f]).on("_393",{b:this},d);this._3280=e;this._6338=
!0;this._4490="nwse-resize";this._4231="nesw-resize";this._926="ns-resize";this._7129="ew-resize";this._3251=0;b=ha.prototype;b.get_UseSizingCursors=function(){return this._6338};b.set_UseSizingCursors=function(b){a.pv.b(b);if(this._6338!==b){this._6338=b;this._2999(this._3251);for(var g=0;g<this._3280.length;g++)this._3280[g]._9047=b}};b.get_SizingCursorNWSE=function(){return this._4490};b.set_SizingCursorNWSE=function(b){a.pv.s(b);this._4490!==b&&(this._4490=b,this._6338&&this._2999(this._3251))};
b.get_SizingCursorNESW=function(){return this._4231};b.set_SizingCursorNESW=function(b){a.pv.s(b);this._4231!==b&&(this._4231=b,this._6338&&this._2999(this._3251))};b.get_SizingCursorNS=function(){return this._926};b.set_SizingCursorNS=function(b){a.pv.s(b);this._926!==b&&(this._926=b,this._6338&&this._2999(this._3251))};b.get_SizingCursorWE=function(){return this._7129};b.set_SizingCursorWE=function(b){a.pv.s(b);this._7129!==b&&(this._7129=b,this._6338&&this._2999(this._3251))};b.get_TopLeftPoint=
function(){return this._6133};b.get_TopPoint=function(){return this._1003};b.get_TopRightPoint=function(){return this._85};b.get_RightPoint=function(){return this._2737};b.get_BottomRightPoint=function(){return this._11093};b.get_BottomPoint=function(){return this._5667};b.get_BottomLeftPoint=function(){return this._6831};b.get_LeftPoint=function(){return this._9403};b.remove=function(){for(var a=0;a<this._3280.length;a++)this._3280[a].remove()};b._4312=function(){for(var a=0;a<this._3280.length;a++)this._3280[a]._4312()};
b._6160=function(a){for(var b=0;b<this._3280.length;b++)this._3280[b]._6160(a)};b._2999=function(a){this._3251=a;if(this._6338)for(var b=u._4868._8122(this._6133._7966,this._85._7966,this._11093._7966,this._6831._7966),g=0;8>g;g++){var d=this._3280[g];d._9047=!1;var e=u._4868._7241(u._4868._4468(b,{x:b.x,y:b.y-1},d._7966));0==(g&1)&&22.5>Math.ceil(a)%90?d.set_Cursor(this._2444(e)):d.set_Cursor(this._10711(e));d._9047=!0}};b._2444=function(a){a=u._4868._1575(a);return 270<=a||90<=a&&180>=a?this._4490:
this._4231};b._10711=function(a){a=u._4868._1575(a);return 337.5<=a||22.5>=a||157.5<=a&&202.5>=a?this._926:67.5<=a&&112.5>=a||247.5<=a&&292.5>=a?this._7129:292.5<=a&&337.5>=a||112.5<=a&&157.5>=a?this._4490:this._4231};b._3230=function(a){null==a&&(a=!0);this._2454("_393",a)};b._2454=function(a,b){$(this).triggerHandler(a,b)}},P=function(a){var b=P.prototype;b._9849=function(a){if("mouseDown"==a.t)null==this._28&&(this._28=this._1252.transformPoint(a.pv),this._6434(),a.handled=!0,a.active=!0);else if("mouseMove"==
a.t){var b=this._28;if(null!=b){var g=this._1252.transformPoint(a.pv);if(b.x!==g.x||b.y!==g.y)this._6880(g),a.handled=!0,a.active=!0}}else if("mouseUp"==a.t){b=this._4547;g=b._9402();if(0==g.x1-g.x0&&0==g.y1-g.y0&&(g=this._977,0!==g.width&&0!==g.height)){var k=this._28;b._10943(k.x,k.y,k.x+g.width,k.y+g.height)}this._4766();a.handled=!0;a.active=!1;return!0}return!1};b._6880=function(a){var b=this._28;this._4547._10943(b.x,b.y,a.x,a.y)};b._4766=function(){this._364||(this._364=!0,this._28=null,this._4547._2454("_8016"))};
b._6434=function(){this._364=!1;this._4547._2454("_1563")};b._3234=function(a){this._1252=a};this._7455="b";this._4547=a;this._364=!1;this._28=null;this._977={width:200,height:200};this._1252=null},ga=function(b){function d(a,b,g,k,e){if(0!=k){var f={x:(a.x+b.x)/2,y:(a.y+b.y)/2};e=u._4868._3593(g,{x:(e.x0+e.x1)/2,y:(e.y0+e.y1)/2},k);k=u._4868._3593(g,f,k);g=e.x-k.x;e=e.y-k.y;a.x+=g;a.y+=e;b.x+=g;b.y+=e}}function e(a,b){f(a.data.t,b)}function f(a,b){for(var g=a._4122,k=a._7352._3280,d=0;d<k.length;d++)g._6890(k[d]);
a._3953&&(a._7352._4312(),a._7352._2999(a._4547.get_Rotation()))}function h(a){a.data.t._422()}var k=ga.prototype;k.get_ResizePointTemplate=function(){return this._4122};k.set_ResizePointTemplate=function(b){a.pv.c(b,T);var g=this._4122;g!==b&&($(g).off("_393",e),this._4122=b,$(b).on("_393",{t:this},e),f(this))};k.get_RotationPoint=function(){return this._5872};k.set_RotationPoint=function(b){a.pv.c(b,ea);var g=this._5872;g!==b&&($(g).off("_10550",h),this._5872=b,$(b).on("_10550",{t:this},h),g.remove(),
this._7782(),this._4166())};k.get_RotationCenterPoint=function(){return this._2681};k.set_RotationCenterPoint=function(b){a.pv.c(b,X);var g=this._2681;g!==b&&(this._2681=b,b._8668="move",g.remove(),this._7782(),this._4166())};k._2827=function(){return this._3933};k._1578=function(a){this._3933=a};k._10183=function(){return this._3092};k._7412=function(a){this._3092=a};k._973=function(){return this._4617};k._8625=function(a){this._4617=a};k._6714=function(){return this._3231};k._10763=function(a){this._3231=
a};k._11047=function(){return this._10746};k._10253=function(a){this._10746=a};k._6960=function(){return this._10011};k._1980=function(a){this._10011=a};k._8429=function(){return this._2998};k._4574=function(a){this._2998=a};k._4166=function(){this._8979();this._10985()};k._8979=function(){for(var a=this._8065&&(!this._8794||!this._1271),b=a&&this._4617,g=a&&this._3092,k=0;8>k;k++)this._7352._3280[k]._7728(b);this._5872._7728(g);this._2681._7728(g);this._7780._7728(a&&this._3933);this._5795._7728(a);
this._422();this._7352._2999(this._4547.get_Rotation())};k._422=function(){for(var b=this._9555(),g=0;8>g;g++)this._7352._3280[g]._7359(b[g]);this._5872._7359(b[8]);this._2681._7359(b[9]);b=[b[0],b[2],b[4],b[6]];a.pv.ic(this._7780,R)&&this._7780._7080(b);this._5795._7080(b)};k._9555=function(){var a=this._5296();0!==this._4547._924&&u._4868._7714(a,a[9],this._4547._924);u.WebMatrixJS._6691(this._1252).invert().transformPoints(a);var b;a[6].x==a[0].x&&a[6].y==a[0].y?(b=u._4868._1806(a[2],a[0]),b=u._4868._2591(b,
90)):b=u._4868._1806(a[6],a[0]);a[8]=u._4868._3952(a[8],b,this._5872._4375);return a};k._10985=function(){if(this._8065){var a=this._4547._8052();if(null!=a){for(var b=0;b<this._2945.length;b++)this._2945[b]._6160(a);this._3953=!0;a=this._2681;$(a._7320.node).css("pointer-events","none");$(a._8224.node).css("pointer-events","none")}}};k._7782=function(){for(var a=0;a<this._2945.length;a++)this._2945[a].remove();this._3953=!1;this._3203()};k._3203=function(){this._370=this._25=this._5334=this._28=
null;this._10314=[];this._8794=!1;this._11255=""};k._2491=function(a,b){var g=this._2945;if(this._8065&&this._3953&&(null==b&&(b=a.y,a=a.x),null!=this._4547._8052()))for(var k=g.length-1;0<=k;k--){var d=g[k];if(d.isPointOnArea(a,b)&&("move"!==d._8668||this._3933))return d}};k._9849=function(a){var b=this._4547;if(null!=this._5334){var g=this._5334._8668;if("mouseDown"===a.t){if(null==this._28){this._28=this._1252.transformPoint(a.pv);this._25=b._9402();this._4564=this._25.y0>this._25.y1;if("rotate"===
g)this._370=b._924;else if("resize"===g||"move"===g)b=this._5296(),this._1252.transformPoints(b),this._10314=b;this._10098("_10811");a.handled=!0;a.active=!0}}else if("mouseMove"===a.t){var k=this._1252.transformPoint(a.pv),e=this._28;if(null!=e&&(e.x!==k.x||e.y!==k.y)){b.beginInit&&b.beginInit();if("rotate"===g)g=this._2681._7966,16>=Math.pow(g.x-a.pv.x,2)+Math.pow(g.y-a.pv.y,2)?b.set_Rotation(0):(g=this._4547._9402(),g={x:(g.x0+g.x1)/2,y:(g.y0+g.y1)/2},angle=u._4868._7241(u._4868._4468(g,{x:g.x,
y:g.y-1},k)),this._4564&&(angle+=180),this._4547.set_Rotation(angle));else if("resize"===g||"move"===g){var g=$.extend({},this._25),e=this._4547,f=this._28,p=k.x-f.x,C=k.y-f.y,k=this._5334,h,t,l,m;h=g.x0;t=g.y0;l=g.x1;m=g.y1;if("resize"!==k._8668)this._8794=!0,e._10943(h+p,t+C,l+p,m+C);else{var f=e._924,B={x:p,y:C};0!=f&&(B=u._4868._3593(B,{x:0,y:0},-f));var p=B.x,C=B.y,B={x:0,y:0},n=this._7352;k===n._9403?(B={x:this._10314[3].x,y:this._10314[3].y},h+=p):k===n._2737?(B={x:this._10314[7].x,y:this._10314[7].y},
l+=p):k===n._1003?(B={x:this._10314[5].x,y:this._10314[5].y},t+=C):k===n._5667?(B={x:this._10314[1].x,y:this._10314[1].y},m+=C):k===n._6133?(B={x:this._10314[4].x,y:this._10314[4].y},h+=p,t+=C):k===n._85?(B={x:this._10314[6].x,y:this._10314[6].y},l+=p,t+=C):k===n._6831?(B={x:this._10314[2].x,y:this._10314[2].y},h+=p,m+=C):k===n._11093&&(B={x:this._10314[0].x,y:this._10314[0].y},l+=p,m+=C);this._3231||this._2998||(h>l&&(0>p?l=h+.01:h=l-.01),t>m&&(0>C?m=t+.01:t=m-.01));e._9402();h={x:h,y:t};l={x:l,
y:m};d(h,l,B,f,g);e._10943(h.x,h.y,l.x,l.y);if(this._2998){m=e._9402();var p=m.x0,C=m.y0,W=m.x1,E=m.y1,H=p-h.x,s=C-h.y,q=W-l.x,F=E-l.y;this._10746&&(h=g.x0,t=g.y0,l=g.x1,m=g.y1,p=W-p-(l-h),C=E-C-(m-t),.01>Math.abs(p)&&.01>Math.abs(C)?(p=H-q,C=s-F,k===n._9403?(h-=p,h>l&&(p=-p),t-=p/2,m+=p/2):k===n._2737?(l+=p,h>l&&(p=-p),t-=p/2,m+=p/2):k===n._1003?(t-=C,t>m&&(C=-C),h-=C/2,l+=C/2):k===n._5667&&(m+=C,t>m&&(C=-C),h-=C/2,l+=C/2)):(.01>Math.abs(C)&&(p+=H-q,C=h-p>l?-p:p),.01>Math.abs(p)&&(C+=s-F,p=t-C>m?
-C:C),k===n._9403?(h-=p,t-=C/2,m+=C/2):k===n._2737?(l+=p,t-=C/2,m+=C/2):k===n._1003?(t-=C,h-=p/2,l+=p/2):k===n._5667?(m+=C,h-=p/2,l+=p/2):k===n._6133?(h-=p,t-=C):k===n._85?(l+=p,t-=C):k===n._6831?(h-=p,m+=C):k===n._11093&&(l+=p,m+=C)),h={x:h,y:t},l={x:l,y:m},d(h,l,B,f,g),e._10943(h.x,h.y,l.x,l.y))}}}b.endInit&&b.endInit();a.handled=!0;a.active=!0}}else if("mouseUp"===a.t||"doubleClick"===a.t){if("move"===g||"resize"===g)this._8794=!1;this._28=this._5334=null;this._8979();this._10098("_9285");a.handled=
!0;a.active=!1;return!0}}else"mouseDown"===a.t&&(this._3953||this._4166(),this._3933&&(this._5334=this._7780,this._28=this._1252.transformPoint(a.pv),this._25=b._9402(),this._4564=this._25.y0>this._25.y1,this._10098("_10811"),a.handled=!0,a.active=!0));return!1};k._5163=function(a){a=this._2491(a);null!=a&&(this._5334=a);return a};k._3234=function(a){this._1252=a};k._10098=function(a){this._4547._2454(a);this._11255=a};k._7240=function(a){this._8065=a};k._5296=function(){var a=[],b=this._4547._9402(),
g={x:b.x0,y:b.y0},k=b.x1-g.x,b=b.y1-g.y;a[0]=g;a[1]={x:g.x+k/2,y:g.y};a[2]={x:g.x+k,y:g.y};a[3]={x:g.x+k,y:g.y+b/2};a[4]={x:g.x+k,y:g.y+b};a[5]={x:g.x+k/2,y:g.y+b};a[6]={x:g.x,y:g.y+b};a[7]={x:g.x,y:g.y+b/2};a[8]={x:g.x+k/2,y:g.y};a[9]={x:g.x+k/2,y:g.y+b/2};return a};this._7455="t";this._4547=b;this._8065=!0;this._370=this._25=this._5334=this._28=null;this._10314=[];this._2998=!0;this._4564=this._8794=this._10011=!1;this._3231=this._4617=this._3092=this._3933=!0;this._1271=this._10746=!1;this._1252=
null;this._3953=!1;b={t:this};this._4122=new T;$(this._4122).on("_393",b,e);this._7352=new ha(this._4122);this._5872=new ea;$(this._5872).on("_393",b,h);this._2681=new X("move","rgba(144,238,144,0.5)");this._2681.set_Cursor("move");this._7780=new R;this._5795=new G;this._5795._6619(!1);this._11255="";b=[this._5795,this._7780];b=b.concat(this._7352._3280.slice());b.push(this._5872);b.push(this._2681);this._2945=b};b.WebHighlightToolJS=F;b.WebVisualToolJS=n;b.WebRectangularSelectionToolJS=w;b.WebHighlightObjectJS=
K;b.WebHighlightObjectsJS=I;b.WebZoomSelectionToolJS=v;b.WebZoomToolJS=fa;b.WebMagnifierToolJS=O;b.WebCompositeVisualToolJS=na;b._5366=S;b.WebTextSelectionToolJS=aa;b._8424=t;b.WebRectangularSelectionJS=B;b._9630=H;b.WebRectangularSelectionCollectionJS=E;b.WebMultiRectangularSelectionToolJS=Q;b.WebInteractionPointTypeEnumJS=ba;b.WebInteractionAreaJS=V;b.WebRectangularAreaJS=U;b.WebRectangularMoveAreaJS=R;b.WebObjectMoveAreaJS=N;b.WebInteractionPointJS=X;b.WebTextInteractionAreaJS=da;b.WebPolygonInteractionPointJS=
Z;b.WebResizeInteractionPointJS=T;b.WebRotationInteractionPointJS=ea;b.WebBoundingBoxPointsJS=ha;b._1844=P;b._4455=ga;var ia=function(){var a=ia.superclass;a.constructor.call(this);var b=ia.prototype;b.set_ActionCursor=function(b){a.set_ActionCursor.call(this,b);null!=this._6376&&this._268(b)};b.reset=function(){this._1837();this._268(this._10694)};b._1733=function(b){a._1733.call(this,b);b.b.equals(this._5433)&&this._7741()&&(this._6376=b.ps,this._8028=this._3463._1704(),this.set_ActionCursor(this._2220),
b.handled=!0,b.active=!0)};b._9698=function(b){a._9698.call(this,b);if(null!=this._6376){this._268(this._2220);var d=this._3463._5179(),e=this._3463._640(),k=parseInt(e.width),e=parseInt(e.height),f=b.ps,D=this._3463._10608(),h=this._6376.x-f.x,f=this._6376.y-f.y,t=0,l=0;null!=this._8028&&(t=this._8028.x,l=this._8028.y);k=Math.max(0,Math.min(d.width-k+D,t+h));d=Math.max(0,Math.min(d.height-e+D,l+f));this._3463._10537(k,d);b.handled=!0;b.active=!0}else this._268(this._10694)};b._9629=function(b){a._9629.call(this,
b);this.reset()};b._1837=function(){this._8028=this._6376=null};this._9951="Pan";this._6376=this._8028=null;this._10694="grab";this._2220="grabbing"};a.extend(ia,b.WebVisualToolJS);var m=function(){function b(a){if(null!=a&&(a=a.get_Metadata(),null!=a))return a._4634}function d(a,b){var g={description:"Get actions",image:a};null!=b&&(g.errorMessage=b);return g}function e(a){var b=0,g;for(g in a._681){b++;break}0===b&&(a._681=null)}var f=m.prototype,h=m.superclass;h.constructor.call(this);f.focusedActionChanged=
function(a,b){};f.get_IsMultipageModeSupported=function(){return!0};f.get_FocusedAction=function(){return this._2908};f.get_ExecutingAction=function(){return this._4310};f.get_ActionExecutor=function(){return this._2515};f.set_ActionExecutor=function(b){a.pv.c(b,x.WebPageContentActionExecutorJS);this._2515=b};f.findAction=function(b,g){a.pv.c(b,a.WebImageJS);a.pv.p(g);var d=this._8920(b);if(null!=d){var e=b.get_Resolution();null!=e&&(g=u.WebMatrixJS._1090(96/e.x,96/e.y).transformPoint(g));for(e=0;e<
d.length;e++){var f=d[e];if(u._4868._3108(g,f._109))return f}}return null};f.setFocusedAction=function(b,g){null!=b&&a.pv.c(b,a.WebImageJS);null!=g&&a.pv.c(g,x.WebPageContentActionMetadataJS);if(this._2908!==g){var d={previousAction:this._2908,newAction:g};this._4310!=g&&this.setExecutingAction(null,null);this._4010=b;this._2908=g;this._2454("focusedActionChanged",d);return!0}return!1};f.setExecutingAction=function(b,g){null!=b&&a.pv.c(b,a.WebImageJS);null!=g&&a.pv.c(g,x.WebPageContentActionMetadataJS);
return this._4310!==g?(null!=g&&this.setFocusedAction(b,g),this._4310=g,this._4010=b,!0):!1};f.executeAction=function(b,g){a.pv.c(b,a.WebImageJS);a.pv.c(g,x.WebPageContentActionMetadataJS);return null!=this._2515?this._2515.executeAction(this._3463,b,g):!1};f._1982=function(a,b){if(null!=this._681){var g=b.actionName,d=[];if("removeAt"===g)d.push(b.image);else if("set"===g)d.push(b.previousImage);else if("removeRange"===g||"clear"===g)d=b.images;for(g=0;g<d.length;g++){var f=d[g];f===this._4010&&
(this._4310=this._4010=this._2908=null);delete this._681[f.get_Guid()]}e(this)}};f._1837=function(){this._681=this._4310=this._4010=this._2908=null;this._10443={}};f._1733=function(a){h._1733.call(this,a);if(this._1761&&a.b.equals(this._5433)&&this._7741()&&!a.handled){var b=this._3463.getImageByLocation(a.pv);if(null!=b){var g=this._3463._9638(a.pc,b),g=this.findAction(b,g);this.setFocusedAction(b,g);null!=g&&(this.setExecutingAction(b,g),a.handled=!0)}}};f._9698=function(a){h._9698.call(this,a);
if(this._1761&&!a.handled)if(0===a.b.valueOf()||a.b.equals(this._5433)&&null!=this._2908){var b=this._3463.getImageByLocation(a.pv);if(null!=b){var g=this._3463._9638(a.pc,b),g=this.findAction(b,g);this.setFocusedAction(b,g)&&this._268(null==g?this._10694:this._2220);a.handled=null!=g}}else null!=this._2908&&(this.setFocusedAction(null,null),this._268(this._10694))};f._9629=function(a){h._9629.call(this,a);if(this._1761&&!a.handled&&a.b.equals(this._5433)){var b=this._3463.getImageByLocation(a.pv);
if(null!=b){var g=this._3463._9638(a.pc,b),g=this.findAction(b,g);g!=this._4310&&(g=null);this.setExecutingAction(b,null);null!=g&&(this.executeAction(b,g),a.handled=!0);null!=this._4310&&(this._4310=null)}}};f._7741=function(a){if(this._3461){var b=this._3463;return null!=b&&(null==a&&(b=b._10050,null!=b&&(a=b._7826)),null!=a)?!a.get_IsBad():!1}return this._3461};f._6281=function(a,b){if(null!=this._681){var g=b.i.get_Guid();null!=this._681[g]&&"dc"===b.d&&b.imc&&(delete this._681[g],e(this))}};
f._1131=function(a){if(null!=this._681)return this._681[a.get_Guid()]};f._1743=function(a,b){null==this._681&&(this._681={});this._681[a.get_Guid()]=b};f._8920=function(a){if(null!=a){var e=b(a),f=a.get_Guid();if(void 0===e){if(null!=this._10443[f])return;var p=this;this._9215(d(a));a=a.get_Metadata().requestActions(function(a){var b=a.image.get_Guid();null!=p._10443[b]&&delete p._10443[b];a=a.image;-1!==p._3463.get_Images().indexOf(a)&&(b=p._1131(a),null!=b&&p._1743(a,b));p._815(d(a))},function(a){a=
d(a.image,a.errorMessage);p._2147(a)});this._10443[f]=a}return e}};this._9951="DocumentNavigationTool";this._4310=this._4010=this._2908=null;this._2515=new x.WebNavigationActionExecutorJS;this._2220="pointer";this._681=null;this._10443={};delete f.focusedActionChanged};a.extend(m,b.WebVisualToolJS);var M=function(){};M._529={RectangularSelection:b.WebRectangularSelectionToolJS,HighlightTool:b.WebHighlightToolJS,ZoomSelection:b.WebZoomSelectionToolJS,Pan:ia,Zoom:b.WebZoomToolJS,Magnifier:b.WebMagnifierToolJS,
TextSelection:b.WebTextSelectionToolJS,DocumentNavigation:m,MultiRectangularSelection:b.WebMultiRectangularSelectionToolJS};M._9464={};M.registerTool=function(a,b){d(a,b);M._9464[a]=b};M.unregisterTool=function(a){h(a);delete M._9464[a]};M.createToolById=function(g){h(g);var d=M._529[g];null==d&&(d=M._9464[g]);null==d&&a.pv.te("WebVisualToolJS element with '"+g+"' ID does not registered.");g=new d;a.pv.c(g,b.WebVisualToolJS,"Created element is not derived from WebVisualToolJS class.");return g};M.getAllStandardRegisteredIds=
function(){var a=[],b;for(b in M._529)a.push(b);return a};M.getAllRegisteredIds=function(){var a=M.getAllStandardRegisteredIds(),b;for(b in M._9464)a.push(b);return a};M._263=function(a,b){d(a,b);M._529[a]=b};b.WebPanToolJS=ia;b.WebDocumentNavigationToolJS=m;b.WebVisualToolFabricJS=M})(e.VisualTools);var d=function(b,h,l){function q(a,b){var d=0;if(0===b.length)for(var e=0;e<a.length;e++)b.push(e);for(e=0;e<b.length;e++)b[e]<a.length&&3===a[b[e]].data("info").s&&d++;return d}function s(a){if(a._7776){var b=
a._2338();if(0===b.length)return!1;for(var d=0;d<b.length;d++){var e=a._7776[b[d]];if(null==e||3!==e.data("info").s)return!1}return!0}return!1}function n(a,b){if(b.image!==a._7826||b.scale.x!==a._444||b.scale.y!==a._9006||a._8665!==b.size.width||a._4129!==b.size.height)return!1;var d=a._5088;return a._501.equals(b.renderingSettings)&&(null!=d&&d.equals(b.decodingSettings)||null==d&&d==b.decodingSettings)}function w(a,b){var d,e=-1;if(n(a,b))for(var f=b.pos,h=0;h<a._7776.length;h++){var l=a._7776[h].data("info").loc;
if(l.x===f.x&&l.y===f.y){d=a._7776[h];e=h;break}}return{t:d,i:e}}var v=d.prototype;v._5059=function(a,b){};v._3315=function(a,b){};v._9863=function(){return this._1814};v._9158=function(a){this._1814!==a&&(this._1814=a,this._3561=!0,this._1828())};v._6348=function(){return this._6515};v._7130=function(a){this._6515=a};v._2882=function(){return{x:this._444,y:this._9006}};v._7511=function(a,b){if(this._444!==a||this._9006!==b)this._444=a,this._9006=b,this._3561=!0,this._9719()};v._15=function(){return{width:this._8665,
height:this._4129}};v._1751=function(a,b){if(this._4129!==b||this._8665!==a)this._8665=a,this._4129=b,this._9719()};v._11416=function(){return this._7214};v._7590=function(a){this._7214=a};v._98=function(){return this._4530};v._8317=function(a){this._4530=a};v._3607=function(){(null==this._3893||this._3561)&&this._8809();return{x:this._3893.x,y:this._3893.y}};v._6353=function(a){u._4868._464(this._1115,a)||(this._1115=a,this._3561=!0,this._1828())};v._6581=function(a){u._4868._464(this._6000,a)||
(this._6000=a,this._6488())};v._6205=function(){return this._10393};v._9073=function(a){a===this._10393||null!=a&&a.equals(this._10393)||(this._10393=a,this._6488())};v._10554=function(a){this._7096.equals(a)||(this._7096=a,this._3561=!0,this._1828())};v._429=function(a){this._7826=a;this._3561=!0;this._3704=0;this._11338=3;this._6680(!1);return this._5917()};v._9727=function(){return this._7826.get_IsBad()};v._10330=function(){return this._2508&&!this._9727()};v._6680=function(a){this._2508!==a&&
(this._2508=a)&&(a={rect:this._10609(),image:this._7826},this._2454("_5059",a))};v._999=function(){return null==this._7338&&0===this._3704};v._8809=function(){var a=this._4085(!0),b=a.width,a=a.height,d=this._1115.x,e=this._1115.y,f=this._1115.width,h=this._1115.height,b=b<f?this._7096.contains(4)?d:this._7096.contains(8)?d+f-b:d+(f-b)/2:d,a=a<h?this._7096.contains(1)?e:this._7096.contains(2)?e+h-a:e+(h-a)/2:e;this._3893={x:Math.round(b),y:Math.round(a)}};v._10094=function(){this._1558++};v._5998=
function(a){null==a&&(a=!1);a?this._1558=0:this._1558--;0===this._1558?this._6488():0>this._1558&&(this._1558=0)};v._4043=function(){return 0!==this._1558};v._6038=function(a){var b=this._10609();return u._4868._10449(b,a)};v._10755=function(){this._6775=!1;var a=this._10609();return u._4868._3187(a,this._6000)?this._6775=!0:!1};v._6488=function(){if(!this._1255&&null!=this._7826.get_Size()&&0===this._1558){var a=this._6000;if(0!==a.width&&0!==a.height){this._10357=this._6924=!1;var b=this._9727();
if(this._3561||b)this._8809(),this._3561=!1;a=this._10755();if(b&&null!=this._7776){a&&this._11096();var d=this._4085(),b=d.width,d=d.height,f=this._7776[0];null!=f&&f.attr({width:b,height:d});b=this._9376();e._10378._6798(this._26,b);this._8730();a&&(this._6680(!0),this._4216())}else 1===this._11338?(d=this._999(),a&&!d&&this._11096(),b=this._9376(),null!=this._7776&&e._10378._6798(this._26,b),null!=this._7338&&e._10378._6798(this._5590,b),a&&!d&&this._6680(!0)):2<=this._11338&&(2===this._11338&&
this._5389(),this._4797()),this._8730(),a&&(a=this._10256(),this._5304(),!a&&s(this)&&(this._11096(),this._4216())),0!==this._11338&&this._8296();this._11338=0}else this._6775=!1}};v._5315=function(a){null==a&&(a=!1);var b=0,d=0,e=this._7826.get_Size();null!=e&&(b=e.width,d=e.height,this._7826.get_IsBad()||0===b||0===d)&&(d=this._5699.height,e=this._1115.height,b=Math.min(this._5699.width,this._1115.width),d=Math.min(d,e));!a||90!==this._1814&&270!==this._1814||(a=b,b=d,d=a);return{width:b,height:d}};
v._4085=function(a){null==a&&(a=!1);var b=0,d=0,e=this._7826.get_Size();null!=e&&(b=e.width,d=e.height,this._7826.get_IsBad()||0===b||0===d?(d=this._5699.height*this._9006,e=this._1115.height,b=Math.min(this._5699.width*this._444,this._1115.width),d=Math.min(d,e)):(b*=this._444,d*=this._9006));!a||90!==this._1814&&270!==this._1814||(a=b,b=d,d=a);return{width:b,height:d}};v._10609=function(){var a=this._4085(!0),b=this._3607();return{x:b.x,y:b.y,width:a.width,height:a.height}};v._6746=function(a){if(!this._6775)return u._4868._3842();
var b=this._6574(a);return{x:b.x,y:b.y,width:a.width*this._444,height:a.height*this._444}};v._6574=function(a){if(!this._6775)return{x:0,y:0};var b=this._3607();return{x:b.x+(a.x-this._6000.x)*this._444,y:b.y+(a.y-this._6000.y)*this._9006}};v._4797=function(){var a=this._8665,b=this._4129,d=this._444,f=this._9006,h=this._4085(),l=h.width,n=h.height,h=a/d,s=b/f,q=Math.floor(n/b),u=Math.floor(l/a),v=u,x=q,l=Math.round(l-a*u);Math.round(l/d);0<l&&v++;n=Math.round(n-b*q);Math.round(n/f);0<n&&x++;this._10147=
v;this._7457=x;var w=x*v;this._7186();var z=this._10571,A=this._10123;this._7776=A.set();var G=0,R=0,P=this._9376();if(null==this._3447){var N=A.rect(0,0,0,0);$(z).prepend(N.node);this._3447=N}null==this._2343&&(N=A.rect(0,0,0,0),z.appendChild(N.node),this._2343=N);N=this._2343;z=this._26;null==z&&(z=this._2305(),$(z).insertBefore(N.node),this._26=z);for(e._10378._6798(z,P);R<x;){for(var P=R*s,N=R*b,X=v+G;G<X&&G<w;){var da=(G-R*v)*h,Z=A.image(" ",(G-R*v)*a,N,G!=u+R*v?a:l,R!=q?b:n);Z.node.removeAttribute("href");
this._7776.push(Z);Z.data({info:{loc:{x:da,y:P},s:0}});z.appendChild(Z.node);G++}R++}this._7776.s={x:d,y:f};this._3704=0};v._5389=function(){var a=this._2338();if(null!=this._7776){if(null==this._7338){var b=q(this._7776,a);0<b?this._5311():this._7245()}else{var b=q(this._7776,a),a=q(this._7338,a),d=this._444;b>a?(this._2646(),this._5311()):b===a&&0!==b&&Math.abs(this._7776.s.x-d)<Math.abs(this._7338.s.x-d)?(this._2646(),this._5311()):this._7245()}null!=this._7338&&this._9803()}else this._2646()};
v._5311=function(){this._7338=this._7776;this._5590=this._26;this._5590.id=this._7826.get_Guid();this._26=null};v._2646=function(){this._1492();null!=this._5590&&$(this._5590).remove();this._7338=this._5590=null};v._7245=function(){null!=this._26&&$(this._26).remove();this._mainbLayer=this._26=null};v._8296=function(){var a=this._5590;if(null!=a&&0!==this._3704){var b=this._10123,d=b.canvas,e=$(d).children("defs")[0],f=a.id+"clip",h=$(e).children("#"+f)[0],l;null==h&&(h=document.createElementNS(d.namespaceURI,
"clipPath"),l=b.path(),h.appendChild(l.node),h.id=f,e.appendChild(h),$(a).css("clip-path","url(#"+f+")"),l=l.node);null==l&&(l=$(h).children()[0]);a=this._7776;if(null!=a){b=new ja._5750;for(d=0;d<a.length;d++)e=a[d],3!==e.data("info").s&&b._5161({x:e.attr("x"),y:e.attr("y"),width:this._8665,height:this._4129});l.setAttribute("d",b._2016())}}};v._1492=function(){var a=this._5590;if(null!=a){var b=$(this._10123.canvas).children("defs")[0],d=a.id+"clip";$(b).children("#"+d).remove();$(a).css("clip-path",
"")}};v._9803=function(){var a=this._7338;if(0!==a.length){var b=this._2882(),d=this._4085(),f=b.x/a.s.x,h=b.y/a.s.y;this._11096();var l=this._9376();e._10378._6798(this._5590,l);for(l=0;l<a.length;){var n=a[l];if(null!=n.attrs&&" "!==n.attrs.src){var s=n.attr("width"),q=n.attr("height"),u=n.attr("x"),v=n.attr("y"),s=s*f,q=q*h;s>d.width&&(s=d.width);q>d.height&&(q=d.height);n.attr({x:Math.floor(u*f),y:Math.floor(v*h),width:Math.ceil(s),height:Math.ceil(q)});l++}else n.remove(),a.splice(l,1)}a.s=b;
this._6680(!0)}};v._9376=function(){var a=new u.WebMatrixJS,b=this._4085(),d=this._3607(),e=d.x,d=d.y,f=b.width,b=b.height;a.rotate(this._1814);switch(this._1814){case 0:a.translate(e,d);break;case 90:a.translate(b+e,d);break;case 180:a.translate(f+e,b+d);break;case 270:a.translate(e,f+d)}a._2505=Math.round(a._2505);a._11357=Math.round(a._11357);return a};v._6097=function(){var a=this._9376(),b=a._2505,d=a._11357,e=this._444,f=this._9006;if(90===this._1814||270===this._1814)var h=e,e=f,f=h;a.scale(e,
f);a._2505=Math.round(b);a._11357=Math.round(d);return a};v._5304=function(){if(!this._1255){for(var a=this._2338(),b=-1,d=0;d<a.length;d++){var e=this._7776[a[d]];if(null!=e&&0===e.data("info").s){b=a[d];break}}-1===b||this._5522||this._5273(b)}};v._2338=function(){if(null==this._7776)return[];var a=this._10147,b=this._7457,d=this._8665,e=this._4129;if(this._9727())var f=this._4085(),d=f.width,e=f.height;var h={x:this._6000.x,y:this._6000.y,width:this._6000.width,height:this._6000.height};if(0===
h.width||0===h.height)return[];f=this._9376();f.invert();f.transformRectangle(h);h=u._4868._1094(h);0>h.x&&(h.x=0);0>h.y&&(h.y=0);var f=Math.floor(h.y/e),l=e-h.y%e;0==h.y&&(l=0);var n=0;0<l&&l<=e&&0!=h.y&&(n=1);h.height-=l;0>h.height&&(h.height=0);n+=Math.floor(h.height/e);0<h.height%e&&n++;n>b&&(n=b);b=Math.floor(h.x/d);l=d-h.x%d;0==h.x&&(l=0);e=0;0<l&&l<=d&&0!=h.x&&(e=1);h.width-=l;0>h.width&&(h.width=0);e+=Math.floor(h.width/d);0<h.width%d&&e++;e>a&&(e=a);d=f+n;h=b+e;n=this._7776.length;for(e=
[];f<d;f++)for(l=b;l<h;l++){var s=f*a+l;s<n&&e.push(s)}return e};v._5273=function(a){function b(a,d,e){x._5234(a)}function d(a,b,h){if(a.blocked)x._5522=!1,f.s=0,x._5304();else if(b=x,null==w(b,a).t)b._5522=!1,b._5304();else if(null!=b._7338&&(b._7338=null),h=b._10609(),u._4868._2100(h),b._3893=b._8809(),b._5522=!1,h=b._7776,b._7776=b._10123.set(),h.remove(),b._10147=1,b._7457=1,b._3704=1,b._2454("imagePaintingException",a),null!=a.fileId){h=b._9376();var l=b._4085(),n=l.width,l=l.height;b._11096();
a=b._10123.image(a.fileId,0,0,n,l);b._7776.push(a);b._26.appendChild(a.node);a.data("info",{loc:{x:0,y:0},s:3});e._10378._6798(b._26,h);b._6680(!0);b._4216()}}var f=this._7776[a].data("info"),h=f.loc;a=this._7826;var l=h.x,h=h.y,n=this._8665,s=this._4129,q=this._2882();this._1031();var v=this._501,z=this._5088,x=this;f.s=1;l={x:l,y:h,width:n,height:s,scale:q,format:this._4530,renderingSettings:v,decodingSettings:z};this._7214?a.renderTileWithNeighbours(l,b,d):(l.useCache=this._7214,a.renderTile(l,
b,d));this._5522=!0};v._5234=function(a){var b=null==a.a;if(b){var d=this._6515;if(null!=d){var e=a.image,f=d._1547(a.pos,a.size,a.scale,e,a.renderingSettings,a.decodingSettings);d.containsImageData(e,f)||d.addImageData(e,f,a.fileId)}}if(this._1255)this._5522=!1;else{var d=w(this,a),h=d.t,l=d.i;if(null!=h){var q=this,u=a.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(u)||(u+="?"+a.image.gi());var v=0;h.attr({src:u});var x=new Image;x.onerror=function(d){if(10>v)setTimeout(function(){h.attr({src:u});
x.src=u},250),v++;else{h.data("info").s=0;if(!b&&(d=q._6515,null!=d)){var e=a.image,f=d._1547(a.pos,a.size,a.scale,e,a.renderingSettings,a.decodingSettings);d._10477(e.get_Guid(),f)}q._5304()}};x.onload=function(d){function e(){if(!q._1255&&null!=q._7776)if(n(q,a)){var d=x.height;0!==x.width&&0!==d&&q._6680(!0);q._1255||(q._999()&&q._11096(),h.data("info").s=3,d=q._7776.length,q._3704++,q._2454("imageTilePainted",{tileCount:d,renderedTileCount:q._3704,tileIndex:l,image:q._7826}),q._3704===d?q._2646():
q._8296(),s(q)&&q._4216())}else b&&q._5304()}this.onerror=this.onload=null;if(null!=window.requestAnimationFrame){var f=function(){requestAnimationFrame(e)};requestAnimationFrame(function(){requestAnimationFrame(f)})}else e()};x.src=u;h.image=x;h.data("info").s=2}this._5522=!1;b&&this._5304()}};v._10256=function(){var a=this._6515,b=!1;if(null!=a){var d=this._7826;if(null!=d&&null!=this._7776){this._1031();for(var e=this._501,f=this._5088,l=0;l<this._7776.length;l++){var n=this._7776[l].data("info");
if(0===n.s){var n=n.loc,q=this._2882(),s={width:this._8665,height:this._4129},u=a._1547(n,s,q,h,e,f),u=a.getImageData(d,u);null!=u&&(b={fileId:u,image:d,pos:n,scale:q,size:s,renderingSettings:e.clone(),a:!1},null!=f&&(b.decodingSettings=f.clone()),this._5234(b),b=!0)}else 3===n.s&&this._6680(!0)}}}return b};v._11096=function(){this._6924||(this._2454("imagePainting",{image:this._7826}),this._6924=!0)};v._4216=function(){this._10357||(this._2454("imagePainted",{image:this._7826}),this._10357=!0)};
v._1031=function(){var a=this._7826,b=a.get_RenderingSettings(),d=a.get_DecodingSettings(),a={i:a,r:b,d:d};this._2454("_3315",a);b=a.r;d=a.d;this._501=b;this._5088=d};v._2454=function(a,b){$(this).triggerHandler(a,b)};v._7072=function(b){a.pv.c(b,d);if(null!=b._7776&&!b._7826.get_IsBad()){var f=this._444/b._444,h=this._9006/b._9006;this._7186();var l=this._5590;null!=l?$(l.children).remove():(l=this._2305(),l.id=this._7826.get_Guid(),this._5590=l,null!=this._3447?$(l).insertAfter(this._3447.node):
$(this._10571).prepend(l));for(var n=this._10123.set(),q=0;q<b._7776.length;q++){var s=b._7776[q],u=n.paper.image(s.attr("src"),s.attr("x")*f,s.attr("y")*h,s.attr("width")*f,s.attr("height")*h);u.data("info",s.data("info"));n.push(u);l.appendChild(u.node)}n.s={x:b._444,y:b._9006};this._7338=n;b=this._9376();e._10378._6798(l,b)}};v._1552=function(){this._1828();var a=this._7776;this._2646();this._3704=0;if(null!=a)for(var b=0;b<a.length;b++){var d=a[b];d.data("info").s=0;d=d.image;null!=d&&(d.src=
"",d.onload=null,d.onerror=null)}};v._771=function(){this._6680(!1);0===this._11338&&(this._11338=1)};v._1828=function(){this._771();this._6488()};v._9719=function(){this._6680(!1);3!==this._11338&&(this._11338=2);this._3704=0;this._6488()};v._4174=function(){var a=this._3447,b;null!=this._10393?(b=this._10609(),b.fill=this._10393._2835,b.stroke="none"):b={width:0,height:0};null!=a&&a.attr(b)};v._6912=function(){var a=this._2343,b,d=this._10393;if(null!=d){var e=d._1920;if(0!==e){b=this._10609();
var f=e/2,h={x:b.x+f,y:b.y+f,width:Math.ceil(b.width-e),height:Math.ceil(b.height-e)},f=!0;if(0>h.width||0>h.height)f=!1,h=b;b=h;f?(b.fill="none",b.stroke=d._7427):(b.fill=d._7427,b.stroke="none")}else b={fill:"none"};b["stroke-width"]=e}else b={width:0,height:0};null!=a&&a.attr(b)};v._8730=function(){this._4174();this._6912()};v._5917=function(){var a=[];null!=this._10571&&a.push(this._10571);null!=this._7776&&(a.push(this._7776),this._7776=null);null!=this._7338&&(a.push(this._7338),this._7338=
null);null!=this._3447&&(a.push(this._3447),this._3447=null);null!=this._2343&&(a.push(this._2343),this._2343=null);this._10571=this._5590=this._26=null;return a};v._7430=function(){$(this).off();this._6000=u._4868._3842();this._3561=!0;this._6775=!1;this._11338=2;this._1255=!0;this._6680(!1);return this._5917()};v._7023=function(){this._1255=!1};v._7186=function(){if(null==this._10571){var a=this._10123.canvas,b=this._2305();a.appendChild(b);this._10571=b}};v._2305=function(){return document.createElementNS(this._10123.canvas.namespaceURI,
"g")};this._10123=b;this._7826=h;this._3893=this._7338=this._7776=this._2343=this._3447=this._5590=this._26=this._10571=null;this._4129=this._8665=this._9006=this._444=0;this._7214=!0;this._4530=new a.WebImageTypeEnumJS(1);this._5088=this._501=this._6515=null;this._7457=this._10147=this._1814=0;this._5522=!1;this._3704=0;this._1115=u._4868._3842();this._6000=u._4868._3842();this._7096=new x.WebImageAnchorTypeEnumJS(0);this._11338=this._1558=0;this._10393=null;this._5699=l;this._2508=!1;this._1255=
!0;this._6775=this._3561=!1;this._2936=a.WebImagingEnviromentJS.guid();this._10357=this._6924=!0;delete v._5059;delete v._3315},b=function(f){function h(a,b,d){null==d&&(d=!0);var e={x:b.pageX,y:b.pageY},f=a._83(e);a=a._1242(f);if(d){d=0;switch(b.button){case 0:d=1;break;case 1:d=4;break;case 2:d=2;break;case 3:d=8;break;case 4:d=16}d=new x.WebMouseButtonsEnumJS(d)}else d=new x.WebMouseButtonsEnumJS(b.buttons);return{ps:e,pc:f,pv:a,e:b,b:d,handled:!1,needPrevent:!0,active:!1}}function l(a,b){var d=
a.data.v,e;e=null!=b?b.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)v(d,e.get_Image(f));d._2454("_4158",b)}function q(a,b){var d=a.data.v,e;e=null!=b?b.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)w(d,e.get_Image(f));f=-1;null!=b?(f=b._547,-1===f&&0<e.get_Count()&&(f=0)):0<e.get_Count()&&(f=0);d._547=f;d._2454("_1054",b);d._912()}function s(a){a.data.v.set_MasterViewer()}function n(a,b){var d=a.data.v,e=[],f=[];switch(b.actionName){case "set":e.push(b.previousImage);
case "insert":f.push(b.image);break;case "insertRange":f=b.images;break;case "removeAt":e.push(b.image);break;case "clear":case "removeRange":e=b.images}for(var k=0;k<f.length;k++){var r=f[k];null!=d._501&&r.set_RenderingSettings(d._501.clone());w(d,r)}for(var f=d.get_ImageCacheManager(),h=null!=f&&d.get_SyncCacheWithImages(),k=0;k<e.length;k++)r=e[k],v(d,r),h&&f.contains(r)&&f.clearImageCache(r);d._2454("_3979",b)}function w(a,b){if(null==a._7907)$(b.evm).on("icd."+a._2936,{v:a},t);a._7310[b.get_Guid()]=
new d(a._3586,b,a._5699)}function v(a,b){var d=b.get_Guid(),e=a._7310[d];null==a._484&&(a._484=[]);e=e._7430();null!=e&&a._484.push(e);delete a._7310[d];$(b.evm).off("icd."+a._2936);S(a,b)}function t(a,b){var d=a.data.v,e=b.i,f=b.idc;if("dc"===b.d){var k=d.get_ImageCacheManager();null!=k&&k.contains(e)&&k.clearImageCache(e)}k=d._7310[e.get_Guid()];if(null!=k)if(f){if(null==d._484&&(d._484=[]),e=k._429(e),null!=e&&d._484.push(e),-1!==d._2633.indexOf(k)){for(e=0;e<d._2633.length;e++)d._2633[e]._771();
d._912()}}else d._863([e]);d._2454("_4337",b)}function B(a,b){var d=a.data.v,e=d._547,f=d._2385(b);d._2454("_7059",b);f&&d._912();d._547!==e&&d._2454("focusedIndexChanged",{newFocusedIndex:d._547,previouslyFocusedIndex:e})}function H(a){a=a.data.v;a.get_Images().setRenderingSettings(a._501)}function E(a,b){var d=a.data.v,e=b.newFocusedIndex;-1!==e&&e!==d._547&&d.set_FocusedIndex(e)}function G(a,b){a.data.v.set_ImageRotationAngle(b)}function F(a,b){var d=a.data.v,e;for(e in d._7310)d._7310[e]._7130(b);
d._2454("_10397",b)}function K(a){a._8099="fi"}function I(a,b){var d=a._8099;if(null==d||"fi"===d){if(null!=a._10050&&a.get_IsAutoScrollToFocusedImageEnabled()){var d=a._10050._10609(),e=0,f=0;a._4561?(null==b&&(b=a._3602()),f=(d.height-b.height)/2,e=d.x+(d.width-b.width)/2,f=d.y+f):(e=d.x,f=d.y);a._10537(e,f)}}else a._10537(d.x,d.y)}function fa(a,b){var d=a._3107(b);a._1704();var e=a._2950,f=d.b,k=a._4822(),r=Math.max(k.width,f.width),f=Math.max(k.height,f.height);if(e.width!==r||e.height!==f)e=
a._5375,null!=e&&(k={width:r,height:f},a._2950=k,e.css(k),a._3586.setSize(r,f),a._3586.renderfix(),a._606.setSize(r,f),$(a._606.canvas).parent().css(k),e=a._4022,a._2960&&$(e).css("overflow-x","auto"),a._6567&&$(e).css("overflow-y","auto"),k=a._4822(),r<=k.width&&a._2960&&(e[0].scrollLeft=0,$(e).css("overflow-x","hidden")),f<=k.height&&a._6567&&(e[0].scrollTop=0,$(e).css("overflow-y","hidden")));return d.r}function O(a,b){null==a._484&&(a._484=[]);for(var d=0;d<a._2633.length;d++){var e=a._2633[d];
$(e).off();-1===b.indexOf(e._7826)&&(e=e._7430(),null!=e&&a._484.push(e))}0===a._484.length&&(a._484=null);a._10050=null;a._2633=[]}function P(a,b){aa(a);var d=a._816;if(null!=d)for(var e=d.width,f=d.width,k=a._5375,r=0;r<a._2633.length;r++){var h=a._2633[r],l=h._7826.get_Guid();if(h._999()||null!=a._8437[l]){var m=b[r];null==a._8437[l]?(d=$(a._816).clone(),h={position:"absolute","pointer-events":"none"},$(d).css(h),$(d).insertAfter(k),a._8437[l]=d):d=a._8437[l];var h=e,l=f,n=m.width,q=m.height;h>
n&&(h=n);l>q&&(l=q);h={top:m.y+(q-l)/2,left:m.x+(n-h)/2,width:h,height:l};$(d).css(h)}}}function S(b,d){var e;e=a.pv.iss(d)?d:d.get_Guid();var f=b._8437[e];null!=f&&($(f).remove(),delete b._8437[e])}function aa(a){var b=[];if(null!=a._816)for(var d=0;d<a._2633.length;d++)b.push(a._2633[d]._7826.get_Guid());for(var e in a._8437)-1===b.indexOf(e)&&S(a,e)}function ba(a,b,d,e,f){b._10094();b._9158(a._1814);b._7130(a.get_ImageCacheManager());b._1751(a._8665,a._4129);b._7590(a._7214);b._8317(a._4530);var k=
b._7826;null!=k&&(k=V(a,k),b._7511(k.x,k.y));b._6353(d);null==e&&(e=a._3602());b._6581(e);b._10554(a._7096);b._9073(f);b._7023();b._5998()}function V(a,b){var d=a._4668/100,e=1,f=1,k=a._3274(b),r=96/k.rx,k=96/k.ry,h=a._8595/96,l=a._5123/96;switch(a._7603.valueOf()){case 5:f=e=1;break;case 1:case 0:case 2:e=d*r*h;f=d*k*h;break;case 4:e=r*h;f=k*l;break;case 3:e=d*r*h,f=d*k*l}return{x:e,y:f}}function U(a,b){var d={v:a};$(b).on("imagePainting imageTilePainted imagePainted imagePaintingException",d,R);
$(b).on("_5059",d,Y);$(b).on("_3315",d,N)}function R(a,b){var d=a.data.v,e=a.type;"imagePainting"!==e&&"imagePaintingException"!==e||S(d,this._7826);d._2454(e,b)}function Y(a,b){var d=a.data.v;d._5808();d._8326(this._7826)}function N(a,b){a.data.v._2454(a.type,b)}function X(a,b){b.active?a._7243||(a._1191(a._5375),a._3386(document),a._7243=!0):a._7243&&(a._1191(document),a._3386(a._5375),a._7243=!1)}function da(a){var b="";window.PointerEvent?b+=" pointerdown."+a+" MSPointerDown."+a:("ontouchstart"in
window&&(b+=" touchstart."+a),b+=" mousedown."+a);return b}function Z(a){var b="";window.PointerEvent?b+=" pointermove."+a+" MSPointerMove."+a:("ontouchstart"in window&&(b+=" touchmove."+a),b+=" mousemove."+a);return b}function T(a){var b="";window.PointerEvent?b+=" pointerup."+a+" MSPointerUp."+a:("ontouchstart"in window&&(b+=" touchend."+a),b+=" mouseup."+a);return b}function ea(a){var b=a._4824;a._27.width!=b.clientWidth||a._27.height!=b.clientHeight?(a._27={width:b.clientWidth,height:b.clientHeight},
a._6108=1):(0<a._6108&&4>a._6108&&a._6108++,4===a._6108&&(a._6108=0,a.update()))}function ha(a){a._3925();a._27=a._4822();a._912()}function ca(a){a=a.data.v;var b=a._3602();if(null!=a._10050&&!u._4868._464(b,a._10050._6000)){for(var d=0;d<a._2633.length;d++)a._2633[d]._10094(),a._2633[d]._6581(b);if(0===a._1558){for(d=0;d<a._2633.length;d++)a._2633[d]._5998();a._2454("_1450")}}}function ga(a,b){$(b._7010).on("changed."+a._2936,function(){if(a._290()||a._7732){var b=a._10050;null!=b&&(0===a._1558?
b._6488():a._7377())}})}function ia(a,b){$(b._7010).on("changed."+a._2936,function(){if(a._290())if(0===a._1558)for(var b=0;b<a._2633.length;b++){var d=a._2633[b];d!==a._10050&&d._6488()}else a._7377()})}var m=b.prototype;m.focusedIndexChanged=function(a,b){};m.imageInfoLoading=function(a,b){};m.imageInfoLoaded=function(a,b){};m.imageInfoLoadingException=function(a,b){};m.imagePainting=function(a,b){};m.imageTilePainted=function(a,b){};m.imagePainted=function(a,b){};m.imagePaintingException=function(a,
b){};m.zoomChanged=function(a,b){};m.visualToolChanged=function(a,b){};m.imageRotating=function(a,b){};m.imageRotated=function(a,b){};m.disposed=function(a){};m.renderingSettingsChanging=function(a,b){};m.renderingSettingsChanged=function(a,b){};m._3979=function(a,b){};m._7059=function(a,b){};m._4337=function(a,b){};m._4158=function(a,b){};m._1054=function(a,b){};m._2242=function(a,b){};m._10397=function(a,b){};m._1450=function(a){};m.get_Images=function(){this._3925();var a=this._7907;return null==
a?this._4893:a.get_Images()};m.get_VisualTool=function(){this._3925();return this._1800};m.set_VisualTool=function(b){this._3925();null!=b&&a.pv.c(b,nb.WebVisualToolJS);if(this._1800!==b){var d=this._1800;null!=d&&d._10516();this._1800=b;null!=b&&(b._4610(this),0!==this._1558&&b.set_IsEnabled(!1));this._2454("visualToolChanged",{visualTool:b,previousVisualTool:d})}};m.get_MasterViewer=function(){this._3925();return this._7907};m.set_MasterViewer=function(d){this._3925();if(d!==this&&this._7907!==
d){if(null!=d){a.pv.ic(d,b)||a.pv.ic(d,e.WebThumbnailViewerJS)||a.pv.tae();d._7907===this&&d.set_MasterViewer();for(var f=d;null!=(f=f._7907);)f===this&&a.pv.te("MasterViewer cannot refers to itself.")}this._2983();this._7907=d;this._9549()}};m.get_CenterImage=function(){this._3925();return this._4561};m.set_CenterImage=function(b){this._3925();a.pv.b(b);this._4561!==b&&(this._4561=b)&&(K(this),0===this._1558&&null!=this._10050&&I(this))};m.get_TileWidth=function(){a.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};
m.get_TileHeight=function(){a.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};m.get_TileSize=function(){return{width:this._8665,height:this._4129}};m.set_TileSize=function(b,d){this._3925();var e,f;null==d?(e=b.width,f=b.height):(e=b,f=d);a.pv.n(e,f);32>e&&(e=32);2048<e&&(e=2048);32>f&&(f=32);2048<f&&(f=2048);if(e!==this._8665||f!==this._4129)this._8665=e,this._4129=f,this._7377()};m.get_FocusedIndex=function(){this._3925();return this._547};m.set_FocusedIndex=
function(b){a.pv.n(b);(0>b||b>this.get_Images().get_Count()-1)&&a.pv.toe();var d=this._547;if(b!==d){this._547=b;if(null!=this._7907)try{this._7907.set_FocusedIndex(b)}catch(e){}this._8251(d,b);this._2454("focusedIndexChanged",{newFocusedIndex:b,previouslyFocusedIndex:d})}};m.get_Zoom=function(){this._3925();return this._4668};m.set_Zoom=function(b){3===this.get_ImageSizeMode().valueOf()&&(a.pv.n(b),(1>b||1E3<b)&&a.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(b-this._4668)||(this._4668=b,
this._7377()))};m.get_ImageSizeMode=function(){this._3925();return this._7603};m.set_ImageSizeMode=function(b){this._3925();b=a.pv.e(b,x.WebImageSizeModeEnumJS);var d=this._7603;b.equals(d)||(this._7603=b,3===b.valueOf()&&5!==d.valueOf()||this._7377())};m.get_ImageRotationAngle=function(){this._3925();return this._1814};m.set_ImageRotationAngle=function(b){this._3925();a.pv.n(b);b=u._4868._4781(b);0!==b&&90!==b&&180!==b&&270!==b&&a.pv.te("Argument value exception.");var d=this._1814;b!==d&&(this._2454("imageRotating",
{currentAngle:d,newAngle:b}),this._1814=b,this._7377(),null!=this._7907&&this._7907.set_ImageRotationAngle(b),this._2454("imageRotated",b))};m.get_ImageInfo=function(a){var b=this.get_Images().get_Image(a);a=b.get_Size();b=b.get_Resolution();return null==a||null==b?null:{size:a,resolution:b}};m.get_UseCache=function(){this._3925();return this._7214};m.set_UseCache=function(b){this._3925();a.pv.b(b);if(b!==this._7214){this._7214=b;for(var d in this._7310)this._7310[d]._7590(b)}};m.get_TilesFormat=
function(){this._3925();return this._4530};m.set_TilesFormat=function(b){this._3925();b=a.pv.e(b,a.WebImageTypeEnumJS);if(!this._4530.equals(b)){this._4530=b;for(var d in this._7310)this._7310[d]._8317(b)}};m.get_FocusedImage=function(){var a=this.get_Images();if(0<=this._547&&this._547<a.get_Count())return a.get_Image(this._547)};m.get_HScroll=function(){this._3925();return this._2960};m.set_HScroll=function(b){this._3925();a.pv.b(b);this._2960!==b&&(b=(this._2960=b)?"auto":"hidden",$(this._4022).css("overflow-x",
b),ha(this))};m.get_VScroll=function(){this._3925();return this._6567};m.set_VScroll=function(b){this._3925();a.pv.b(b);this._6567!==b&&(b=(this._6567=b)?"auto":"hidden",$(this._4022).css("overflow-y",b),ha(this))};m.get_RenderingSettings=function(){this._3925();return this._501};m.set_RenderingSettings=function(b){this._3925();null!=b&&a.pv.c(b,a.WebRenderingSettingsJS);var d=this._501;if(!(d==b||null!=d&&d.equals(b))){var e="."+this._2936;null!=d&&$(d.evm).off("changed"+e);this._501=b;null!=b&&
($(b.evm).on("changed"+e,{v:this},H),this.get_Images().setRenderingSettings(b))}};m.get_ImageCacheManager=function(){this._3925();var a=this._7907;return null==a?this._6515:a.get_ImageCacheManager()};m.set_ImageCacheManager=function(b){this._3925();null!=b&&a.pv.c(b,u.WebImageCacheManagerJS);null!=this._7907&&a.pv.te("Can not change cache manager of slave viewer.");if(this._6515!==b){this._6515=b;for(var d in this._7310)this._7310[d]._7130(b);this._2454("_10397",b)}};m.get_SyncCacheWithImages=function(){this._3925();
var a=this._7907;return null!=a?a.get_SyncCacheWithImages():this._3222};m.set_SyncCacheWithImages=function(b){this._3925();a.pv.b(b);null!=this._7907&&a.pv.te("Can not change cache property of slave viewer.");this._3222=b};m.get_ControlId=function(){this._3925();return this._4824.id};m.get_Control=function(){return this._4824};m.get_DisplayMode=function(){this._3925();var a=12,b=this._6777.valueOf(),d=this._5079.valueOf();if(2===b)if(1===this._10856)a=1;else if(2===d)switch(this._10856){case 2:a=
4;break;case 3:a=8}else{if(1===d)switch(this._10856){case 2:a=5;break;case 3:a=9}}else if(1===b)if(2===d)switch(this._10856){case 1:a=2;break;case 2:a=6;break;case 3:a=10}else if(1===d)switch(this._10856){case 1:a=3;break;case 2:a=7;break;case 3:a=11}return new x.WebImageViewerDisplayModeEnumJS(a)};m.set_DisplayMode=function(b){b=a.pv.e(b,x.WebImageViewerDisplayModeEnumJS);if(!b.equals(this.get_DisplayMode())){var d=this._5295;switch(b.valueOf()){case 1:this._8997(d,1,2,2);break;case 2:this._8997(d,
1,2,1);break;case 3:this._8997(d,1,1,1);break;case 4:this._8997(d,2,2,2);break;case 5:this._8997(d,2,1,2);break;case 6:this._8997(d,2,2,1);break;case 7:this._8997(d,2,1,1);break;case 8:this._8997(d,3,2,2);break;case 9:this._8997(d,3,1,2);break;case 10:this._8997(d,3,2,1);break;case 11:this._8997(d,3,1,1)}}};m.get_MultipageDisplayImagePadding=function(){this._3925();return this._5295.slice()};m.set_MultipageDisplayImagePadding=function(b,d,e,f){this._3925();null==f&&(a.pv.isn(b)?f=d=e=b:(f=b.bottom,
d=b.top,e=b.right,b=b.left));a.pv.n(b,d,e,f);(0>b||0>d||0>e||0>f)&&a.pv.toe();var h=this._5295;if(h[0]!==b||h[1]!==d||h[2]!==e||h[3]!==f)this._5295=[b,d,e,f],this._290()&&(K(this),this._7377())};m.get_MultipageDisplayLayoutDirection=function(){this._3925();return this._5079};m.set_MultipageDisplayLayoutDirection=function(b){this._3925();b=a.pv.e(b,x.WebImageLayoutDirectionEnumJS);b.equals(this._5079)||(this._5079=b,this._290()&&(K(this),this._7377()))};m.get_MultipageDisplayRowCount=function(){this._3925();
return this._10856};m.set_MultipageDisplayRowCount=function(b){this._3925();a.pv.n(b);b!==this._10856&&(1>b&&a.pv.toe(),this._10856=b,K(this),this._7377())};m.get_MultipageDisplayMode=function(){this._3925();return this._6777};m.set_MultipageDisplayMode=function(b){this._3925();b=a.pv.e(b,x.WebImageViewerMultipageDisplayModeEnumJS);b.equals(this._6777)||(this._6777=b,K(this),this._7377())};m.get_IsMultipageDisplayMode=function(){this._3925();return this._290()};m.get_IsAutoScrollToFocusedImageEnabled=
function(){this._3925();return 0===this._4757};m.get_FocusedImageAppearance=function(){this._3925();return this._7419};m.set_FocusedImageAppearance=function(b){this._3925();a.pv.c(b,x.WebImageAppearanceJS);this._7419.equals(b)||($(this._7419._7010).off("changed."+this._2936),this._7419=b,ga(this,b),(this._290()||this._7732)&&this._7377())};m.get_ImageAppearance=function(){this._3925();return this._10393};m.set_ImageAppearance=function(b){this._3925();a.pv.c(b,x.WebImageAppearanceJS);this._10393.equals(b)||
($(this._10393._7010).off("changed."+this._2936),this._10393=b,ia(this,b),this._290()&&this._7377())};m.get_UseImageAppearancesInSinglePageMode=function(){this._3925();return this._7732};m.set_UseImageAppearancesInSinglePageMode=function(b){this._3925();a.pv.b(b);this._7732!==b&&(this._7732=b,this._290()||this._7377())};m.get_ImageAnchor=function(){this._3925();return this._7096};m.set_ImageAnchor=function(b){this._3925();b=a.pv.e(b,x.WebImageAnchorTypeEnumJS);b.equals(this._7096)||(this._7096=b,
this._7377())};m.get_ProgressImage=function(){this._3925();return this._816};m.set_ProgressImage=function(b){this._3925();null!=b&&a.pv.c(b,Image);var d=this._816;if(d!==b){var e=!1;if(null!=b){e=b.src;if(null!=d&&e===d.src)return;e=!0}this._816=b;if(e){b=[];for(d=0;d<this._2633.length;d++)b[d]=this._2633[d]._1115;P(this,b)}else aa(this)}};m.get_ContextMenuFunc=function(){this._3925();return this._2440};m.set_ContextMenuFunc=function(b){this._3925();null!=b&&a.pv.f(b);this._2440=b;if(null!=this._5375){var d=
this;this._5375[0].oncontextmenu=function(a){a.cancelable=!0;a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation();var b=d._1800;if(null!=b&&b.get_DisableContextMenu())return!1;var e;null!=d._2440&&(e=d._2440(a));return null!=e?e:!1}}};m.get_IsDisposed=function(){return this._6421};m._290=function(){return 2!==this._6777.valueOf()||1!==this._10856};m._10608=function(){return this._2382};m._1704=function(){var a=this._4022[0];return null!=a?{x:a.scrollLeft,y:a.scrollTop}:{x:0,y:0}};
m._10537=function(a,b){var d=this._4022[0];if(null!=d){var e=this._4822();this._2950.width<=e.width&&(a=0);this._2950.height<=e.height&&(b=0);d.scrollTop=b;d.scrollLeft=a}};m._640=function(){var a=this._4022[0];return null!=a?{width:a.clientWidth,height:a.clientHeight}:{width:0,height:0}};m._4822=function(){var a=this._4824;return null!=a?{width:a.clientWidth,height:a.clientHeight}:{width:0,height:0}};m._3602=function(){var a=this._1704(),b=this._640();return{x:a.x,y:a.y,width:b.width,height:b.height}};
m._5179=function(){return{width:this._2950.width,height:this._2950.height}};m._5257=function(){var a=this.get_FocusedImage();if(null==a)return u._4868._3842();a=this._3274(a);return{width:a.w,height:a.h}};m._1110=function(a){this._10041!==a&&(this._10041=a,this._1887||this._4022.css("cursor",a))};m._8902=function(a){this._4022.attr("title",a)};m._2530=function(){return{width:this._5699.width,height:this._5699.height}};m._5543=function(b,d){null==d&&(d=b.height,b=b.width);a.pv.n(b,d);this._5699={width:b,
height:d}};m._10779=function(){return{x:this._5725.x,y:this._5725.y}};m._7681=function(b,d){null==d&&(d=b.y,b=b.x);a.pv.n(b,d);this._5725={x:b,y:d}};m.renderImages=function(b,d,e,f,h){function k(){var a=n[t],b=a.get_Size(),d=a.get_Resolution();null!=b&&null!=d?(b=V(l,a),u.cancelRendering||a.renderTiles({width:l._8665,height:l._4129,format:l._4530,scale:b},r,y)):a.getImageInfo(k,y)}function r(a,b,e){t++;t===s?d&&d():(u.rendered=t,f&&f(u),u.cancelRendering?h&&h():k())}function y(a,b,d){e&&e(a.errorMessage)}
this._3925();0!==this._1558&&a.pv.te("Method cannot be executed because initialization is not finished.");a.pv.ad(b,a.pv.n);if(this._7214){var l=this,m=this.get_Images(),n=[];if(0===b.length)n=m.toArray();else for(var q=0;q<b.length;q++)n.push(m.get_Image(b[q]));var s=n.length,t=0,u={rendered:0,total:s,cancelRendering:!1};k()}};m.beginInit=function(){this._3925();this._1558++;null==this._10248&&this._8229();1===this._1558&&null!=this._1800&&this._1800.set_IsEnabled(!1)};m.endInit=function(){this._3925();
this._1558--;0===this._1558?(this._4539(),null!=this._1800&&this._1800.set_IsEnabled(!0)):0>this._1558&&(this._1558=0)};m.update=function(){ha(this)};m.invalidate=function(){this._3925();this._8326(this.get_FocusedImage())};m.transformPointFromScreenToControl=function(a,b){return this._83(a,b)};m.transformPointFromControlToScreen=function(a,b){return this._1391(a,b)};m.transformPointFromScreenToViewer=function(a,b){var d=this._83(a,b);return this._1242(d)};m.transformPointFromViewerToScreen=function(a,
b){var d=this._6336(a,b);return this._1391(d)};m.transformPointFromControlToViewer=function(a,b){return this._1242(a,b)};m.transformPointFromViewerToControl=function(a,b){return this._6336(a,b)};m.transformPointFromControlToImage=function(a,b){return this._9638(a,b)};m.transformPointFromImageToControl=function(a,b){return this._3071(a,b)};m.transformPointFromViewerToImage=function(a,b){return this._1953(a,b)};m.transformPointFromImageToViewer=function(a,b){return this._7254(a,b)};m.scrollTo=function(b,
d){this._3925();a.pv.n(b,d);0>d&&(d=0);0>b&&(b=0);this._10537(b,d)};m.scrollToImagePoint=function(b,d){this._3925();a.pv.n(b,d);var e=this._640(),f=this._6097().transformPoint({x:b,y:d});this._10537(f.x-e.width/2,f.y-e.height/2)};m.focus=function(){this._3925();var a=$(this._4824);a.blur();a.focus()};m.disableAutoScrollToFocusedImage=function(){this._3925();this._4757++};m.enableAutoScrollToFocusedImage=function(){this._3925();this._4757--};m.getImageIndexByLocation=function(a){this._3925();for(var b,
d=0;d<this._2633.length;d++)if(this._2633[d]._6038(a)){b=this._2633[d]._7826;break}return null!=b?this.get_Images().indexOf(b):-1};m.getImageByLocation=function(a){a=this.getImageIndexByLocation(a);var b=this.get_Images();if(0<=a&&a<b.get_Count())return b.get_Image(a)};m.setFocusedIndexByLocation=function(a,b){var d=this.getImageIndexByLocation(a);if(0<=d&&d!==this._547)try{return b&&this.disableAutoScrollToFocusedImage(),this.set_FocusedIndex(d),!0}finally{b&&this.enableAutoScrollToFocusedImage()}return!1};
m.setFocusedIndexAsync=function(b,d){this._3925();0===this._1558&&this._6537||a.pv.tie();a.pv.n(b);null!=d&&a.pv.f(d);if(this._547!==b){if(null!=d){var e=function(){h._6537=!0;null!=d&&d()},f=this.get_Images().get_Image(b),f=this._7963(f),h=this,k=this._4822();if(0===k.width||0===k.height||f._2508)$(this).one("focusedIndexChanged",e);else $(f).one("_5059",function(){setTimeout(e,0)});this._6537=!1}this.set_FocusedIndex(b)}else null!=d&&d()};m.getNearestImage=function(a){if(0==this.get_Images().get_Count())return null;
if(!this._290())return this.get_FocusedImage();for(var b=this._10911(),d,e=0,f,k=0;k<b.length;k++){f=b[k];var r=this._4072(f);if(k==b.length-1&&a.x>=r.x&&a.y>=r.y||u._4868._10449(r,a))return f;r=u._4868._8105(r);r=u._4868._11380(r,a);if(null==d||e>r)e=r,d=f}return d};m.zoomToRectangle=function(b){a.pv.r(b);0>=b.width||0>=b.height?this.scrollToImagePoint(b.x,b.y):this._10528(b)};m.dispose=function(){this._3925();clearInterval(this._8565);var a="."+this._2936,b=this._4893;$(b.evm).off(a);for(var d=
0;d<b.get_Count();d++){var e=b.get_Image(d);$(e.evm).off(a)}if(null!=this._7907){$(this._7907._6466).off(a);b=this.get_Images();for(d=0;d<b.get_Count();d++)e=b.get_Image(d),$(e.evm).off(a);this._7907=null}this._547=-1;this._6515=null;$(this._10393._7010).off(a);$(this._7419._7010).off(a);this._1191(document);$(this._4824).empty();this._4022=this._4824=null;this._9561=this._10041="";this._484=this._606=this._3586=this._5375=null;this._8437={};this._816=null;for(a in this._7310)this._7310[a]._7430();
this._7310={};this._2633=[];this._1800=this._10050=null;this._2454("disposed");this._6421=!0;$(this).off();$(this._6466).off()};m._10528=function(a,b){this._3925();var d={x:a.x,y:a.y,width:a.width,height:a.height};this._6097(b).transformRectangle(d);var d=u._4868._2100(d),d=u._4868._1094(d),e=this._640(),d=Math.min(e.width/d.width,e.height/d.height);this.set_ImageSizeMode(3);d*=this._4668;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);d=u._4868._8105(a);this.scrollToImagePoint(d.x,d.y)};m._4072=function(b,
d){var e=this.get_FocusedImage();null==b?b=e:a.pv.isb(b)&&(d=b,b=e);e=this._7963(b);if(null!=e){e=e._10609();if(d){var f=this._3602(),e=u._4868._6314(e,f);e.x-=f.x;e.y-=f.y}return e}return u._4868._3842()};m._9412=function(){var a=this.get_FocusedImage();if(null==a)return u._4868._3842();var b=this._8306(a),d=this._640(),d={x:0,y:0,width:d.width,height:d.height};b.transformRectangle(d);d=u._4868._2100(d);a=a.get_Size();return u._4868._6314(d,{x:0,y:0,width:a.width,height:a.height})};m._1733=function(a){if(!(0>
this._547)){var b=a;"mousedown"!=a.type&&(a="touchstart"==a.type?a.originalEvent.touches[0]:a.originalEvent,a.sourceEvent=b);a=h(this,a);a.t="mouseDown";var d=this._1800;this._290()&&(null!=d&&d._2380(a)||this.setFocusedIndexByLocation(a.pv,!0));null!=d&&d._7741()&&(this._9712(),d._1733(a),this._4464(),a.handled&&a.needPrevent&&(b.cancelable=!0,b.preventDefault?b.preventDefault():b.returnValue=!1),X(this,a))}};m._9698=function(a){if(!(0>this._547)){if("mousemove"!=a.type){var b=a;a="touchmove"==a.type?
a.originalEvent.touches[0]:a.originalEvent;a.sourceEvent=b}a=h(this,a,!1);a.t="mouseMove";b=this._1800;null!=b&&b._7741()&&(this._9712(),b._9698(a),this._4464(),X(this,a))}};m._9629=function(a){if(!(0>this._547)){var b=this._1800;if(null!=b&&b._7741()){if("mouseup"!=a.type){var d=a;a="touchend"==a.type?a.originalEvent.changedTouches[0]:a.originalEvent;a.sourceEvent=d}a=h(this,a);this._9712();var d=a.ps,e=(new Date).getTime(),f=this._3608?e-this._3608:0,k=this._9982?u._4868._11380(this._9982,d):100;
250>f&&30<f&&10>k?(d=this._640(),d.x=0,d.y=0,u._4868._10449(d,a.pc)&&(a.t="doubleClick",b._11042(a),a.handled=!1,a.active=!1)):(this._9982=d,this._3608=e);a.t="mouseUp";b._9629(a);this._4464();X(this,a)}}};m._83=function(a,b){var d=this._3888(a,b),e=$(this._4824).offset();return{x:d.x-e.left,y:d.y-e.top}};m._1391=function(a,b){var d=this._3888(a,b),e=$(this._4824).offset();return{x:d.x+e.left,y:d.y+e.top}};m._1242=function(a,b){var d=this._3888(a,b),e=this._1704();return{x:d.x+e.x,y:d.y+e.y}};m._6336=
function(a,b){var d=this._3888(a,b),e=this._1704();return{x:d.x-e.x,y:d.y-e.y}};m._1953=function(b,d,e){b=this._2738(b,d);a.pv.ic(d,a.WebImageJS)&&(e=d);return this._8306(e).transformPoint(b)};m._7254=function(b,d,e){b=this._2738(b,d);a.pv.ic(d,a.WebImageJS)&&(e=d);return this._6097(e).transformPoint(b)};m._9638=function(b,d,e){b=this._1242(b,d);a.pv.ic(d,a.WebImageJS)&&(e=d);return this._1953(b,e)};m._3071=function(a,b,d){a=this._7254(a,b,d);return this._6336(a)};m._6097=function(a){null==a&&(a=
this.get_FocusedImage());a=this._7963(a);return null!=a?a._6097():new u.WebMatrixJS};m._8306=function(a){return this._6097(a).invert()};m._10184=function(a){a=this._6097(a);var b=this._1704();a.translate(-b.x,-b.y);return a};m._10042=function(a,b){if(a===b||null==a||null==b)return new u.WebMatrixJS;var d=this._6097(a),e=this._8306(b);return u.WebMatrixJS.multiplyMatrix(d,e)};m._3888=function(b,d){this._3925();if(null==d||a.pv.ic(d,a.WebImageJS))d=b.y,b=b.x;a.pv.n(b,d);return{x:b,y:d}};m._2738=function(b,
d){var e=this._3888(b,d);-1===this._547&&a.pv.te("ImageViewer does not have image.");return e};m._3925=function(){this._6421&&a.pv.te("Viewer is disposed.")};m._10911=function(a){null==a&&(a=!1);for(var b=[],d=0;d<this._2633.length;d++){var e=this._2633[d];a?e._10755()&&b.push(e._7826):b.push(e._7826)}return b};m._6264=function(a){a=this._7963(a);if(null!=a)return a._10755()};m._7963=function(a){if(null!=a)return this._7310[a.get_Guid()]};m._912=function(){this._9695=3;this._4539()};m._7377=function(){0===
this._9695&&(this._9695=1);this._4539()};m._9654=function(){1>=this._9695&&(this._9695=2);this._4539()};m._4539=function(){if(0===this._1558){var a=!1;if(1===this._9695)a=this._10240();else if(2===this._9695)if(null!=this._10248&&this._10240())a=!0;else for(var b=0;b<this._2633.length;b++)this._2633[b]._6488();else 3===this._9695&&(a=!0);this._10248=null;this._9695=0;if(a)this._2868();else{if(null!=this._10050&&this._10050._4043())for(b=0;b<this._2633.length;b++)this._2633[b]._5998(!0);null!=this._8099&&
(I(this),this._8099=null)}}};m._9712=function(){this._9561=this._10041;this._1887=!0};m._4464=function(){this._1887=!1;this._9561!==this._10041&&this._4022.css("cursor",this._10041);this._9561=""};m._8251=function(a,b){this._9695=3;if(0===this._1558){var d=!1;if(2===this._6777.valueOf()){var e=this._10856;1===e?d=!0:Math.floor(a/e)!==Math.floor(b/e)&&(d=!0)}if(d)this._912();else if(""===this._3140){d=this.get_FocusedImage();d=this._7963(d);e=this._10050;e._10094();d._10094();e._9073(this._10393);
d._9073(this._7419);this._10050=d;var f=this._1704(),k=this._3602();I(this,k);var r=this._1704();if(r.x!==f.x||r.y!==f.y)for(k.x=r.x,k.y=r.y,f=0;f<this._2633.length;f++)this._2633[f]._6581(k);this._2454("_2242",{dz:1,sp:this._1704(),ic:!1});e._5998();d._5998()}else K(this);this._9695=0}};m._2983=function(){var a=this._7907;l({data:{v:this}},a);null!=a&&$(a._6466).off("."+this._2936);this.set_VisualTool()};m._9549=function(){var a=this._7907,b={v:this};if(null!=a){var d="."+this._2936,e=a._6466;$(e).on("_3979"+
d,b,n);$(e).on("_7059"+d,b,B);$(e).on("_4337"+d,b,t);$(e).on("focusedIndexChanged"+d,b,E);$(e).on("imageRotated"+d,b,G);$(e).on("_10397"+d,b,F);$(e).on("_4158"+d,b,l);$(e).on("_1054"+d,b,q);$(e).on("disposed"+d,b,s)}q({data:b},a)};m._2385=function(a){var b=!1;1===this._6777.valueOf()&&(b=!0);switch(a.actionName){case "clear":this._547=-1;b=!0;break;case "insert":case "insertRange":var d=a.imageIndex,e=1;"insertRange"===a.actionName&&(e=a.images.length);this._206(d,e);break;case "removeAt":case "removeRange":d=
[],"removeRange"===a.actionName?d=a.imagesIndexes:d.push(a.imageIndex),this._155(d)}return b||(a=this._10911(),d=this._6972(),u._4868._9711(a,d))?b:!0};m._206=function(a,b){var d=this.get_Images().get_Count();b===d?this._547=0:this._547>=a&&(this._547+=b)};m._155=function(a){var b=this.get_Images().get_Count();if(0===b)this._547=-1;else{for(var d=!1,e=0;this._547>=a[e];){if(this._547===a[e]){d=!0;break}e++}this._547-=e;d&&b==this._547&&this._547--}};m._8997=function(b,d,e,f){this._5295=b;this._10856=
d;this._5079=a.pv.e(e,x.WebImageLayoutDirectionEnumJS);this._6777=a.pv.e(f,x.WebImageViewerMultipageDisplayModeEnumJS);K(this);this._7377()};m._2868=function(){for(var b=this._6972(),d=[],e=0;e<b.length;e++){var f=b[e];null!=f&&null==f.get_Size()&&d.push(f)}var h=a.WebImagingEnviromentJS.guid();this._3140=h;if(0===d.length)this._7775(b,h);else{for(var f=function(a){s?q._2868():q._7775(b,h)},k=function(a){a.blocked?s=!0:q._2454("imageInfoLoadingException",a)},r=function(a){q._2454("imageInfoLoaded",
{image:a.image})},y=[],e=0;e<d.length;e++){for(var l=d[e].get_Source(),m=!0,n=0;n<y.length;n++)if(l.equals(y[n])){m=!1;break}m&&y.push(l)}for(var q=this,s=!1,e=0;e<y.length;e++)y[e].get_ImageService().bi();for(e=0;e<d.length;e++)d[e].getImageInfo(r,k),this._2454("imageInfoLoading",{image:d[e]});for(e=0;e<y.length;e++)if(d=y[e].get_ImageService().ei(),null!=d)for(n=0;n<d.length;n++)if(k=d[n].request,a.pv.ic(k,a.WebCompositeRequestJS)&&"GetImagesInfo"===k.get_ActionName())$(k).one("cre crs",f)}};m._7775=
function(b,d){if(this._3140===d&&0===this._1558){0===this._2382&&(this._2382=a.WebImagingEnviromentJS.get_ScrollSize(this._4824));if(this._290()){if(!(0<this._1558)){var e=this._10050,f=!1;if(0<b.length){var h=this._6878,k=this._1704(),r=fa(this,b),y=1;if(this._4668!==h&&(y=this._4668/h,this._2454("zoomChanged",{zoom:this._4668,differenceScale:y,scroll:k}),null!=e&&"fi"!==this._8099)){var l=-1,h=this.getNearestImage(k);null!=h&&(l=this.get_Images().indexOf(h));var m=h=0;if(-1!=l){m=0;1==this._6777.valueOf()&&
(m=Math.trunc(l/this._10856));var l=l%this._10856,n=this._5295;2==this._5079.valueOf()?(h=n[0]*(l+1)+n[2]*l,m=n[1]*(m+1)+n[3]*m):(h=n[0]*(m+1)+n[2]*m,m=n[1]*(l+1)+n[3]*l)}this._558((k.x-h)*y+h,(k.y-m)*y+m)}h=this._3602();l=this.get_FocusedImage();b:if(this._2633.length!==b.length)m=!1;else{for(m=0;m<b.length;m++)if(this._2633[m]._7826!==b[m]){m=!1;break b}m=!0}if(!m){O(this,b);for(m=0;m<b.length;m++)f=b[m],null!=f&&(f=this._7310[f.get_Guid()],U(this,f),this._2633[m]=f);f=!0}P(this,r);for(var q=this._10393,
m=0;m<this._2633.length;m++){var s=q,n=this._2633[m];n._7826===l&&(this._10050=n,s=this._7419);n._10094();ba(this,n,r[m],h,s)}this._2454("_2242",{dz:y,sp:k,ic:f});this._10050===e&&null==this._8099&&this._558(k);I(this,h);e=this._1704();if(e.x!==k.x||e.y!==k.y)for(h.x=e.x,h.y=e.y,m=0;m<this._2633.length;m++)this._2633[m]._6581(h);k=!0;for(m=0;m<this._2633.length;m++)n=this._2633[m],k&&(k=n._2508),n._5998(!0);k&&this._5808()}else fa(this,b),O(this,b),this._5808(),this._2454("_2242",{dz:this._4668/this._6878,
sp:this._1704(),ic:!0});this._8099=null}}else if(!(0<this._1558)){e=!1;r=this._10050;if(0<b.length){l=this._6878;k=this._1704();y=fa(this,b);f=1;this._4668!==l&&(f=this._4668/l,l=this._1704(),this._2454("zoomChanged",{zoom:this._4668,differenceScale:f,scroll:l}),null!=r&&this._558(l.x*f,l.y*f));m=b[0];if(1!==this._2633.length||this._2633[0]._7826!==m)e=!0,O(this,b);l=this._3602();0===this._2633.length&&(m=this._7963(m),U(this,m),this._2633[0]=m);this._10050=this._2633[0];P(this,y);this._7732&&(h=
this._7419);this._10050._10094();ba(this,this._10050,y[0],l,h);this._2454("_2242",{dz:f,sp:k,ic:e});this._10050===r&&null==this._8099&&this._558(k);I(this,l);e=this._1704();if(e.x!==k.x||e.y!==k.y)l.x=e.x,l.y=e.y,this._10050._6581(l);k=this._10050._2508;this._10050._5998(!0);k&&this._5808()}else fa(this,b),O(this,b),this._5808(),this._2454("_2242",{dz:this._4668/this._6878,sp:this._1704(),ic:!0});this._8099=null}this._3140===d&&(this._3140="")}};m._558=function(a,b){"fi"!==this._8099&&(this._8099=
null!=b?{x:a,y:b}:a)};m._6972=function(){var a=this.get_Images(),b=a.get_Count();if(0===b)return[];var d=this._290();if(!d)return a=a.get_Image(this._547),null!=a?[a]:[];var e=this._6777.valueOf();if(1===e)return a.toArray();var f=this._10856,k=0;d&&1!==e&&(k=Math.floor(this._547/f));d=Array(f);for(e=0;e<f;e++){var r=k*f+e;if(r>=b)break;d[e]=a.get_Image(r)}return d};m._3107=function(b){var d=[],e=u._4868._3842();if(0===b.length)return{b:e,r:d};var f=this._5295;this._290()||(f=[0,0,0,0]);var h=this._6777.valueOf(),
k=this._4822(),r=k.width,y=k.height,e={x:0,y:0,width:r,height:y},h=1===h?Math.min(b.length,this._10856):b.length,l=this._4668,m=this._7603.valueOf(),n=this._5079.valueOf();if(2===n){var d=this._8205(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r,n=r>k.width,q=y>k.height;if(q){if(r=k.width-this._2382,y=k.height,d=this._8205(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r,n=r>k.width-this._2382)r=k.width-this._2382,y=k.height-this._2382,d=this._8205(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r}else!n||1!==m&&3!==m&&4!==m||(y=k.height-
this._2382,r=k.width,d=this._8205(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r)}else if(1===n)if(d=this._3353(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r,n=r>k.width,q=y>k.height,n){if(y=k.height-this._2382,r=k.width,d=this._3353(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r,q=y>k.height-this._2382)r=k.width-this._2382,y=k.height-this._2382,d=this._3353(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r}else!q||0!==m&&3!==m&&4!==m||(r=k.width-this._2382,y=k.height,d=this._3353(b,h,f,r,y),r=d.w,y=d.h,l=d.z,d=d.r);else a.pv.te("Invalid operation");
0>=l?(e.width=0,e.height=0):(e.width=r,e.height=y);this._6878=this._4668=l;return{b:e,r:d}};m._8205=function(b,d,e,f,h){var k=this._7603.valueOf(),r=5===k,y=this._88(b,0,b.length,!r),l=y.w,m=y.h,n=e[0]+e[2],q=e[1]+e[3],s=l*d,t;switch(k){case 2:t=Math.min((f-n*d)/s,(h-q)/m);break;case 1:t=(h-q)/m;break;case 0:t=(f-n*d)/s;break;case 3:t=this._4668/100;break;case 4:case 5:t=1;break;default:a.pv.te("Invalid operation")}0>t&&(t=0);var u=1,v=1;if(3===k||4===k)u=this._8595/96,v=this._5123/96;for(var x=[],
s=Math.round(s*t*u+n*d),z=0,w=0;w<b.length;w+=d){for(var y=this._88(b,w,d,!r),m=y.h,y=Math.round(l*t*u)+n,m=Math.round(m*t*v)+q,A=0;A<d&&w+A<b.length;A++){var B={x:A*y,y:z,width:y,height:m};B.x+=e[0];B.y+=e[1];B.width-=n;0>B.width&&(B.width=0);B.height-=q;0>B.height&&(B.height=0);x[w+A]=B}z+=m}b=Math.ceil(z);this._290()?this._3517(f,h,s,b,x):x[0]={x:0,y:0,width:Math.max(f,s),height:Math.max(h,b)};f=100*t;3!==k&&4!==k&&(f/=this._8595/96);return{w:s,h:b,z:f,r:x}};m._3353=function(b,d,e,f,h){var k=this._7603.valueOf(),
r=5===k,y=this._88(b,0,b.length,!r),l=y.w,m=y.h,n=e[0]+e[2],q=e[1]+e[3],s=m*d,t;switch(k){case 2:t=Math.min((f-n)/l,(h-q*d)/s);break;case 1:t=(h-q*d)/s;break;case 0:t=(f-n)/l;break;case 3:t=this._4668/100;break;case 4:case 5:t=1;break;default:a.pv.te("Invalid operation")}0>t&&(t=0);var u=1,v=1;if(3===k||4===k)u=this._8595/96,v=this._5123/96;for(var x=[],z=0,s=Math.round(s*t*v+q*d),w=0;w<b.length;w+=d){for(var y=this._88(b,w,d,!r),l=y.w,l=Math.round(l*t*u)+n,y=Math.round(m*t*v)+q,B=0;B<d&&w+B<b.length;B++){var A=
{x:z,y:B*y,width:l,height:y};A.x+=e[0];A.y+=e[1];A.width-=n;0>A.width&&(A.width=0);A.height-=q;0>A.height&&(A.height=0);x[w+B]=A}z+=l}b=Math.ceil(z);this._290()?this._3517(f,h,b,s,x):x[0]={x:0,y:0,width:Math.max(f,b),height:Math.max(h,s)};f=100*t;3!==k&&4!==k&&(f/=this._8595/96);return{w:b,h:s,z:f,r:x}};m._88=function(a,b,d,e){for(var f=0,k=0,r=0;r<d&&b+r<a.length;r++){var h=a[b+r];if(null!=h){var h=this._3274(h),l=h.w,m=h.h;e&&(l*=this._8595/h.rx,m*=this._5123/h.ry);l>f&&(f=l);m>k&&(k=m)}}if(90===
this._1814||270===this._1814)a=f,f=k,k=a;return{w:f,h:k}};m._3274=function(a){var b=a.get_Resolution(),d=a.get_Size(),e;null==b||0===b.x||0===b.y?(a=this._5725.x,b=this._5725.y):(a=b.x,b=b.y);null==d||0===d.width||0===d.height?(e=this._5699.width,d=this._5699.height):(e=d.width,d=d.height);return{rx:a,ry:b,w:e,h:d}};m._3517=function(a,b,d,e,f){switch(this._7096.valueOf()){case 4:case 7:a=0;b=Math.max(0,(b-e)/2);break;case 6:a=0;b=Math.max(0,b-e);break;case 5:b=a=0;break;case 8:case 11:a=Math.max(0,
a-d);b=Math.max(0,(b-e)/2);break;case 10:a=Math.max(0,a-d);b=Math.max(0,b-e);break;case 9:a=Math.max(0,a-d);b=0;break;case 1:case 13:a=Math.max(0,(a-d)/2);b=0;break;case 2:case 14:a=Math.max(0,(a-d)/2);b=Math.max(0,b-e);break;default:a=Math.max(0,(a-d)/2),b=Math.max(0,(b-e)/2)}if(0!=a||0!=b)for(e=0;e<f.length;e++)f[e].x+=a,f[e].y+=b};m._5808=function(){var a=this._484;if(null!=a){for(var b=a.length-1;0<=b;b--){var d=a[b];if(0!=d.length){$(d[0]).remove();for(var e=1;e<d.length;e++)d[e].remove()}}this._484=
null}};m._8326=function(a){var b=this._1800;if(0!==this._2633.length&&null!=b){var b=this.get_FocusedImage(),d;a!==b&&(d=this._4072(a));this._635(a,d)}};m._635=function(a,b){if(null!=a){var d=this._7963(a);if(null!=d&&d._10330())return this._1800._6160(d._6097(),a,b)}};m._10552=function(a){var b=this;$(a).on(da(b._2936),function(a){b._1733(a)})};m._2424=function(a){$(a).off(da(this._2936))};m._3386=function(a){var b=this,d=b._2936;$(a).on(Z(d),function(a){b._9698(a)});$(a).on(T(d),function(a){b._9629(a)})};
m._1191=function(a){var b=this._2936;$(a).off(Z(b));$(a).off(T(b))};m._2454=function(a,b){$(this._6466).triggerHandler(a,b);$(this).triggerHandler(a,b)};m._8229=function(){var a={};a._8665=this._8665;a._4129=this._4129;a._4668=this._4668;a._7603=this._7603.valueOf();a._1814=this._1814;a._5295=this._5295.slice();a._5079=this._5079.valueOf();a._10856=this._10856;a._6777=this._6777.valueOf();a._7096=this._7096.valueOf();a._7732=this._7732;a._7419=this._7419.clone();a._10393=this._10393.clone();a._isMultipage=
this._290();this._10248=a};m._10240=function(){var a=this._10248;if(null==a)return!0;var b=this._290(),d=!a._7419.equals(this._7419),e=a._7732!==this._7732;if(a._8665!==this._8665||a._4129!==this._4129||a._1814!==this._1814||b!==a._isMultipage||a._7096!==this._7096.valueOf()||a._4668!==this._4668||!b&&(e||d&&this._7732))return!0;e=this._7603.valueOf();return a._7603!==e&&3!==e||b&&(b=this._5295,e=a._5295,b=b[0]!==e[0]||b[1]!==e[1]||b[2]!==e[2]||b[3]!==e[3],e=!a._10393.equals(this._10393),b||a._5079!==
this._5079.valueOf()||a._6777!==this._6777.valueOf()||a._10856!==this._10856||d||e)?!0:!1};m._863=function(a){var b=[],d=this._2633;if(null!=a)for(var e=0;e<a.length;e++){var f=this._7310[a[e].get_Guid()];-1!==d.indexOf(f)&&b.push(f)}else b=d;if(0!==b.length){for(e=0;e<b.length;e++)b[e]._1552();this._9654()}};var M;a.pv.iss(f)?M=document.getElementById(f):(a.pv.ic(f,$)&&(f=f[0]),null!=f.tagName&&(M=f));null==M&&a.pv.te("The parent DOM element for viewer is not found.");"DIV"!==M.tagName&&a.pv.te("The parent DOM element for viewer must be a DIV element.");
M.style.setProperty("position","relative","important");this._4824=M;this._2936=a.WebImagingEnviromentJS.guid();this._2950=null;this._27={width:M.clientWidth,height:M.clientHeight};this._2382=a.WebImagingEnviromentJS.get_ScrollSize(M);this._8595=a.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._8595&&(this._8595=96);this._5123=a.WebImagingEnviromentJS.getScreenDpi().dpiY;0===this._5123&&(this._5123=96);this._9695=this._1558=0;this._7455="WebImageViewer";this._4893=new a.WebImageCollectionJS;this._7907=
this._1800=null;this._4561=!1;this._4129=this._8665=1024;this._547=-1;this._6878=this._4668=100;this._7603=new x.WebImageSizeModeEnumJS(4);this._484=this._606=this._3586=this._8099=null;this._6108=0;this._8565=null;this._5940=250;this._1814=0;this._6567=this._2960=!0;this._501=null;this._7214=!0;this._4530=new a.WebImageTypeEnumJS(1);this._9561=this._10041="";this._1887=!1;this._6466={};this._6515=null;this._3222=!0;this.set_ImageCacheManager(new u.WebImageCacheManagerJS);this._10050=null;this._2633=
[];this._7310={};this._3140="";this._6537=!0;this._7419=new x.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(0,0,0,1)",1,"solid");this._10393=new x.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(255,255,255,0)",0,"solid");this._7732=!1;this._5295=[4,4,4,4];this._5079=new x.WebImageLayoutDirectionEnumJS(2);this._10856=1;this._6777=new x.WebImageViewerMultipageDisplayModeEnumJS(2);this._4757=0;this._7096=new x.WebImageAnchorTypeEnumJS(0);this._5699={width:100,height:100};this._5725={x:96,y:96};
this._816=this._5375=this._4022=this._10248=null;this._8437={};this._2440=null;f={v:this};M="."+this._2936;$(this._4893.evm).on("changing"+M,f,n);$(this._4893.evm).on("changed"+M,f,B);ga(this,this._7419);ia(this,this._10393);(function(a){var b=a._4824,d=b.clientWidth,e=b.clientHeight,f=$("<div>");$(b).prepend(f);b={width:"100%",height:"100%",position:"absolute"};b["overflow-x"]=a._2960?"auto":"hidden";b["overflow-y"]=a._6567?"auto":"hidden";f.css(b);$(f).on("scroll",{v:a},ca);a._4022=f;b=$("<div>").appendTo(f);
a._5375=b;$(b).css("touch-action","none");a._2950={width:d,height:e};a._10552(b);a._3386(b);f=Raphael(f[0],d,e);$(f.canvas).css({position:"absolute",left:0,top:0});a._3586=f;f.renderfix();f=$("<div>").appendTo(b);$(f).css({overflow:"hidden",width:d,height:e});f=Raphael(f[0],d,e);$(f.canvas).css({left:0,top:0,"touch-action":"none"});a._606=f;null!=a._1800&&a._1800._1433();a._27={width:d,height:e};a._8565=setInterval(ea,a._5940,a)})(this);this.set_ContextMenuFunc();this._7243=!1;this._3608=this._9982=
null;delete m.focusedIndexChanged;delete m.imageRotating;delete m.imageRotated;delete m.zoomChanged;delete m.imageInfoLoaded;delete m.imageTilePainted;delete m.imagePainted;delete m.visualToolChanged;delete m.imageInfoLoadingException;delete m.imagePaintingException;delete m.imagePainting;delete m.imageInfoLoading;delete m._3979;delete m._7059;delete m._4337;delete m._4158;delete m._1054;delete m.disposed;delete m.renderingSettingsChanging;delete m.renderingSettingsChanged;delete m._2242;delete m._10397;
delete m._1450};e._2326=d;e.WebImageViewerJS=b;var h=function(b){function d(a,b,e){if(e.width!==a._445||e.height!==a._5496)return!1;b=a.get_Images().get_Image(b);a=b.get_RenderingSettings();b=b.get_DecodingSettings();return a.equals(e.renderingSettings)&&(null!=b&&b.equals(e.decodingSettings)||null==b&&b==e.decodingSettings)}function l(a,b,d){null==d&&(d=!0);a=$(a._606.canvas.parentNode).offset();a={x:b.pageX-a.left,y:b.pageY-a.top};if(d){d=0;switch(b.button){case 0:d=1;break;case 1:d=4;break;case 2:d=
2;break;case 3:d=8;break;case 4:d=16}d=new x.WebMouseButtonsEnumJS(d)}else d=new x.WebMouseButtonsEnumJS(b.buttons);return{pc:a,pv:a,ps:a,e:b,b:d}}function q(a,b){var d=a.data.v,e;e=null!=b?b.get_Images():d.get_Images();t(d,e.toArray());d._386();d._2454("_4158",b)}function s(a,b){var d=a.data.v,e=(null!=b?b.get_Images():d.get_Images()).toArray();B(d,e);d._2454("_1054",b);d._8130(0,e);e=-1;null!=b&&(e=b._547);d._547=e;-1!==e&&d.scrollTo(e);d._7816||N(d)}function n(a){a.data.v.set_MasterViewer()}function w(a,
b){a.data.v._2454("_10397",b)}function v(a,b){var d=a.data.v,e=[],f=[];switch(b.actionName){case "set":e.push(b.previousImage);case "insert":f.push(b.image);break;case "insertRange":f=b.images;break;case "removeAt":e.push(b.image);break;case "clear":case "removeRange":e=b.images}if(0!==e.length){t(d,e);for(var g=d.get_ImageCacheManager(),h=null!=g&&d.get_SyncCacheWithImages(),l=0;l<e.length;l++){var m=e[l];h&&g.contains(m)&&g.clearImageCache(m)}}B(d,f);d._2454("_3979",b)}function t(a,b){for(var d=
0;d<b.length;d++)$(b[d].evm).off("."+a._2936)}function B(a,b){if(null==a._7907)for(var d=0;d<b.length;d++)$(b[d].evm).on("icd."+a._2936,{v:a},H)}function H(a,b){var d=a.data.v,e=b.i;if("dc"===b.d){var f=d.get_ImageCacheManager();null!=f&&f.contains(e)&&f.clearImageCache(e)}f=d.get_Images().indexOf(e.get_Guid());d._3982(f,e,e);N(d);d._2454("_4337",b)}function E(a,b,d){a=document.getElementById(d._2936+"_ThumbnailStyleSheet").sheet.cssRules[a];null!=a&&(a=a.style,a.background=b._5329,a.border=b._1098,
a.marginLeft=-b._8895+"px",a.marginTop=-b._8895+"px")}function G(a,b){var d=a.data.v,e=d._547;d._2385(b);d._7816||N(d);d._2454("_7059",b);d._547!==e&&d._2454("focusedIndexChanged",{newFocusedIndex:d._547,previouslyFocusedIndex:e})}function F(a,b){var d=a.data.v,e=b.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function K(a){a._4022.find(".selected").removeClass("selected")}function I(a,b){for(var d=0;d<a._2406.length;d++)if(a._2406[d]===b)return!0;return!1}function P(a){var b="";window.PointerEvent?
b+=" pointerdown."+a+" MSPointerDown."+a:("ontouchstart"in window&&(b+=" touchstart."+a),b+=" mousedown."+a);return b}function O(a){var b="";window.PointerEvent?b+=" pointermove."+a+" MSPointerMove."+a:("ontouchstart"in window&&(b+=" touchmove."+a),b+=" mousemove."+a);return b}function na(a){var b="";window.PointerEvent?b+=" pointerup."+a+" MSPointerUp."+a:("ontouchstart"in window&&(b+=" touchend."+a),b+=" mouseup."+a);return b}function S(a,b,d,e){var f=$("<div>");f.css("float","left");f.css("position",
"relative");f.css("margin-top",a);f.css("margin-left",a);f.css("width",b);f.css("height",d);a=$("<div>",{id:e}).appendTo(f);$(a).css("width",b);$(a).css("height",d);$(a).addClass("border");$(a).addClass("notReady");return{border:a,main:f}}function aa(a){var b=a._4824;if(b.clientWidth!=a._27.width||b.clientHeight!=a._27.height){0!==a._27.width&&0!==a._27.height||da(a);var d=a.get_Images().get_Count();a._27={width:b.clientWidth,height:b.clientHeight};U(a,d);R(a);a._7816||N(a);4===a._9478.valueOf()&&
V(a,d)}}function ba(a,b){if(null==a._606){var d=a._4022[0],d=$("<div>").appendTo(d);$(d).css({top:"0px",left:"0px",position:"absolute",width:b.width,height:b.height,overflow:"hidden","pointer-events":"none",display:"none"});a._606=Raphael(d[0],b.width,b.height);$(a._606.canvas).css({top:0,left:0,"pointer-events":"none"})}else a._606.setSize(b.width,b.height),$(a._606.canvas).parent().css({width:b.width,height:b.height})}function V(a,b){var d=a._7325,e=a._4451(),f=e.width,e=e.height,g=a._2695,h=a._9478.valueOf(),
l=-1,m=-1;U(a,b);switch(h){case 1:l=f;m=e*b+g*b;d.css("left","50%");d.css("top","0px");d.css("margin-left",-l/2-g);d.css("margin-top",0);d.css("margin-bottom",g);break;case 2:m=e;l=(f+g)*b;d.css("top","50%");d.css("left","0px");d.css("margin-top",-m/2-g);d.css("margin-left",0);d.css("margin-right",0);break;case 4:h=a._4824;l=(f+g)*a._11053+g;m=(e+g)*a._9522;d.css("top","0px");l>h.clientWidth?(d.css("left","0px"),d.css("margin-left",g)):(h.clientWidth-l)/2<g?(d.css("left","0px"),d.css("margin-left",
g)):(d.css("left","50%"),d.css("margin-left",-l/2));d.css("margin-top",0);d.css("margin-bottom",g);break;case 3:d.css({"margin-left":g,left:"0px",top:"0px","margin-top":0,"margin-bottom":g})}-1!=l?d.css({width:l,height:m}):d.css({width:"",height:""})}function U(b,d){if(0===d)b._9522=b._11053=0;else{0===b._2382&&(b._2382=a.WebImagingEnviromentJS.get_ScrollSize(b._4824));var e;switch(b.get_ThumbnailFlowStyle().valueOf()){case 1:e=1;break;case 2:e=d;break;case 4:e=Math.min(b.get_ThumbnailFixedColumnCount(),
d);break;case 3:e=b._4824;var f=b._4451().width,g=0;Y(b,"y")&&(g=b._2382);e=Math.floor((e.clientWidth-b.get_ThumbnailMargin()-g)/(f+b.get_ThumbnailMargin()));e=0<e?Math.min(e,d):1}b._11053=e;b._9522=Math.ceil(d/e)}}function R(a){var b=a._5179(),d=a._4824,e=d.clientHeight,d=d.clientWidth,f=0,g=0;switch(a._1814){case 0:f=a._1091;g=a._9622;break;case 90:f=a._9292;g=a._1091;break;case 180:f=a._10600;g=a._9292;break;case 270:f=a._9622,g=a._10600}3===a._9478.valueOf()&&(f*=-1);a=a._4022;b.width+f>d?a.css("overflow-x",
"auto"):a.css("overflow-x","hidden");b.height+g>e?a.css("overflow-y","auto"):a.css("overflow-y","hidden")}function Y(a,b){var d=a._4022,e=d.css("overflow"),f;f=null==b||"y"==b?d.css("overflow-y"):d.css("overflow-x");return(d=null==b||"y"==b?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==f||"visible"==f)||"scroll"==e||"scroll"==f}function N(a){var b=a.get_GenerateOnlyVisibleThumbnails(),d=a.get_ImageCacheManager();if(null!=d){for(var e=
[],f=0;f<a._8752.length;f++)1!==a._8752[f]&&e.push(f);for(var g=a._445,h=a._5496,l=a.get_Images(),f=0;f<e.length;f++){var m=l.get_Image(e[f]),n=d._10109(g,h,m),n=d.getImageData(m,n);null!=n&&(n={fileId:n,image:m,width:g,height:h,renderingSettings:m.get_RenderingSettings().clone()},m=m.get_DecodingSettings(),null!=m&&(n.decodingSettings=m.clone()),a._7616(n))}}d=X(a);if(0!=d.length)for(e=a.get_Images(),f=0;f<d.length;f++)g=d[f],h=e.get_Image(g).get_Guid(),h=$(a._4824).find("#"+h),0==a._8752[g]&&(Z(a,
h,g),g=a,n=h,null!=g._816&&(h=g._816.width,l=g._816.height,m=g._4451(),g=$($(g._816).clone()).appendTo(n),$(g).css({position:"absolute","pointer-events":"none",top:(m.height-l)/2,left:(m.width-h)/2})));if(!a._7816)if(b)0==d.length?a._2454("visibleThumbnailsPainted"):ea(d,a);else if(b=a._4022[0],d=b.clientHeight,0!==b.clientWidth&&0!==d){b=[];for(d=0;d<a._8752.length;d++)1!==a._8752[d]&&b.push(d);0===b.length&&a._2454("visibleThumbnailsPainted");ea(b,a)}}function X(a){var b=a.get_Images().get_Count();
if(0===b)return[];var d=a.get_ThumbnailMargin(),e=a.get_ThumbnailPadding(),f=a._4451(),g=f.width,f=f.height,h=a._4022[0],l=h.clientWidth,m=h.clientHeight;if(0===l||0===m)return[];var n=h.scrollTop,h=h.scrollLeft,p=g+d,q=a._11053,s=h+l,t=n+m,u;u=n<d+e[0]?0:Math.floor(n/(f+d));m=Math.ceil(m/f)+u+1;m>a._9522&&(m=a._9522);p=h<d+e[3]?0:Math.floor(h/p);l=Math.ceil(l/g)+p+1;l>a._11053&&(l=a._11053);var v=a._7325.children("div");if(0===v.length)return[];for(var x=$(v[u*q+p]).position(),v=x.left,x=x.top,w=
0,z=0,A=0,B=0,C=[],D=u;D<m;D++){D!=u?(A+=f+d,B=A+f+e[2]):(A=x,B=A+f+e[0]+e[2]);for(var E=p;E<l;E++){var w=E!=p?w+(g+d):v,z=w+g+e[1],F=D*q+E;F<b&&(1<h-z||1>s-w||1<n-B||1>t-A||1==a._8752[F]||C.push(F))}}return C}function da(a){if(0!==a._4245){for(var b=0;b<a._8752.length;b++)0!==a._8752[b]&&(a._2454("thumbnailPainting",b),2===a._4245&&a._2454("thumbnailPainted",b));a._4245=0}}function Z(a,b,d){b=$("<img>").appendTo(b);b.css({width:a._445*a._6512.valueOf()/100,height:a._5496*a._6512.valueOf()/100,display:"block",
position:"absolute","margin-left":a._1091,"margin-top":a._9622,"margin-right":a._10600,"margin-bottom":a._9292,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});0!==a._1814&&b.css(a._2734());var e={v:a};b.on("click",e,ca);b.contextmenu(e,ia);b.mouseover(e,ga);b.mouseout(e,M);b.on(P(a._2936),e,m);a._8752[d]=2;a._2454("thumbnailPainting",d);return b[0]}function T(a,b,d){for(;-1!==a.indexOf(b);)a=a.replace(b,d);return a}function ea(b,d){function e(a){d._7616(a)}function f(a){if(!a.blocked){null!=
a.fileId&&d._7616(a);var b=d.get_Images().indexOf(a.image);d._2454("imageRenderingException",{response:a,thumbnailIndex:b})}}function g(a){d._7816=!1;N(d)}if(0!==d._1558)d._9695=!0;else{for(var h=d._445,l=d._5496,m=d.get_Images(),n=[],p=[],q=0;q<b.length;q++){var s=m.get_Image(b[q]);n.push(s);for(var t=s.get_Source(),u=!0,s=0;s<p.length;s++)if(t.equals(p[s])){u=!1;break}u&&p.push(t)}for(q=0;q<p.length;q++)p[q].get_ImageService().bi();0!==p.length&&(d._7816=!0);s={width:h,height:l,useCache:d._7214,
format:d._10243};for(q=0;q<n.length;q++)n[q].renderThumbnail(s,e,f);for(q=0;q<p.length;q++)if(n=p[q].get_ImageService().ei(),null!=n)for(s=0;s<n.length;s++)if(h=n[s].request,a.pv.ic(h,a.WebCompositeRequestJS)&&"RenderThumbnails"===h.get_ActionName())$(h).one("cre crs",g)}}function ha(a){var b=a.data.v;N(b);b._2454("scrollChanged",a)}function ca(a){var b=a.data.v,d=$(this).parent()[0].id,d=b.get_Images().indexOf(d);b._547!=d?b.set_FocusedIndex(d):b.set_SelectedIndices(d);b._2454("thumbnailClick",{thumbnailIndex:d,
originalEvent:a})}function ga(a){var b=a.data.v,d=$(this).parent()[0].id,d=b.get_Images().indexOf(d);if(!I(b,d))if(b.get_FocusOnHover())b.set_FocusedIndex(d);else{var e="";d==b._547&&(e+="focused");b._11141(d,e+" hovered")}b._2454("thumbnailMouseover",{thumbnailIndex:d,originalEvent:a})}function ia(a){var b=a.data.v,d=$(this).parent()[0].id,d=b.get_Images().indexOf(d);b._2454("thumbnailContextMenu",{thumbnailIndex:d,originalEvent:a})}function m(a){var b=a.data.v,d=$(this).parent()[0].id,d=b.get_Images().indexOf(d),
e=a;"mousedown"!=a.type&&(e="touchstart"==a.type?a.originalEvent.touches[0]:a.originalEvent);e=e.button;0===e||2===e?(b._789=!0,b.set_SelectedIndices([d])):0===b._2406.length&&b.set_SelectedIndices([d]);b._2454("thumbnailMousedown",{thumbnailIndex:d,originalEvent:a})}function M(a){var b=a.data.v,d=$(this).parent()[0].id,d=b.get_Images().indexOf(d),e="",e=d==b._547?e+"focused":1===b._8752[d]?e+"normal":e+"notReady";I(b,d)&&(e+=" selected");b._11141(d,e);b._2454("thumbnailMouseout",{thumbnailIndex:d,
originalEvent:a})}function g(a,b){a.data.v.set_ImageRotationAngle(b)}function D(a){a._445=a._7983.width;a._5496=a._7983.height;a._9478=a._3810;a._3485=a._1311;a._6512=a._8554;a._9622=a._6734[0];a._10600=a._6734[1];a._9292=a._6734[2];a._1091=a._6734[3];a._2695=a._11230;a._1814=a._8683}function C(a){a.cancelable=!0;a.preventDefault?a.preventDefault():a.returnValue=!1}var p=h.prototype;p.focusedIndexChanged=function(a,b){};p.imageRotating=function(a,b){};p.imageRotated=function(a,b){};p.thumbnailRendered=
function(a,b){};p.thumbnailPainting=function(a,b){};p.thumbnailPainted=function(a,b){};p.visibleThumbnailsPainted=function(a){};p.imageRenderingException=function(a,b){};p.scrollChanged=function(a,b){};p.thumbnailClick=function(a,b){};p.thumbnailMouseover=function(a,b){};p.thumbnailContextMenu=function(a,b){};p.thumbnailMousedown=function(a,b){};p.thumbnailMouseout=function(a,b){};p.disposed=function(a){};p._3979=function(a,b){};p._7059=function(a,b){};p._4337=function(a,b){};p._4158=function(a,b){};
p._1054=function(a,b){};p._6313=function(a){};p._10397=function(a,b){};p.get_Images=function(){this._3925();var a=this._7907;return null==a?this._4893:a.get_Images()};p.get_FocusedIndex=function(){this._3925();return this._547};p.set_FocusedIndex=function(b){a.pv.n(b);(-1>b||b>this.get_Images().get_Count()-1)&&a.pv.toe();var d=this._547;if(b!==d&&(-1!==d&&(1===this._8752[d]?this._11141(d,"normal"):this._11141(d,"notReady")),this._547=b,-1!==b&&(this._11141(b,"focused"),this.scrollTo(b),this.set_SelectedIndices(b)),
this._2454("focusedIndexChanged",{newFocusedIndex:b,previouslyFocusedIndex:d}),null!=this._7907))try{this._7907.set_FocusedIndex(b)}catch(e){}};p.get_MasterViewer=function(){this._3925();return this._7907};p.set_MasterViewer=function(b){this._3925();if(b!=this&&this._7907!==b){if(null!=b){a.pv.ic(b,e.WebImageViewerJS)||a.pv.ic(b,h)||a.pv.tae();b._7907===this&&b.set_MasterViewer();for(var d=b;null!=(d=d._7907);)d===this&&a.pv.te("MasterViewer cannot refers to itself.")}this._2983();this._7907=b;this._9549()}};
p.get_ProgressImage=function(){this._3925();return this._816};p.set_ProgressImage=function(b){this._3925();null!=b&&a.pv.c(b,Image);this._816=b};p.get_ProgressIndicatorUrl=function(){return this._816};p.set_ProgressIndicatorUrl=function(a){var b=new Image;b.src=a;this.set_ProgressImage(b)};p.get_ThumbnailWidth=function(){a.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};p.get_ThumbnailHeight=function(){a.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};
p.get_ThumbnailSize=function(){this._3925();var a=this._445,b=this._5496;0!==this._1558&&(a=this._7983.width,b=this._7983.height);return{width:a,height:b}};p.set_ThumbnailSize=function(b,d){this._3925();var e,f;null==d?(e=b.width,f=b.height):(e=b,f=d);a.pv.n(e,f);32>e&&(e=32);1024<e&&(e=1024);32>f&&(f=32);1024<f&&(f=1024);var g=this.get_ThumbnailSize();if(g.width!==e||g.height!==f)this._9695=!0,this._7983={width:e,height:f},0===this._1558&&this.update()};p.get_ThumbnailFlowStyle=function(){this._3925();
return 0!==this._1558?this._3810:this._9478};p.set_ThumbnailFlowStyle=function(b){this._3925();b=a.pv.e(b,x.WebThumbnailFlowStyleEnumJS);b.equals(this.get_ThumbnailFlowStyle())||(this._9695=!0,this._3810=b,0===this._1558&&this.update())};p.get_ThumbnailColumnCount=function(){this._3925();return this._11053};p.get_ThumbnailFixedColumnCount=function(){this._3925();return 0!==this._1558?this._1311:this._3485};p.set_ThumbnailFixedColumnCount=function(b){this._3925();a.pv.n(b);0>=b&&a.pv.toe();b!==this.get_ThumbnailFixedColumnCount()&&
(this._9695=!0,this._1311=b,0===this._1558&&this.update())};p.get_ThumbnailScale=function(){this._3925();return 0!==this._1558?this._8554:this._6512};p.set_ThumbnailScale=function(b){this._3925();b=a.pv.e(b,x.WebThumbnailScaleEnumJS);b.equals(this.get_ThumbnailScale())||(this._9695=!0,this._8554=b,0===this._1558&&this.update())};p.get_GenerateOnlyVisibleThumbnails=function(){this._3925();return this._7610};p.set_GenerateOnlyVisibleThumbnails=function(b){this._3925();a.pv.b(b);if(this._7610!==b)if(this._7610=
b)this._4022.on("scroll",{v:this},ha);else this._4022.off("scroll"),0<this.get_Images().get_Count()&&N(this)};p.get_FocusOnHover=function(){this._3925();return this._1809};p.set_FocusOnHover=function(b){this._3925();a.pv.b(b);this._1809=b};p.get_ThumbnailMargin=function(){this._3925();return 0!==this._1558?this._11230:this._2695};p.set_ThumbnailMargin=function(b){this._3925();a.pv.n(b);0>b&&(b=0);b!==this.get_ThumbnailMargin()&&(this._9695=!0,this._11230=b,0===this._1558&&this.update())};p.get_ThumbnailPadding=
function(){this._3925();var a=[this._9622,this._10600,this._9292,this._1091];0!==this._1558&&(a=this._6734.slice());return a};p.set_ThumbnailPadding=function(b){this._3925();var d=[];null!=b.length?(a.pv.ad(b,a.pv.n),4!==b.length&&a.pv.tae(),d[0]=0<=b[0]?b[0]:0,d[1]=0<=b[1]?b[1]:0,d[2]=0<=b[2]?b[2]:0,d[3]=0<=b[3]?b[3]:0):(a.pv.n(b),0>b&&(b=0),d[0]=d[1]=d[2]=d[3]=b);b=this.get_ThumbnailPadding();if(b[0]!==d[0]||b[1]!==d[1]||b[2]!==d[2]||b[3]!==d[3])this._9695=!0,this._6734=d,0===this._1558&&this.update()};
p.get_SelectedIndices=function(){this._3925();return this._2406.slice()};p.set_SelectedIndices=function(b){this._3925();if(null==b)this._2406=[],K(this);else{var d=[];if(null!=b.length)if(this._6373)for(var e=0;e<b.length;e++)-1===d.indexOf(b[e])&&d.push(b[e]);else d.push(b[0]);else"number"==typeof b&&d.push(b);var f=this.get_Images().get_Count();a.pv.ad(d,function(b){a.pv.n(b);(0>b||b>=f)&&a.pv.toe()});this._2406=d;K(this);for(e=0;e<d.length;e++)this._11141(d[e],"selected")}};p.get_MultiSelect=function(){this._3925();
return this._6373};p.set_MultiSelect=function(b){this._3925();a.pv.b(b);this._6373=b};p.get_ImageInfo=function(a){var b=this.get_Images().get_Image(a);a=b.get_Size();b=b.get_Resolution();return null==a||null==b?null:{size:a,resolution:b}};p.get_ImageRotationAngle=function(){this._3925();return 0!==this._1558?this._8683:this._1814};p.set_ImageRotationAngle=function(b){this._3925();a.pv.n(b);b=u._4868._4781(b);0!==b&&90!==b&&180!==b&&270!==b&&a.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();
b!==d&&(this._2454("imageRotating",{currentAngle:d,newAngle:b}),this._9695=!0,this._8683=b,0===this._1558&&this.update(),null!=this._7907&&this._7907.set_ImageRotationAngle(b),this._2454("imageRotated",b))};p.get_ThumbnailCanvas=function(b){a.pv.n(b);var d=this.get_Images();(0>b||b>d.get_Count())&&a.pv.toe();b=d.get_Image(b).get_Guid();b=$("#"+b).parent();d=$(b).children("svg");0===d.length?(d=this._4451(),b=Raphael(b[0],d.width,d.height),$(b.canvas).css({"pointer-events":"none",position:"absolute",
left:0,top:0,"z-index":10}),b.canvas._raphael=b):b=d[0]._raphael;return b};p.get_UseCache=function(){this._3925();return this._7214};p.set_UseCache=function(b){this._3925();a.pv.b(b);this._7214=b};p.get_ThumbnailsFormat=function(){this._3925();return this._10243};p.set_ThumbnailsFormat=function(b){this._3925();this._10243=a.pv.e(b,a.WebImageTypeEnumJS)};p.get_NormalThumbnailAppearance=function(){this._3925();return this._7433};p.set_NormalThumbnailAppearance=function(b){this._3925();a.pv.c(b,x.WebThumbnailAppearanceJS);
this._7433.equals(b)||(this._7433=b,E(0,this._7433,this))};p.get_FocusedThumbnailAppearance=function(){this._3925();return this._6002};p.set_FocusedThumbnailAppearance=function(b){this._3925();a.pv.c(b,x.WebThumbnailAppearanceJS);this._6002.equals(b)||(this._6002=b,E(1,this._6002,this))};p.get_HoveredThumbnailAppearance=function(){this._3925();return this._2302};p.set_HoveredThumbnailAppearance=function(b){this._3925();a.pv.c(b,x.WebThumbnailAppearanceJS);this._2302.equals(b)||(this._2302=b,E(2,this._2302,
this))};p.get_NotReadyThumbnailAppearance=function(){this._3925();return this._9943};p.set_NotReadyThumbnailAppearance=function(b){this._3925();a.pv.c(b,x.WebThumbnailAppearanceJS);this._9943.equals(b)||(this._9943=b,E(3,this._9943,this))};p.get_SelectedThumbnailAppearance=function(){this._3925();return this._11394};p.set_SelectedThumbnailAppearance=function(b){this._3925();a.pv.c(b,x.WebThumbnailAppearanceJS);this._11394.equals(b)||(this._11394=b,E(4,this._11394,this))};p.get_ImageCacheManager=function(){this._3925();
var a=this._7907;return null==a?this._6515:a.get_ImageCacheManager()};p.set_ImageCacheManager=function(b){this._3925();null!=b&&a.pv.c(b,u.WebImageCacheManagerJS);null!=this._7907&&a.pv.te("Cannot change cache manager of slave viewer.");this._6515!==b&&(this._6515=b,this._2454("_10397",b))};p.get_SyncCacheWithImages=function(){this._3925();var a=this._7907;return null!=a?a.get_SyncCacheWithImages():this._3222};p.set_SyncCacheWithImages=function(b){this._3925();a.pv.b(b);null!=this._7907&&a.pv.te("Can not change cache property of slave viewer.");
this._3222=b};p.get_ControlId=function(){this._3925();return this._4824.id};p.get_Control=function(){return this._4824};p.get_ContextMenuFunc=function(){this._3925();return this._2440};p.set_ContextMenuFunc=function(b){this._3925();null!=b&&a.pv.f(b);this._2440=b;if(null!=this._4022){var d=this;d._4022[0].oncontextmenu=function(a){C(a);a.stopPropagation();var b;null!=d._2440&&(b=d._2440(a));return null!=b?b:!1}}};p.get_IsDisposed=function(){return this._6421};p.get_DisplayThumbnailCaption=function(){this._3925();
return this._8960};p.set_DisplayThumbnailCaption=function(b){this._3925();a.pv.b(b);this._8960!==b&&((this._8960=b)?this._448():this._7325.find("div.caption").remove())};p.get_ThumbnailCaptionFormat=function(){this._3925();return this._4201};p.set_ThumbnailCaptionFormat=function(b){this._3925();a.pv.s(b);this._4201!==b&&(this._4201=b,this._8960&&this._10999(!0,!0))};p.get_ThumbnailCaptionAnchor=function(){this._3925();return this._1925};p.set_ThumbnailCaptionAnchor=function(b){this._3925();b=a.pv.e(b,
x.WebImageAnchorTypeEnumJS);b.equals(this._1925)||(this._1925=b,this._8960&&this._10999(!1,!0))};p._1704=function(){var a=this._4022[0];return{y:a.scrollTop,x:a.scrollLeft}};p._10537=function(a,b){var d=this._4022[0];d.scrollTop=b;d.scrollLeft=a};p.beginInit=function(){this._3925();this._1558++};p.endInit=function(){this._3925();this._1558--;0===this._1558?(this._9695&&this.update(),this._9695=!1):0>this._1558&&(this._1558=0)};p.scrollTo=function(b){a.pv.n(b);var d=this.get_Images();if(!(0>b||b>d.get_Count())){var e=
!1;try{var f=d.get_Image(b).get_Guid(),g=$("#"+f).parent(),h=$(g).position(),l=this._4022[0],m=this._4451(),n=h.top+this._9622,p=n+m.height,q=l.scrollTop,s=q+l.clientHeight;b=0;if(p<=s&&n>=q)b=q;else{if(p>s||n>s)b=p-s+q+2*this._2695+this._9622+this._9292;n<q&&(b=n-this._2695+this._9622)}var t=l.scrollLeft,u=t+l.clientWidth,v=h.left+this._1091,x=v+m.width,h=0;if(x<=u&&v>=t)h=t;else{if(x>u||v>u)h=x-u+t+2*this._2695+this._1091+this._10600;v<t&&(h=v-this._2695+this._1091)}l.scrollTop=b;l.scrollLeft=h}catch(w){e=
!0}this._7816||e||N(this)}};p.update=function(){var a=this.get_Images().get_Count();if(0<a){if(0===this._1558&&this._9695){var b=this._7983.width!==this._445||this._7983.height!==this._5496,d=!this._6512.equals(this._8554),e=this._11230!==this._2695,f=this._6734[0]!==this._9622||this._6734[1]!==this._10600||this._6734[2]!==this._9292||this._6734[3]!==this._1091,g=this._8683!==this._1814,h=!1;if(b||d)var d=this._8554.valueOf()/100,h=this._7983.height*d,l=this._6512.valueOf()/100,m=this._5496*l,h=this._7983.width*
d!==this._445*l||h!==m;d=this._4451();D(this);l=this._4451();d=d.width!==l.width||d.height!==l.height;V(this,a);a=h;h=this._7325;if(null!=h&&(h=h.children("div"),l=$(h).children("div"),m=this._2695,e&&h.css({"margin-left":m,"margin-top":m}),d||a||f||g)&&(e=this._4451(),d&&this._1495(h,l,e.width,e.height),l=$(l).children("img:nth-child(1)"),0!==l.length&&(f&&this._9002(l,this._9622,this._10600,this._9292,this._1091),a&&(f=this._6512.valueOf()/100,this._6305(l,this._445*f,this._5496*f)),0!==this._1814?
this._8500(l):g&&this._7004(l)),d))for(g=$(h).children("svg"),f=0;f<g.length;f++)g[f]._raphael.clear(),g[f]._raphael.setSize(e.width,e.height);g=0;b?g=1:d&&(g=2);this._4245=g;d&&(g=this._7325.find(".border").children("img:nth-child(2)"),0!=g.length&&(f=this._4451(),d=$(g[0]).width(),e=$(g[0]).height(),d=(f.width-d)/2,g.css("top",(f.height-e)/2),g.css("left",d)),this._10999(!1,!0));if(b)for(b=0;b<this.get_Images().get_Count();b++)1==this._8752[b]&&(this._8752[b]=2);this._9695=!1}b=this._4022[0];0!==
b.clientHeight&&0!==b.clientWidth&&da(this);R(this);this._2454("_6313");this._7816||N(this)}else 0===this._1558&&(D(this),this._9695=!1,this._2454("_6313"))};p.invalidate=function(a){this._3925();this._2777&&this._2777._6160(this._6097())};p.focus=function(){this._3925();$(this._4824).focus()};p.dispose=function(){this._3925();clearInterval(this._8565);this._9522=this._11053=null;this._8752=[];this._547=-1;this._2406=[];this._7816=!1;this._6515=this._816=this._2777=null;var a="."+this._2936,b=this._4893;
$(b.evm).off(a);for(var d=0;d<b.get_Count();d++){var e=b.get_Image(d);$(e.evm).off(a)}if(null!=this._7907){$(this._7907._6466).off(a);b=this.get_Images();for(d=0;d<b.get_Count();d++)e=b.get_Image(d),$(e.evm).off(a);this._7907=null}this._2280();$("head #"+(this._2936+"_ThumbnailStyleSheet")).remove();$(this._4824).empty();this._606=this._7325=this._4022=this._4824=null;this._2454("disposed");this._6421=!0;$(this).off();$(this._6466).off()};p._5179=function(){var a=this._4022[0];return{width:a.scrollWidth,
height:a.scrollHeight}};p._5257=function(){return this._5179()};p._6731=function(){try{null==this._2777&&(this._2777=new nb._5366,this._4022.find("img").css("z-index",2),this._2777._4610(this),0!=this._2406.length&&this.set_SelectedIndices(this._2406))}catch(a){}};p._7616=function(a){function b(){t._2454("thumbnailRendered",{thumbnailId:g,thumbnailIndex:h});t._2454("thumbnailPainted",h)}function e(){if(10>u)setTimeout(function(){p.src=q},250),u++;else{if(null!=s){var a=s._10109(t._445,t._5496,f);
s._10477(g,a)}t._8752[h]=2;N(t)}}if(!this._1255){var f=a.image,g=f.get_Guid(),h=this.get_Images().indexOf(f);if(-1!==h&&d(this,h,a))if(1===this._8752[h])N(this);else{var l=$(this._4824).find("#"+g)[0],m=$(l).children("img"),n=m[1];null!=n&&$(n).remove();var p=m[0];null==p&&(p=Z(this,l,h));var q=a.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(q)||(q+="?"+a.image.gi());var s=this.get_ImageCacheManager(),t=this,u=0;p.onload=b;p.onerror=e;p.src=q;this._8960&&0===$(l).find(".caption").length&&this._7505(l,
h);null!=s&&(l=s._10109(this._445,this._5496,a.image),s.containsImageData(f,l)||s.addImageData(f,l,a.fileId));this._547==h?this._11141(h,"focused"):this._11141(h,"normal");I(this,h)&&this._11141(h,"selected");this._8752[h]=1}}};p._1733=function(b){var d=this._2777;if(null!=d&&d._3461){var e=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=e);var e=this._4022,f=b,g=this._4022;0===this._2382&&(this._2382=a.WebImagingEnviromentJS.get_ScrollSize(this._4824));
var h=Y(this,"y"),m=Y(this,"x"),n=f.pageX,f=f.pageY,p=$(g).offset(),q,s,t,u;s=q=!1;h&&(h=p.top,t=p.left+$(g).width(),u=h+$(g).height(),s=t-this._2382,s=f>=h&&f<=u&&n>=s&&n<t);m&&(m=p.top+$(g).height(),p=p.left,q=m-this._2382,g=p+$(g).width(),q=f>=q&&f<=m&&n>=p&&n<g);q||s?e.css("touch-action","pan-x pan-y"):(C(b),e.css("touch-action","none"),ba(this,this._5179()),$(this._606.canvas).parent().css("display","block"),this._10484(),b=l(this,b),b.t="mouseDown",d._1733(b));this.focus()}};p._9698=function(a){C(a);
var b=this._2777;if(null!=b&&b._3461){if("mousemove"!=a.type){var d=a;a="touchmove"==a.type?a.originalEvent.touches[0]:a.originalEvent;a.sourceEvent=d}a=l(this,a,!1);a.t="mouseMove";b._9698(a)}};p._9629=function(a){var b=this._2777;if(null!=b&&b._3461){if("mouseup"!=a.type){var d=a;a="touchend"==a.type?a.originalEvent.changedTouches[0]:a.originalEvent;a.sourceEvent=d}a=l(this,a);a.t="mouseUp";b._9629(a);$(this._606.canvas).parent().css("display","none");ba(this,{width:0,height:0});this._2280()}};
p._11042=function(a){C(a)};p._6097=function(a){return new u.WebMatrixJS};p._8306=function(a){return this._6097(a).invert()};p._3925=function(){this._6421&&a.pv.te("Viewer is disposed.")};p._2454=function(a,b){$(this._6466).triggerHandler(a,b);$(this).triggerHandler(a,b)};p._2983=function(){var a=this._7907;q({data:{v:this}},a);null!=a&&$(a._6466).off("."+this._2936)};p._9549=function(){var a=this._7907,b={v:this};if(null!=a){var d="."+this._2936,e=a._6466;$(e).on("_3979"+d,b,v);$(e).on("_7059"+d,
b,G);$(e).on("_4337"+d,b,H);$(e).on("focusedIndexChanged"+d,b,F);$(e).on("imageRotated"+d,b,g);$(e).on("_10397"+d,b,w);$(e).on("_4158"+d,b,q);$(e).on("_1054"+d,b,s);$(e).on("disposed"+d,b,n)}s({data:b},a)};p._2385=function(a){switch(a.actionName){case "clear":this._386();break;case "set":this._3982(a.imageIndex,a.image,a.previousImage);break;case "removeAt":case "removeRange":var b=[],d=[];"removeRange"===a.actionName?(b=a.imagesIndexes,d=a.images):(b.push(a.imageIndex),d.push(a.image));this._6237(b,
d);this._10999(!0,!1,b[0]);break;case "insert":case "insertRange":b=a.imageIndex,d=[],"insert"===a.actionName?d.push(a.image):d=a.images,this._8130(b,d),this._10999(!0,!1,b+d.length)}};p._386=function(){this._547=-1;this._7325.children().remove();this._8752=[];this._2406=[];V(this,0)};p._3982=function(a,b,d){var e=d.get_Guid(),e=$("#"+e);b!==d&&e.attr("id",b.get_Guid());e.find(".caption").remove();1==this._8752[a]&&(this._8752[a]=2)};p._6237=function(a,b){for(var d=0;d<b.length;d++){var e=b[d].get_Guid();
$("#"+e).parent().remove()}for(d=a.length-1;0<=d;d--)this._8752.splice(a[d],1);for(d=0;d<this._2406.length;){for(var f=!1,e=0;e<a.length;e++)if(this._2406[d]===a[e]){this._2406.splice(d,1);f=!0;break}f||d++}for(var f=!1,g=0,h=[],d=0;d<this._2406.length;d++)h.push(0);for(d=0;d<a.length;d++){for(e=0;e<this._2406.length;e++)this._2406[e]>a[d]&&(h[e]+=1);this._547>a[d]?g++:this._547===a[d]&&(f=!0)}for(d=0;d<this._2406.length;d++)this._2406[d]-=h[d];this._547-=g;f&&(0===this.get_Images().get_Count()?this._547=
-1:(this._547==this.get_Images().get_Count()&&this._547--,this._11141(this._547,"focused"),-1!=this._2406.indexOf(this._547)&&this._11141(this._547,"selected")));V(this,this.get_Images().get_Count())};p._8130=function(a,b){for(var d=this._4451(),e=d.width,f=d.height,d=[],g=0;g<b.length;g++){var h=b[g].get_Guid();d.push(S(this._2695,e,f,h))}g=this.get_Images();e=g.get_Count();if(e==b.length)for(g=0;g<d.length;g++)$(d[g].main).appendTo(this._7325);else for(a<e-b.length?(g=g.get_Image(a+b.length).get_Guid(),
g=$("#"+g).parent(),$(d[0].main).insertBefore(g)):(g=g.get_Image(a-1).get_Guid(),g=$("#"+g).parent(),$(d[0].main).insertAfter(g)),g=1;g<d.length;g++)$(d[g].main).insertAfter(d[g-1].main);for(g=0;g<d.length;g++)this._8752.splice(a+g,0,0);this._547>=a&&(this._547+=b.length);for(g=0;g<this._2406.length;g++)this._2406[g]>=a&&(this._2406[g]+=b.length);-1==this._547&&0===a&&(this._547=a,this._11141(a,"focused"));V(this,e);R(this);e!==b.length&&this.scrollTo(this._547)};p._11141=function(a,b){var d=this.get_Images();
0<=a&&a<d.get_Count()&&(d=d.get_Image(a).get_Guid(),d=$(this._4824).find("#"+d),0!=d.length&&(d=d[0],"selected"!==b?($(d).removeClass(),$(d).addClass("border "+b)):($(d).addClass("border"),a===this._547&&$(d).addClass("focused"),$(d).addClass(b))))};p._8835=function(){var a=this,b=a._2936;$(a._4824).on(P(b),function(b){a._1733(b)})};p._7751=function(){var a=this._2936;$(this._4824).off(P(a))};p._10484=function(){var a=this,b=a._2936;$(document).on(O(b),function(b){a._9698(b)});$(document).on(na(b),
function(b){a._9629(b)})};p._2280=function(){var a=this._2936;$(document).off(O(a));$(document).off(na(a))};p._1495=function(a,b,d,e){d={width:d,height:e};a.css(d);b.css(d)};p._9002=function(a,b,d,e,f){a.css({"margin-top":b,"margin-right":d,"margin-bottom":e,"margin-left":f})};p._6305=function(a,b,d){a.css({width:b,height:d})};p._8500=function(a){var b=this._2734();a.css(b);return b};p._7004=function(a){var b=this._9975();a.css(b);return b};p._2734=function(){var a=this._1814,b=this._445*this._6512.valueOf()/
100,d=this._5496*this._6512.valueOf()/100,e=0,f=0;switch(a){case 90:e=d;break;case 180:e=b;f=d;break;case 270:f=b}a="translate("+e+"px,"+f+"px) rotate("+a+"deg)";return{transform:a,"-moz-transform":a,"-webkit-transform":a,"-o-transform":a,"-ms-transform":a,"transform-origin":"0px 0px","-moz-transform-origin":"0px 0px","-webkit-transform-origin":"0px 0px","-o-transform-origin":"0px 0px","-ms-transform-origin":"0px 0px"}};p._9975=function(){return{transform:"","-moz-transform":"","-webkit-transform":"",
"-o-transform":"","-ms-transform":"","transform-origin":"","-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};p._4451=function(){var a=this._445*this._6512.valueOf()/100,b=this._5496*this._6512.valueOf()/100;if(90===this._1814||270===this._1814)var d=a,a=b,b=d;a+=this._10600+this._1091;b+=this._9622+this._9292;return{width:a,height:b}};p._448=function(){for(var a=this._7325.find("div.border"),b=0;b<this._8752.length;b++)if(1===this._8752[b]){var d=
$(a[b]);this._7505(d,b)}};p._7505=function(a,b){if(this._8960){var d=$("<div>").appendTo(a);d.addClass("caption");if(null==this._883){var e=d.css("top"),f=d.css("left"),g=d.css("right"),h=d.css("bottom");this._883="auto"!==e||"auto"!==f||"auto"!==g||"auto"!==h}d.css({position:"absolute","user-select":"none",cursor:"inherit","pointer-events":"none"});this._4480(d,b,!0,!0)}};p._10999=function(a,b,d,e){if(this._8960){null==d&&(d=0);var f=this._8752.length;null!=e&&(f=d+e,f>this._8752.length&&(f=this._8752.length));
for(e=this._7325.find("div.border");d<f;d++)if(0!==this._8752[d]){var g=$(e[d]).find(".caption");0!==g.length&&this._4480(g,d,a,b)}}};p._4480=function(a,b,d,e){d?(this._3521(a,b),this._7257(a)):e&&this._7257(a)};p._3521=function(a,b){var d=this._4201;if(""!==d){var e=this.get_Images().get_Image(b),f=e.get_PageIndex(),g=e.get_ImageId(),h=e.get_Size(),e=e.get_Resolution(),d=T(d,"{FileId}",g),d=T(d,"{PageNumber}",f+1),d=T(d,"{PageIndex}",f),d=T(d,"{ImageNumber}",b+1),d=T(d,"{ImageIndex}",b);null!=h&&
(f=h.width,h=h.height,g=f*h/1E6,d=T(d,"{ImageWidthPx}",f),d=T(d,"{ImageHeightPx}",h),d=T(d,"{ImageSizeMpx}",g));null!=e&&(d=T(d,"{ImageHRes}",e.x),d=T(d,"{ImageVRes}",e.y))}a.text(d)};p._7257=function(a){if(!this._883){var b="",d="",e="",f="";a.css({top:b,left:d,right:e,bottom:f});var g=this._1925.valueOf(),h=a.width(),l=a.height(),m=this._4451(),l=(m.height-l)/2,h=(m.width-h)/2,m="center";switch(g){case 15:b=l;d=h;break;case 1:case 13:b=0;d=h;break;case 2:case 14:d=h;f=0;break;case 4:case 7:m="left";
b=l;d=0;break;case 5:m="left";d=b=0;break;case 6:m="left";f=d=0;break;case 8:case 11:m="right";b=l;e=0;break;case 9:m="right";e=b=0;break;case 10:m="right",f=e=0}a.css({top:b,left:d,right:e,bottom:f,"text-align":m})}};var W;a.pv.iss(b)?W=document.getElementById(b):(a.pv.ic(b,$)&&(b=b[0]),null!=b.tagName&&(W=b));null==W&&a.pv.te("The parent DOM element for viewer is not found.");"DIV"!==W.tagName&&a.pv.te("The parent DOM element for viewer must be a DIV element.");W.style.setProperty("position","relative",
"important");this._4824=W;this._2936=a.WebImagingEnviromentJS.guid();this._2382=a.WebImagingEnviromentJS.get_ScrollSize(W);this._9522=this._11053=null;this._8752=[];this._1558=0;this._9695=!1;this._4245=0;this._2777=null;this._7816=!1;this._7455="WebThumbnailViewer";this._7907=null;this._4893=new a.WebImageCollectionJS;this._5496=this._445=100;this._9478=new x.WebThumbnailFlowStyleEnumJS(1);this._3485=2;this._6512=new x.WebThumbnailScaleEnumJS(100);this._547=-1;this._7610=!0;this._1809=!1;this._2695=
20;this._1091=this._9292=this._10600=this._9622=5;this._2406=[];this._6373=!0;this._789=!1;this._816=this._606=null;this._1814=0;this._7214=!0;this._10243=new a.WebImageTypeEnumJS(1);this._8565=null;this._5940=500;this._6515=null;this._3222=!0;this.set_ImageCacheManager(new u.WebImageCacheManagerJS);this._7325=this._4022=null;this._6466={};this._6421=!1;this._7983={width:this._445,height:this._5496};this._3810=this._9478;this._1311=this._3485;this._8554=this._6512;this._6734=[this._9622,this._10600,
this._9292,this._1091];this._11230=this._2695;this._8683=this._1814;this._7433=new x.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._6002=new x.WebThumbnailAppearanceJS("white","1px dotted gray");this._2302=new x.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._9943=new x.WebThumbnailAppearanceJS("black","0px solid black");this._11394=new x.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");this._2440=null;this._8960=!0;this._4201="{ImageNumber}";this._1925=new x.WebImageAnchorTypeEnumJS(2);
this._883=null;(function(a){var b=document.createElement("style"),d=a._2936;b.type="text/css";b.id=d+"_ThumbnailStyleSheet";var d=a._7433._6876(),e=a._6002._6876(),f=a._2302._6876(),g=a._9943._6876(),h=a._11394._6876();a=a.get_ControlId();var l="";""!==a&&(l="#"+a);b.innerHTML+=l+" .border.normal{"+d+"}";b.innerHTML+=l+" .border.focused{"+e+"}";b.innerHTML+=l+" .border.hovered{"+f+"}";b.innerHTML+=l+" .border.notReady{"+g+"}";b.innerHTML+=l+" .border.selected{"+h+"}";document.getElementsByTagName("head")[0].appendChild(b)})(this);
b={v:this};W="."+this._2936;$(this._4893.evm).on("changing"+W,b,v);$(this._4893.evm).on("changed"+W,b,G);$(this._6466).on("_1623",b,function(a){a=a.data.v;a._789?a._789=!1:(K(a),a._2406=[])});(function(a){var b=a._4824;a._7751();a._8835();var d=$("<div>");$(b).prepend(d);d.css({width:"100%",height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});a._4022=d;var e=$("<div>").appendTo(d);e.css("position","absolute");a._7325=e;if(a._7610)$(d).on("scroll",{v:a},ha);ba(a,a._5179());R(a);
a._6731();a._27={width:b.clientWidth,height:b.clientHeight};a._8565=setInterval(aa,a._5940,a)})(this);this.set_ContextMenuFunc();delete p.focusedIndexChanged;delete p.imageRotating;delete p.imageRotated;delete p.thumbnailRendered;delete p.thumbnailPainting;delete p.thumbnailPainted;delete p.visibleThumbnailsPainted;delete p.imageRenderingException;delete p.scrollChanged;delete p.thumbnailClick;delete p.thumbnailMouseover;delete p.thumbnailContextMenu;delete p.thumbnailMousedown;delete p.thumbnailMouseout;
delete p._3979;delete p._7059;delete p._4337;delete p._4158;delete p._1054;delete p._6313;delete p._10397;delete p.disposed};e.WebThumbnailViewerJS=h})(w.UI);(function(e){a.WebServiceJS.defaultImageProcessingService=-1;var d=function(){var b=d.prototype;b._3746=function(a,b){};b._7856=function(a,b){};b.get_Type=function(){return this._7455};b.set_Type=function(b){b=a.pv.e(b,x.WebColorBaseJSTypeEnumJS);if(b.valueOf()!==this._7455.valueOf()){$(this._1760).triggerHandler("_3746",{oldValue:this._7455,
newValue:b});var d=this._7455;this._7455=b;switch(b.valueOf()){case 0:this._533=0;this._2660=this._5587=this._7440=this._4999=this._10517=null;break;case 1:this._10517=0;this._2660=this._5587=this._7440=this._4999=this._533=null;break;case 2:case 3:case 4:case 6:this._5587=this._7440=this._4999=0;this._2660=this._533=this._10517=null;break;case 5:case 7:this._2660=this._5587=this._7440=this._4999=0,this._533=this._10517=null}$(this._1760).triggerHandler("_7856",{oldValue:d,newValue:b})}};b.get_Index=
function(){return this._533};b.set_Index=function(b){0===this._7455.valueOf()&&(b=parseInt(b),a.pv.n(b),0>b&&(b=0),255<b&&(b=255),this._533=b)};b.get_Luminance=function(){return this._10517};b.set_Luminance=function(b){1===this._7455.valueOf()&&(b=parseInt(b),a.pv.n(b),0>b&&(b=0),65535<b&&(b=65535),this._10517=b)};b.get_Red=function(){return this._4999};b.set_Red=function(a){this._4999=this._1748(a)};b.get_Green=function(){return this._7440};b.set_Green=function(a){this._7440=this._1748(a)};b.get_Blue=
function(){return this._5587};b.set_Blue=function(a){this._5587=this._1748(a)};b.get_Alpha=function(){return this._2660};b.set_Alpha=function(b){var d=this._7455.valueOf();if(5===d||7===d){b=parseInt(b);a.pv.n(b);0>b&&(b=0);switch(d){case 5:255<b&&(b=255);break;case 7:65535<b&&(b=65535)}this._2660=b}};b.toString=function(){var a=this._7455,b=a.toString();switch(a.valueOf()){case 0:b+="("+this._533+")";break;case 1:b+="("+this._10517+")";break;case 2:case 3:case 4:case 6:b+="("+this._4999+","+this._7440+
","+this._5587+")";break;case 5:case 7:b+="("+this._4999+","+this._7440+","+this._5587+","+this._2660+")"}return b};b.clone=function(){var a=new d;a._7455=this._7455;a._533=this._533;a._10517=this._10517;a._4999=this._4999;a._7440=this._7440;a._5587=this._5587;a._2660=this._2660;return a};b.getParams=function(){var a={type:this._7455.toString()},b=this._10517;null!=b&&(a.luminance=b);b=this._533;null!=b&&(a.index=b);b=this._4999;null!=b&&(a.red=b);b=this._7440;null!=b&&(a.green=b);b=this._5587;null!=
b&&(a.blue=b);b=this._2660;null!=b&&(a.alpha=b);return a};b._1748=function(b){var d=this._7455.valueOf();if(1!==d&&0!==d){b=parseInt(b);a.pv.n(b);0>b&&(b=0);switch(d){case 2:case 3:31<b&&(b=31);break;case 4:case 5:255<b&&(b=255);break;case 6:case 7:65535<b&&(b=65535)}return b}};this._7455=new x.WebColorBaseJSTypeEnumJS(4);this._10517=this._533=null;this._5587=this._7440=this._4999=0;this._2660=null;this._1760={};delete b._3746;delete b._7856},b=function(e,f,ub,g){function h(b,d){var e=d.newValue.valueOf();
4!==e&&5!==e&&a.pv.te("Unsupported color type.")}var k=b.prototype;k.get_Radius=function(){return this._5924};k.set_Radius=function(b){a.pv.n(b);0>b&&(b=0);this._5924=b};k.get_Center=function(){return this._8892};k.set_Center=function(b){a.pv.c(b,d);var e=b._7455.valueOf();4!==e&&5!==e&&a.pv.te("Unsupported color type.");$(this._8892._1760).off();this._8892=b;$(b._1760).on("_3746",h)};k.toString=function(){return"Center="+this._8892.toString()+"; Radius="+this._5924};k.clone=function(){var a=new b;
a.set_Center(this._8892.clone());a._5924=this._5924;return a};k.getParams=function(){return{center:this._8892.getParams(),radius:this._5924}};k=new d;k.set_Type(4);null!=e&&null!=f&&null!=ub&&(k.set_Red(e),k.set_Green(f),k.set_Blue(ub));this._8892=k;try{this.set_Radius(g)}catch(l){this._5924=0}$(this._8892._1760).on("_3746",h)},h=function(b,e,f,g){function k(b,d){var e=d.newValue.valueOf();4!==e&&5!==e&&a.pv.te("Unsupported color type.")}var l=h.superclass;l.constructor.call(this,b,e,f,g);b=h.prototype;
b.get_InterpolationRadius=function(){return this._2038};b.set_InterpolationRadius=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._2038=b};b.get_NewColor=function(){return this._6164};b.set_NewColor=function(b){a.pv.c(b,d);var e=b._7455.valueOf();4!==e&&5!==e&&a.pv.te("Unsupported color type.");$(this._6164._1760).off();this._6164=b;$(b._1760).on("_3746",k)};b.toString=function(){return l.toString.call(this)+"; NewColor="+this._6164.toString()+"; InterpolationRadius="+this._2038};b.clone=function(){var a=
new h;a.set_Center(this._8892.clone());a._5924=this._5924;a.set_NewColor(this._6164.clone());a._2038=this._2038;return a};b.getParams=function(){var a=l.getParams.call(this);a.newColor=this._6164.getParams();a.interpolationRadius=this._2038;return a};b=new d;b.set_Type(4);this._6164=b;$(this._6164._1760).on("_3746",k);this._2038=.5};a.extend(h,b);var f=function(b,d,e,g,h){var k=f.prototype;k.get_Gamma=function(){return this._gamma};k.set_Gamma=function(b){a.pv.n(b);0>b&&(b=0);this._gamma=b};k.get_InputMax=
function(){return this._inputMax};k.set_InputMax=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._inputMax=b};k.get_InputMin=function(){return this._inputMin};k.set_InputMin=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._inputMin=b};k.get_OutputMax=function(){return this._outputMax};k.set_OutputMax=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._outputMax=b};k.get_OutputMin=function(){return this._outputMin};k.set_OutputMin=function(b){b=
parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._outputMin=b};k.getParams=function(){return{gamma:this._gamma,inputMax:this._inputMax,inputMin:this._inputMin,outputMax:this._outputMax,outputMin:this._outputMin}};null==b&&(b=1);this.set_Gamma(b);null==d&&(d=255);this.set_InputMax(d);null==e&&(e=0);this.set_InputMin(e);null==g&&(g=255);this.set_OutputMax(g);null==h&&(h=0);this.set_OutputMin(h)},w=function(){function b(d,e){var f=d;a.pv.ic(f,a.WebEnumItemBase)&&(f=f.valueOf());if(-1===e.indexOf(f))switch(e.push(f),
f){case 4:b(2,e);b(1,e);break;case 8:b(2,e);b(1,e);b(4,e);b(9,e);break;case 9:b(2,e);b(1,e);b(4,e);b(8,e);break;case 16:b(9,e);break;case 24:b(8,e);b(9,e);b(14,e);b(15,e);b(32,e);break;case 32:b(24,e);break;case 33:b(8,e);b(24,e);break;case 48:b(16,e);b(24,e);break;case 64:b(33,e),b(48,e)}}this._1939=[];this._2434=this._1484=this._9393=!1;var d=w.prototype;d.get_ActionName=function(){a.pv.tne()};d.get_CanModifyImage=function(){return this._9393};d.get_SupportedNativePixelFormats=function(){return this._1939.slice()};
d.get_SupportedPixelFormats=function(){var a=this.get_SupportedNativePixelFormats();return this._1484?a.length===a[0].getAllAvailableNames().length?a:this._1561(a):a};d.get_ExpandSupportedPixelFormats=function(){return this._1484};d.set_ExpandSupportedPixelFormats=function(b){a.pv.b(b);this._1484=b};d.get_RestoreSourcePixelFormat=function(){return this._2434};d.set_RestoreSourcePixelFormat=function(b){a.pv.b(b);!this._9393&&b&&a.pv.te("Command does not support this property because command cannot modify image.");
this._2434=b};d.getParams=function(){return{}};d.checkCommandParams=function(a){return!0};d.execute=function(b,d,e,f){a.pv.c(b,a.WebImageJS);a.pv.ic(d,a.WebServiceJS)?(f=d,e=d=null):a.pv.ic(e,a.WebServiceJS)&&(f=e,e=null);null!=d&&a.pv.f(d,"Success callback must be defined as function.");null!=e&&a.pv.f(e,"Error callback must be defined as function.");null==f&&(f=this._11297());a.pv.c(f,a.WebServiceJS,"Image Processing service is not an instance of WebServiceJS class.");this._9829(b);return this.checkCommandParams(b)?
(this._7828(b,d,e,f),!0):!1};d._6711=function(a){this._1939=this._10611(a)};d._7828=function(b,d,e,f){var g=this,h=g.getParams();h.expandSupportedPixelFormats=g._1484;h.restoreSourcePixelFormat=g._2434;h.imageInfo=b.cto();var k=b.csto(),Na;for(Na in k)h[Na]=k[Na];h={data:h};h=new a.WebRequestJS(g.get_ActionName(),function(a,e,f){g._5618(b,a);d&&d(a,e,f)},function(a,d,f){g._5618(b,a);e&&e(a,d,f)},h);return f.sendRequest(h)};d._11297=function(){return a.WebServiceJS.defaultImageProcessingService};d._5618=
function(a,b){b.sourceImage=a};d._1561=function(a){for(var d=[],e=0;e<a.length;e++)b(a[e],d);return this._10611(d)};d._10611=function(b){b.sort(u._4868._9123);for(var d=[],e=0;e<b.length;e++)d.push(new a.WebPixelFormatEnumJS(b[e]));return d};d._9829=function(b){var d=b.get_PixelFormat();if(null!=d){b=this.get_SupportedPixelFormats();for(var e=!1,f=0;f<b.length;f++)if(d.equals(b[f])){e=!0;break}if(!e){e="Please convert the image to supported pixel format first.";if(!this._1484){for(var g=this._1561(b),
h=!1,f=0;f<g.length;f++)if(d.equals(g[f])){h=!0;break}h&&(e="Please enable automatic convertation using the 'set_ExpandSupportedPixelFormats' property  or convert an image to the supported pixel format manually.")}d=this.get_ActionName()+": unsupported pixel format - "+d.toString()+". With current settings the processing command supports only the following pixel formats:";for(f=0;f<b.length;f++)d+=" "+b[f].toString();a.pv.te(d+(".\n"+e))}}}},l=function(){var b=l.superclass;b.constructor.call(this);
var d=l.prototype;this._9393=this._9574=!0;d.get_ChangeSource=function(){return this._9574};d.set_ChangeSource=function(b){a.pv.b(b);this._9574=b};d.getParams=function(){return{changeSource:this._9574}};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)};d._5618=function(d,e){b._5618.call(this,d,e);if(!0===e.success){var f=e.imageInfo.fileInfo.id,g=e.imageInfo.pageIndex,h=d.get_PageIndex(),k=d.get_ImageId();if(f===k&&g===h)e.processedImage=d,d.ci("dc");else{var h=d.get_Source(),Na,l;
try{Na=h.get_ImageService(),l=h.get_AnnotationService()}catch(m){}f=new a.WebImageSourceJS(f,Na,l);g=new a.WebImageJS(f,g);e.processedImage=g}}}};a.extend(l,w);var q=function(){q.superclass.constructor.call(this);var b=q.prototype;this._109=u._4868._3842();b.get_Region=function(){return a.cloneObject(this._109)};b.set_Region=function(b,d,e,f){b=null==d?{x:parseInt(b.x),y:parseInt(b.y),width:parseInt(b.width),height:parseInt(b.height)}:{x:parseInt(b),y:parseInt(d),width:parseInt(e),height:parseInt(f)};
a.pv.r(b);0>b.x&&(b.x=0);0>b.y&&(b.y=0);0>b.width&&(b.width=0);0>b.height&&(b.height=0);this._109=b};b.getParams=function(){return{region:this._109}};b.checkCommandParams=function(a){a=a.get_Size();return null==a?!0:this._109.x<=a.width&&this._109.y<=a.height}};a.extend(q,w);var s=function(){var b=s.superclass;b.constructor.call(this);var d=s.prototype;this._109=u._4868._3842();d.get_Region=function(){return a.cloneObject(this._109)};d.set_Region=function(b,d,e,f){b=null==d?{x:parseInt(b.x),y:parseInt(b.y),
width:parseInt(b.width),height:parseInt(b.height)}:{x:parseInt(b),y:parseInt(d),width:parseInt(e),height:parseInt(f)};a.pv.r(b);0>b.x&&(b.x=0);0>b.y&&(b.y=0);0>b.width&&(b.width=0);0>b.height&&(b.height=0);this._109=b};d.getParams=function(){var a=b.getParams.call(this);a.region=this._109;return a};d.checkCommandParams=function(a){a=a.get_Size();return null==a?!0:this._109.x<=a.width&&this._109.y<=a.height}};a.extend(s,l);var n=function(){var b=n.superclass;b.constructor.call(this);this._2482=new x.WebBinarizationModeEnumJS(0);
this._6915=0;this._8542=1;this._8951=-115;this._10053=0;this._11=384;this._4342=15;this._9620=new x.WebLuminanceComputationModeEnumJS(1);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=n.prototype;d.get_ActionName=function(){return"Binarize"};d.get_BinarizationMode=function(){return this._2482};d.set_BinarizationMode=function(b){this._2482=a.pv.e(b,x.WebBinarizationModeEnumJS)};d.get_ConvertToBlackLevel=function(){return this._6915};d.set_ConvertToBlackLevel=function(b){a.pv.n(b);0>b&&(b=0);1<b&&
(b=1);this._6915=b};d.get_ConvertToWhiteLevel=function(){return this._8542};d.set_ConvertToWhiteLevel=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._8542=b};d.get_MaxLevelDifference=function(){return this._8951};d.set_MaxLevelDifference=function(b){b=parseInt(b);a.pv.n(b);-765>b&&(b=-765);765<b&&(b=765);this._8951=b};d.get_MinLevelDifference=function(){return this._10053};d.set_MinLevelDifference=function(b){b=parseInt(b);a.pv.n(b);-765>b&&(b=-765);765<b&&(b=765);this._10053=b};d.get_Threshold=
function(){return this._11};d.set_Threshold=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);765<b&&(b=765);this._11=b};d.get_WindowRadius=function(){return this._4342};d.set_WindowRadius=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);256<b&&(b=256);this._4342=b};d.get_LuminanceComputationMode=function(){return this._9620};d.set_LuminanceComputationMode=function(b){this._9620=a.pv.e(b,x.WebLuminanceComputationModeEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.binarizationMode=this._2482.valueOf();
a.convertToBlackLevel=this._6915;a.convertToWhiteLevel=this._8542;a.maxLevelDifference=this._8951;a.minLevelDifference=this._10053;a.threshold=this._11;a.windowRadius=this._4342;a.luminanceComputationMode=this._9620.valueOf();return a}};a.extend(n,l);var A=function(){var b=A.superclass;b.constructor.call(this);this._1429=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=A.prototype;d.get_ActionName=function(){return"ChangeBrightness"};d.get_Brightness=function(){return this._1429};d.set_Brightness=
function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._1429=b};d.getParams=function(){var a=b.getParams.call(this);a.brightness=this._1429;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&0!==this._1429}};a.extend(A,s);var v=function(){var b=v.superclass;b.constructor.call(this);this._5910=this._1429=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=v.prototype;d.get_ActionName=function(){return"ChangeBrightnessContrast"};d.get_Brightness=function(){return this._1429};
d.set_Brightness=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._1429=b};d.get_Contrast=function(){return this._5910};d.set_Contrast=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._5910=b};d.getParams=function(){var a=b.getParams.call(this);a.brightness=this._1429;a.contrast=this._5910;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&(0!==this._1429||0!==this._5910)}};a.extend(v,s);var t=function(){var b=t.superclass;
b.constructor.call(this);this._5910=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=t.prototype;d.get_ActionName=function(){return"ChangeContrast"};d.get_Contrast=function(){return this._5910};d.set_Contrast=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._5910=b};d.getParams=function(){var a=b.getParams.call(this);a.contrast=this._5910;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&0!==this._5910}};a.extend(t,s);var B=function(){function b(d){a.pv.n(d);
0>d&&a.pv.te("Gamma value cannot be less than 0.")}var d=B.superclass;d.constructor.call(this);this._8660=this._6930=this._7567=1;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=B.prototype;e.get_ActionName=function(){return"ChangeGamma"};e.get_RedGamma=function(){return this._7567};e.set_RedGamma=function(a){b(a);this._7567=a};e.get_GreenGamma=function(){return this._6930};e.set_GreenGamma=function(a){b(a);this._6930=a};e.get_BlueGamma=function(){return this._8660};e.set_BlueGamma=function(a){b(a);
this._8660=a};e.get_Gamma=function(){return(this._7567+this._6930+this._8660)/3};e.set_Gamma=function(a){b(a);this._8660=this._6930=this._7567=a};e.getParams=function(){var a=d.getParams.call(this);a.redGamma=this._7567;a.greenGamma=this._6930;a.blueGamma=this._8660;return a};e.checkCommandParams=function(a){return d.checkCommandParams.call(this,a)&&(1!==this._7567||1!==this._6930||1!==this._8660)}};a.extend(B,s);var H=function(){var b=H.superclass;b.constructor.call(this);this._10517=this._3170=
this._10934=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=H.prototype;d.get_ActionName=function(){return"ChangeHSL"};d.get_Hue=function(){return this._10934};d.set_Hue=function(b){b=parseInt(b);a.pv.n(b);-180>b&&(b=-180);180<b&&(b=180);this._10934=b};d.get_Saturation=function(){return this._3170};d.set_Saturation=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._3170=b};d.get_Luminance=function(){return this._10517};d.set_Luminance=function(b){b=parseInt(b);a.pv.n(b);-100>
b&&(b=-100);100<b&&(b=100);this._10517=b};d.getParams=function(){var a=b.getParams.call(this);a.hue=this._10934;a.saturation=this._3170;a.luminance=this._10517;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&(0!==this._10934||0!==this._3170||0!==this._10517)}};a.extend(H,s);var E=function(){var b=E.superclass;b.constructor.call(this);this._10523="rgba(0,0,0,1)";this._2826=new x.WebBlendingModeEnumJS(1);this._6711([1,2,4,8,9,24,32,33]);var d=E.prototype;d.get_ActionName=
function(){return"ColorBlend"};d.get_BlendColor=function(){return this._10523};d.set_BlendColor=function(b){a.pv.s(b);this._10523=b};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(b){this._2826=a.pv.e(b,x.WebBlendingModeEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.blendColor=this._10523;a.blendingMode=this._2826.valueOf();return a}};a.extend(E,s);var G=function(){function b(d,e){7!==e.newValue.valueOf()&&a.pv.te("Unsupported color type.")}var e=G.superclass;
e.constructor.call(this);var f=new d;f.set_Type(7);f._4999=65535;f._7440=65535;f._5587=65535;f._2660=65535;$(f._1760).on("_3746",b);this._10523=f;this._2826=new x.WebBlendingModeEnumJS(1);this._6711([48,64]);f=G.prototype;f.get_ActionName=function(){return"ColorBlend16"};f.get_BlendColor=function(){return this._10523};f.set_BlendColor=function(e){a.pv.c(e,d);7!==e._7455.valueOf()&&a.pv.te("Unsupported color type.");$(this._10523._1760).off();this._10523=e;$(e._1760).on("_3746",b)};f.get_BlendingMode=
function(){return this._2826};f.set_BlendingMode=function(b){this._2826=a.pv.e(b,x.WebBlendingModeEnumJS)};f.getParams=function(){var a=e.getParams.call(this);a.blendColor=this._10523.getParams();a.blendingMode=this._2826.valueOf();return a}};a.extend(G,s);var F=function(){var b=F.superclass;b.constructor.call(this);this._356=new x.WebDesaturateMethodEnumJS(2);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=F.prototype;d.get_ActionName=function(){return"Desaturate"};d.get_DesaturateMethod=function(){return this._356};
d.set_DesaturateMethod=function(b){this._356=a.pv.e(b,x.WebDesaturateMethodEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.desaturateMethod=this._356.valueOf();return a}};a.extend(F,s);var K=function(){K.superclass.constructor.call(this);this._6711([8,33,64]);K.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};a.extend(K,s);var I=function(){I.superclass.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);I.prototype.get_ActionName=function(){return"Halftone"}};
a.extend(I,l);var P=function(){P.superclass.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);P.prototype.get_ActionName=function(){return"Invert"}};a.extend(P,s);var O=function(){var b=O.superclass;b.constructor.call(this);this._5681=new f;this._3067=new f;this._9883=new f;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=O.prototype;d.get_ActionName=function(){return"Levels"};d.get_RedChannelSettings=function(){return this._5681};d.set_RedChannelSettings=function(b){a.pv.c(b,f);this._5681=
b};d.get_GreenChannelSettings=function(){return this._3067};d.set_GreenChannelSettings=function(b){a.pv.c(b,f);this._3067=b};d.get_BlueChannelSettings=function(){return this._9883};d.set_BlueChannelSettings=function(b){a.pv.c(b,f);this._9883=b};d.getParams=function(){var a=b.getParams.call(this);a.redChannelSettings=this._5681.getParams();a.greenChannelSettings=this._3067.getParams();a.blueChannelSettings=this._9883.getParams();return a}};a.extend(O,s);var Y=function(){var b=Y.superclass;b.constructor.call(this);
this._9468=6;this._6711([9,16,24,32,33,48,64]);var d=Y.prototype;d.get_ActionName=function(){return"Posterize"};d.get_ColorCount=function(){return this._9468};d.set_ColorCount=function(b){b=parseInt(b);a.pv.n(b);2>b&&(b=2);256<b&&(b=256);this._9468=b};d.getParams=function(){var a=b.getParams.call(this);a.colorCount=this._9468;return a}};a.extend(Y,l);var S=function(){function b(d){a.pv.n(d);0>d&&a.pv.te("Gamma value cannot be less than 0.")}var d=S.superclass;d.constructor.call(this);this._2816=256;
this._466=[];this._9417=[];this._3951=[];this._6711([2,1,4,8,9,24,32,33]);var e=S.prototype;e.get_ActionName=function(){return"RemapColors"};e.get_RedMap=function(){return this._466.slice()};e.set_RedMap=function(a){this._6480(a);this._466=a.slice()};e.get_GreenMap=function(){return this._9417.slice()};e.set_GreenMap=function(a){this._6480(a);this._9417=a.slice()};e.get_BlueMap=function(){return this._3951.slice()};e.set_BlueMap=function(a){this._6480(a);this._3951=a.slice()};e.setGamma=function(a){b(a);
a=this._8613(a);this._466=a.slice();this._9417=a.slice();this._3951=a.slice()};e.setRedGamma=function(a){b(a);this._466=this._8613(a)};e.setGreenGamma=function(a){b(a);this._9417=this._8613(a)};e.setBlueGamma=function(a){b(a);this._3951=this._8613(a)};e.getParams=function(){var a=d.getParams.call(this);a.redMap=this._466;a.greenMap=this._9417;a.blueMap=this._3951;return a};e._8613=function(a){for(var b=[],d=this._2816-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=
f}return b};e._6480=function(b){var d=this._2816-1;a.pv.ad(b,function(b){a.pv.n(b);(0>b||b>d)&&a.pv.toe()});b.length!==this._2816&&a.pv.te("Color map must contain "+this._2816+" elements.")};this.setGamma(1)};a.extend(S,s);var aa=function(){function b(d){a.pv.n(d);0>d&&a.pv.te("Gamma value cannot be less than 0.")}var d=aa.superclass;d.constructor.call(this);this._2816=65536;this._466=[];this._9417=[];this._3951=[];this._6711([16,48,64]);var e=aa.prototype;aa.prototype.get_ActionName=function(){return"RemapColors16"};
e.get_RedMap=function(){return this._466.slice()};e.set_RedMap=function(a){this._6480(a);this._466=a.slice()};e.get_GreenMap=function(){return this._9417.slice()};e.set_GreenMap=function(a){this._6480(a);this._9417=a.slice()};e.get_BlueMap=function(){return this._3951.slice()};e.set_BlueMap=function(a){this._6480(a);this._3951=a.slice()};e.setGamma=function(a){b(a);a=this._8613(a);this._466=a.slice();this._9417=a.slice();this._3951=a.slice()};e.setRedGamma=function(a){b(a);this._466=this._8613(a)};
e.setGreenGamma=function(a){b(a);this._9417=this._8613(a)};e.setBlueGamma=function(a){b(a);this._3951=this._8613(a)};e.getParams=function(){var a=d.getParams.call(this);a.redMap=this._466;a.greenMap=this._9417;a.blueMap=this._3951;return a};e._8613=function(a){for(var b=[],d=this._2816-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=f}return b};e._6480=function(b){var d=this._2816-1;a.pv.ad(b,function(b){a.pv.n(b);(0>b||b>d)&&a.pv.toe()});b.length!==this._2816&&a.pv.te("Color map must contain "+
this._2816+" elements.")};this.setGamma(1)};a.extend(aa,s);var ba=function(){ba.superclass.constructor.call(this);this._4441=new S;var a=ba.prototype;a.get_ActionName=function(){return"Curves"};a.get_SupportedNativePixelFormats=function(){return this._4441.get_SupportedNativePixelFormats()};a.get_RedMap=function(){return this._4441.get_RedMap()};a.set_RedMap=function(a){this._4441.set_RedMap(a)};a.get_GreenMap=function(){return this._4441.get_GreenMap()};a.set_GreenMap=function(a){this._4441.set_GreenMap(a)};
a.get_BlueMap=function(){return this._4441.get_BlueMap()};a.set_BlueMap=function(a){this._4441.set_BlueMap(a)};a.getParams=function(){this._4441._109=this._109;return this._4441.getParams()}};a.extend(ba,s);var V=function(){V.superclass.constructor.call(this);this._4441=new aa;var a=V.prototype;V.prototype.get_ActionName=function(){return"Curves16"};a.get_SupportedNativePixelFormats=function(){return this._4441.get_SupportedNativePixelFormats()};a.get_RedMap=function(){return this._4441.get_RedMap()};
a.set_RedMap=function(a){this._4441.set_RedMap(a)};a.get_GreenMap=function(){return this._4441.get_GreenMap()};a.set_GreenMap=function(a){this._4441.set_GreenMap(a)};a.get_BlueMap=function(){return this._4441.get_BlueMap()};a.set_BlueMap=function(a){this._4441.set_BlueMap(a)};a.getParams=function(){this._4441._109=this._109;return this._4441.getParams()}};a.extend(V,s);var U=function(){var b=U.superclass;b.constructor.call(this);this._10194=new x.WebColorSpaceTypeEnumJS(2);this._5020=0;this._9126=
"rgba(255,255,255,1)";this._6164="rgba(0,0,0,1)";this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=U.prototype;d.get_ActionName=function(){return"ReplaceColor"};d.get_ColorSpace=function(){return this._10194};d.set_ColorSpace=function(b){b=a.pv.e(b,x.WebColorSpaceTypeEnumJS);var d=b.valueOf();2!==d&&5!==d&&a.pv.te("Supported values are sRGB and CIELab.");this._10194=b};d.get_MaximalColorDifference=function(){return this._5020};d.set_MaximalColorDifference=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=
0);this._5020=b};d.get_NewColor=function(){return this._6164};d.set_NewColor=function(b){a.pv.s(b);this._6164=b};d.get_OldColor=function(){return this._9126};d.set_OldColor=function(b){a.pv.s(b);this._9126=b};d.getParams=function(){var a=b.getParams.call(this);a.colorSpace=this._10194.valueOf();a.maximalColorDifference=this._5020;a.oldColor=this._9126;a.newColor=this._6164;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&this._9126!==this._6164}};a.extend(U,s);
var R=function(){var b=R.superclass;b.constructor.call(this);this._1975="";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=R.prototype;d.get_ActionName=function(){return"SetAlphaChannelMask"};d.get_Mask=function(){return this._1975};d.set_Mask=function(b){a.pv.s(b);this._1975=b};d.checkCommandParams=function(d){""===this._1975&&a.pv.te("Mask property cannot be empty.");return b.checkCommandParams.call(this,d)};d.getParams=function(){var a=b.getParams.call(this);a.mask=this._1975;return a}};
a.extend(R,s);var ca=function(){var b=ca.superclass;b.constructor.call(this);this._7523=255;this._6711([1,2,4,8,33,64]);var d=ca.prototype;d.get_ActionName=function(){return"SetAlphaChannelValue"};d.get_AlphaValue=function(){return this._7523};d.set_AlphaValue=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._7523=b};d.getParams=function(){var a=b.getParams.call(this);a.alphaValue=this._7523;return a}};a.extend(ca,s);var N=function(){var b=N.superclass;b.constructor.call(this);this._5475=
new a.WebPixelFormatEnumJS(0);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=N.prototype;d.get_ActionName=function(){return"ChangePixelFormat"};d.get_PixelFormat=function(){return this._5475};d.set_PixelFormat=function(b){this._5475=a.pv.e(b,a.WebPixelFormatEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.pixelFormat=this._5475.valueOf();return a}};a.extend(N,l);var X=function(){var b=X.superclass;b.constructor.call(this);this._5475=new a.WebPixelFormatEnumJS(24);this._5735=!1;
this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=X.prototype;d.get_ActionName=function(){return"ChangePixelFormatToBgr"};d.set_PixelFormat=function(b){b=a.pv.e(b,a.WebPixelFormatEnumJS);var d=b.valueOf();14!==d&&15!==d&&24!==d&&32!==d&&33!==d&&48!==d&&64!==d&&a.pv.te("Unsupported pixel format.");this._5475=b};d.get_KeepAlphaChannel=function(){return this._5735};d.set_KeepAlphaChannel=function(b){a.pv.b(b);this._5735=b};d.getParams=function(){var a=b.getParams.call(this);a.keepAlphaChannel=this._5735;
return a}};a.extend(X,N);var da=function(){da.superclass.constructor.call(this);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);da.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};a.extend(da,n);var Z=function(){Z.superclass.constructor.call(this);this._5475=new a.WebPixelFormatEnumJS(9);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var b=Z.prototype;b.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};b.set_PixelFormat=function(b){b=a.pv.e(b,a.WebPixelFormatEnumJS);
var d=b.valueOf();9!==d&&16!==d&&a.pv.te("Unsupported pixel format.");this._5475=b}};a.extend(Z,N);var T=function(){var b=T.superclass;b.constructor.call(this);this._5475=new a.WebPixelFormatEnumJS(8);this._8814=new x.WebPaletteTypeEnumJS(0);this._9147=new x.WebColorQuantizationMethodEnumJS(3);this._6226=!1;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=T.prototype;d.get_ActionName=function(){return"ChangePixelFormatToPalette"};d.set_PixelFormat=function(b){b=a.pv.e(b,a.WebPixelFormatEnumJS);
var d=b.valueOf();1!==d&&4!==d&&8!==d&&a.pv.te("Unsupported pixel format.");this._5475=b};d.get_Transparency=function(){return this._6226};d.set_Transparency=function(b){a.pv.b(b);this._6226=b};d.get_PaletteType=function(){return this._8814};d.set_PaletteType=function(b){this._8814=a.pv.e(b,x.WebPaletteTypeEnumJS)};d.get_QuantizationMethod=function(){return this._9147};d.set_QuantizationMethod=function(b){this._9147=a.pv.e(b,x.WebColorQuantizationMethodEnumJS)};d.getParams=function(){var a=b.getParams.call(this);
a.transparency=this._6226;a.paletteType=this._8814.valueOf();a.quantizationMethod=this._9147.valueOf();return a}};a.extend(T,N);var ea=function(){var b=ea.superclass;b.constructor.call(this);this._7394="rgba(0,0,0,1)";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ea.prototype;d.get_ActionName=function(){return"Clear"};d.get_Color=function(){return this._7394};d.set_Color=function(b){a.pv.s(b);this._7394=b};d.getParams=function(){var a=b.getParams.call(this);a.color=this._7394;return a}};a.extend(ea,
s);var ha=function(){ha.superclass.constructor.call(this);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=ha.prototype;a.get_ActionName=function(){return"Crop"};a.checkCommandParams=function(a){a=a.get_Size();if(null==a)return!0;a.x=0;a.y=0;var b=u._4868._6314(a,this._109);return u._4868._11395(b)||u._4868._464(b,a)?!1:!0}};a.extend(ha,s);var ja=function(){var b=ja.superclass;b.constructor.call(this);this._6367=new a.WebInterpolationModeEnumJS(7);this._1324=this._7278=96;this._6711([1,2,4,8,
9,14,15,16,24,32,33,48,64]);var d=ja.prototype;d.get_ActionName=function(){return"Resample"};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(b){this._6367=a.pv.e(b,a.WebInterpolationModeEnumJS)};d.get_HorizontalResolution=function(){return this._7278};d.set_HorizontalResolution=function(b){a.pv.n(b);1>b&&(b=1);12800<b&&(b=12800);this._7278=b};d.get_VerticalResolution=function(){return this._1324};d.set_VerticalResolution=function(b){a.pv.n(b);1>b&&(b=1);12800<
b&&(b=12800);this._1324=b};d.getParams=function(){var a=b.getParams.call(this);a.interpolationMode=this._6367.valueOf();a.horizontalResolution=this._7278;a.verticalResolution=this._1324;return a}};a.extend(ja,l);var ga=function(){var b=ga.superclass;b.constructor.call(this);this._2532={width:100,height:100};this._6367=new a.WebInterpolationModeEnumJS(7);this._2434=this._1484=!0;this._10197=this._10611([8,9,16,24,32,33,48,64]);this._10297=this._10611([9,16,24,32,33,48,64]);this._7491=this._10611([16,
33,48,64]);var d=ga.prototype;d.get_ActionName=function(){return"Resize"};d.get_SupportedNativePixelFormats=function(){var a;switch(this._6367.valueOf()){case 5:a=this._10197;break;case 3:a=this._10297;break;default:a=this._7491}return a.slice()};d.get_Size=function(){return a.cloneObject(this._2532)};d.set_Size=function(b,d){var e;e=null==d?{width:parseInt(b.width),height:parseInt(b.height)}:{width:parseInt(b),height:parseInt(d)};a.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);
0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._2532=e};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(b){this._6367=a.pv.e(b,a.WebInterpolationModeEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.interpolationMode=this._6367.valueOf();a.width=this._2532.width;a.height=this._2532.height;return a};d.checkCommandParams=function(a){a=a.get_Size();if(null==a)return!0;var b=this._109;return u._4868._11395(b)?this._2532.width!==a.width||
this._2532.height!==a.height:0===b.x&&0===b.y&&b.width===a.width&&b.height===a.height?!1:!0}};a.extend(ga,s);var ia=function(){var b=ia.superclass;b.constructor.call(this);this._1127="rgba(0,0,0,1)";this._9332={width:100,height:100};this._3893={x:0,y:0};this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ia.prototype;d.get_ActionName=function(){return"ResizeCanvas"};d.get_CanvasColor=function(){return this._1127};d.set_CanvasColor=function(b){a.pv.s(b);this._1127=b};d.get_CanvasSize=function(){return a.cloneObject(this._9332)};
d.set_CanvasSize=function(b,d){var e;e=null==d?{width:parseInt(b.width),height:parseInt(b.height)}:{width:parseInt(b),height:parseInt(d)};a.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._9332=e};d.get_ImagePosition=function(){return a.cloneObject(this._3893)};d.set_ImagePosition=function(b,d){var e;e=null==d?{x:parseInt(b.x),y:parseInt(b.y)}:{x:parseInt(b),y:parseInt(d)};a.pv.p(e);this._3893=e};d.getParams=function(){var a=
b.getParams.call(this);a.imagePosition=this._3893;a.width=this._9332.width;a.height=this._9332.height;a.canvasColor=this._1127;return a}};a.extend(ia,l);var m=function(){var b=m.superclass;b.constructor.call(this);this._6837=!1;this._3848="";this._6226=!1;this._10086="rgba(255,255,255,0)";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=m.prototype;d.get_ActionName=function(){return"Overlay"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(b){a.pv.s(b);this._3848=
b};d.get_HasTransparentColor=function(){return this._6837};d.set_HasTransparentColor=function(b){a.pv.b(b);this._6837=b};d.get_Transparency=function(){return this._6226};d.set_Transparency=function(b){a.pv.b(b);this._6226=b};d.get_TransparentColor=function(){return this._10086};d.set_TransparentColor=function(b){a.pv.s(b);this._10086=b};d.checkCommandParams=function(d){""===this._3848&&a.pv.te("OverlayImage property cannot be empty.");return b.checkCommandParams.call(this,d)};d.getParams=function(){var a=
b.getParams.call(this);a.hasTransparentColor=this._6837;a.overlayImage=this._3848;a.transparency=this._6226;a.transparentColor=this._10086;return a}};a.extend(m,s);var M=function(){var b=M.superclass;b.constructor.call(this);this._10017=this._3848="";this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=M.prototype;d.get_ActionName=function(){return"OverlayMasked"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(b){a.pv.s(b);this._3848=b};d.get_MaskImage=function(){return this._10017};
d.set_MaskImage=function(b){a.pv.s(b);this._10017=b};d.checkCommandParams=function(d){""===this._3848&&a.pv.te("OverlayImage property cannot be empty.");""===this._10017&&a.pv.te("MaskImage property cannot be empty.");return b.checkCommandParams.call(this,d)};d.getParams=function(){var a=b.getParams.call(this);a.overlayImage=this._3848;a.maskImage=this._10017;return a}};a.extend(M,s);var g=function(){var b=g.superclass;b.constructor.call(this);this._3848="";this._2826=new x.WebBlendingModeEnumJS(1);
this._6711([9,16,24,32,33,48,64]);var d=g.prototype;d.get_ActionName=function(){return"OverlayWithBlending"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(b){a.pv.s(b);this._3848=b};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(b){this._2826=a.pv.e(b,x.WebBlendingModeEnumJS)};d.checkCommandParams=function(d){""===this._3848&&a.pv.te("OverlayImage property cannot be empty.");return b.checkCommandParams.call(this,d)};d.getParams=function(){var a=
b.getParams.call(this);a.overlayImage=this._3848;a.blendingMode=this._2826.valueOf();return a}};a.extend(g,s);var D=function(){var b=D.superclass;b.constructor.call(this);this._7394=new d;this._1223=[];this._6711([2,9,24,32,33]);var e=D.prototype;e.get_ActionName=function(){return"FillRectangle"};e.get_Color=function(){return this._7394};e.set_Color=function(b){a.pv.c(b,d);this._7394=b};e.get_Rectangles=function(){for(var a=[],b=0;b<this._1223.length;b++)a[b]={x:this._1223[b].x,y:this._1223[b].y,
width:this._1223[b].width,height:this._1223[b].height};return a};e.set_Rectangles=function(b){a.pv.ad(b,a.pv.r);this._1223=[];for(var d=0;d<b.length;d++)this._1223[d]={x:b[d].x,y:b[d].y,width:b[d].width,height:b[d].height}};e.getParams=function(){var a=b.getParams.call(this);a.rectangles=this._1223;a.color=this._7394.getParams();return a};e.checkCommandParams=function(a){return 0!==this._1223.length}};a.extend(D,l);var C=function(){var b=C.superclass;b.constructor.call(this);this._7826="";this._7236=
new x.WebImageCompareOperatorEnumJS(0);this._10972=null;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=C.prototype;d.get_ActionName=function(){return"ImageComparison"};d.get_Image=function(){return this._7826};d.set_Image=function(b){a.pv.s(b);this._7826=b};d.get_CompareChannelIndexes=function(){var a=this._10972;return null!=a?a.slice():a};d.set_CompareChannelIndexes=function(b){null!=b&&a.pv.ad(b,a.pv.n);this._10972=b};d.get_CompareOperator=function(){return this._7236};d.set_CompareOperator=
function(b){this._7236=a.pv.e(b,x.WebImageCompareOperatorEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.image=this._7826;a.compareOperator=this._7236.valueOf();a.compareChannelIndexes=this._10972;return a};d.checkCommandParams=function(d){""===this._7826&&a.pv.te("Image property cannot be empty.");return b.checkCommandParams.call(this,d)}};a.extend(C,l);var p=function(){function b(d,e,f,g){d=null==e?{x:d.x,y:d.y,width:d.width,height:d.height}:{x:d,y:e,width:f,height:g};a.pv.r(d);0>
d.width&&(d.width=0);0>d.height&&(d.height=0);return d}var d=p.superclass;d.constructor.call(this);this._3848="";this._5668=u._4868._3842();this._3595=u._4868._3842();this._6367=new a.WebInterpolationModeEnumJS(6);this._7143="rgba(0,0,0,0)";this._6711([24,32,33]);var e=p.prototype;e.get_ActionName=function(){return"DrawImage"};e.get_OverlayImage=function(){return this._3848};e.set_OverlayImage=function(b){a.pv.s(b);this._3848=b};e.get_SourceRect=function(){return a.cloneObject(this._5668)};e.set_SourceRect=
function(a,d,e,f){this._5668=b(a,d,e,f)};e.get_DestRect=function(){return a.cloneObject(this._3595)};e.set_DestRect=function(a,d,e,f){this._3595=b(a,d,e,f)};e.get_InterpolationMode=function(){return this._6367};e.set_InterpolationMode=function(b){this._6367=a.pv.e(b,a.WebInterpolationModeEnumJS)};e.get_BackgroundColor=function(){return this._7143};e.set_BackgroundColor=function(b){a.pv.s(b);this._7143=b};e.checkCommandParams=function(b){""===this._3848&&a.pv.te("OverlayImage property cannot be empty.");
return d.checkCommandParams.call(this,b)};e.getParams=function(){var a=d.getParams.call(this);a.overlayImage=this._3848;a.sourceRect=this._5668;a.destRect=this._3595;a.interpolationMode=this._6367.valueOf();a.backgroundColor=this._7143;return a}};a.extend(p,l);var W=function(){var b=W.superclass;b.constructor.call(this);this._3848="";this._2547={x:0,y:0};this._3186=new x.WebOverlayBinaryOperationTypeEnumJS(0);this._6711([2]);var d=W.prototype;d.get_ActionName=function(){return"OverlayBinary"};d.get_OverlayImage=
function(){return this._3848};d.set_OverlayImage=function(b){a.pv.s(b);this._3848=b};d.get_OverlayPosition=function(){return a.cloneObject(this._2547)};d.set_OverlayPosition=function(b,d){var e;e=null==d?{x:parseInt(b.x),y:parseInt(b.y)}:{x:parseInt(b),y:parseInt(d)};(0>e.x||0>e.y)&&a.pv.toe();a.pv.p(e);this._2547=e};d.get_BinaryOperationType=function(){return this._3186};d.set_BinaryOperationType=function(b){this._3186=a.pv.e(b,x.WebOverlayBinaryOperationTypeEnumJS)};d.checkCommandParams=function(d){""===
this._3848&&a.pv.te("OverlayImage property cannot be empty.");return b.checkCommandParams.call(this,d)};d.getParams=function(){var a=b.getParams.call(this);a.overlayImage=this._3848;a.overlayPosition=this._2547;a.binaryOperationType=this._3186.valueOf();return a}};a.extend(W,l);var k=function(){var a=k.superclass;a.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var b=k.prototype;b.get_ActionName=function(){return"GetBackgroundColor"};b.execute=function(b,d,e,f){return a.execute.call(this,
b,d,e,f)}};a.extend(k,w);var r=function(){var a=r.superclass;a.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var b=r.prototype;b.get_ActionName=function(){return"GetBorderColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};a.extend(r,w);var y=function(){var b=y.superclass;b.constructor.call(this);this._1195=this._1807=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=y.prototype;d.get_ActionName=function(){return"GetColorCount"};d.get_MaxColorCount=function(){return this._1807};
d.set_MaxColorCount=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);this._1807=b};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(b){a.pv.n(b);0>b&&(b=0);442<b&&(b=442);this._1195=b};d.getParams=function(){var a=b.getParams.call(this);a.maxColorCount=this._1807;a.maxInaccuracy=this._1195;return a};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(y,q);var L=function(){var b=L.superclass;b.constructor.call(this);this._3000=new x.WebHistogramTypeEnumJS(15);
this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=L.prototype;d.get_ActionName=function(){return"GetHistogram"};d.get_HistogramType=function(){return this._3000};d.set_HistogramType=function(b){this._3000=a.pv.e(b,x.WebHistogramTypeEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.histogramType=this._3000.valueOf();return a};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(L,q);var J=function(){var a=J.superclass;a.constructor.call(this);this._6711([1,2,4,8,9,
14,15,16,24,32,33,48,64]);var b=J.prototype;b.get_ActionName=function(){return"GetThreshold"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};a.extend(J,w);var ka=function(){var b=ka.superclass;b.constructor.call(this);this._2969=.01;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=ka.prototype;d.get_ActionName=function(){return"IsImageBlank"};d.get_MaxNoiseLevel=function(){return this._2969};d.set_MaxNoiseLevel=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._2969=b};d.getParams=
function(){return{maxNoiseLevel:this._2969}};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(ka,w);var la=function(){var b=la.superclass;b.constructor.call(this);this._6809=!0;this._7394=new d;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=la.prototype;e.get_ActionName=function(){return"HasCertainColor"};e.get_ConsiderAlphaChannel=function(){return this._6809};e.set_ConsiderAlphaChannel=function(b){a.pv.b(b);this._6809=b};e.get_Color=function(){return this._7394};e.set_Color=
function(b){a.pv.c(b,d);this._7394=b};e.getParams=function(){var a=b.getParams.call(this);a.considerAlphaChannel=this._6809;a.color=this._7394.getParams();return a};e.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(la,w);var ma=function(){var a=ma.superclass;a.constructor.call(this);this._6711([1,2,4,8,9,24,32,33]);var b=ma.prototype;b.get_ActionName=function(){return"GetUniqueColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};a.extend(ma,q);var oa=
function(){var b=oa.superclass;b.constructor.call(this);this._1195=0;this._6711([8,9,24]);var d=oa.prototype;d.get_ActionName=function(){return"IsImageBlackWhite"};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(b){a.pv.n(b);0>b&&(b=0);442<b&&(b=442);this._1195=b};d.getParams=function(){return{maxInaccuracy:this._1195}};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(oa,w);var za=function(){var b=za.superclass;b.constructor.call(this);this._10882=
this._1195=0;this._6711([1,8,24,33]);var d=za.prototype;d.get_ActionName=function(){return"IsImageGrayscale"};d.get_MaxPercentOfColorPixels=function(){return this._10882};d.set_MaxPercentOfColorPixels=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._10882=b};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(b){a.pv.n(b);0>b&&(b=0);442<b&&(b=442);this._1195=b};d.getParams=function(){var a=b.getParams.call(this);a.maxInaccuracy=this._1195;a.maxPercentOfColorPixels=this._10882;
return a};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};a.extend(za,q);var pa=function(){var b=pa.superclass;b.constructor.call(this);this._9362=this._5312=this._10474=this._9038=this._1836=!0;this._1195=0;this._6711([8,9,24]);var d=pa.prototype;d.get_ActionName=function(){return"GetImageColorDepth"};d.get_DetectBlackWhite=function(){return this._1836};d.set_DetectBlackWhite=function(b){a.pv.b(b);this._1836=b};d.get_DetectGrayscale=function(){return this._9038};d.set_DetectGrayscale=
function(b){a.pv.b(b);this._9038=b};d.get_DetectIndexed1=function(){return this._10474};d.set_DetectIndexed1=function(b){a.pv.b(b);this._10474=b};d.get_DetectIndexed4=function(){return this._5312};d.set_DetectIndexed4=function(b){a.pv.b(b);this._5312=b};d.get_DetectIndexed8=function(){return this._9362};d.set_DetectIndexed8=function(b){a.pv.b(b);this._9362=b};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(b){a.pv.n(b);0>b&&(b=0);442<b&&(b=442);this._1195=b};d.getParams=
function(){var a=b.getParams.call(this);a.detectBlackWhite=this._1836;a.detectGrayscale=this._9038;a.detectIndexed1=this._10474;a.detectIndexed4=this._5312;a.detectIndexed8=this._9362;a.maxInaccuracy=this._1195;return a};d.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)};d._7828=function(d,e,f,g){b._7828.call(this,d,function(b){var d;try{d=a.pv.e(b.pixelFormat,a.WebPixelFormatEnumJS)}catch(f){d=new a.WebPixelFormatEnumJS(0)}b.pixelFormat=d;e&&e(b)},f,g)}};a.extend(pa,w);var Aa=function(){function b(a){a._9067.get_ActionName=
null;a._9067.get_ChangeSource=null;a._9067.set_ChangeSource=null}var d=Aa.superclass;d.constructor.call(this);this._8895=5;this._10647=new x.WebBorderRemovalColorTypeEnumJS(0);this._5081=0;this._8378=new x.WebImageSideEnumJS(15);this._9067=new n;b(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=Aa.prototype;e.get_ActionName=function(){return"GetBorderRect"};e.get_BorderSize=function(){return this._8895};e.set_BorderSize=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);1E3<b&&(b=1E3);this._8895=
b};e.get_BorderColorType=function(){return this._10647};e.set_BorderColorType=function(b){this._10647=a.pv.e(b,x.WebBorderRemovalColorTypeEnumJS)};e.get_MaxBorderNoise=function(){return this._5081};e.set_MaxBorderNoise=function(b){a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._5081=b};e.get_Side=function(){return this._8378};e.set_Side=function(b){this._8378=a.pv.e(b,x.WebImageSideEnumJS)};e.get_Binarization=function(){return this._9067};e.set_Binarization=function(d){a.pv.c(d,n);this._9067=d;b(this)};
e.getParams=function(){var a=d.getParams.call(this);a.borderSize=this._8895;a.borderColorType=this._10647.valueOf();a.maxBorderNoise=this._5081;a.side=this._8378.valueOf();a.binarization=this._9067.getParams();delete a.binarization.changeSource;return a};e.execute=function(a,b,e,f){return d.execute.call(this,a,b,e,f)}};a.extend(Aa,w);var qa=function(){var b=qa.superclass;b.constructor.call(this);this._7116=new x.WebRotateFlipTypeEnumJS(1);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=qa.prototype;
d.get_ActionName=function(){return"Flip"};d.get_RotateFlipType=function(){return this._7116};d.set_RotateFlipType=function(b){this._7116=a.pv.e(b,x.WebRotateFlipTypeEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.rotateFlipType=this._7116.valueOf();return a};d.checkCommandParams=function(a){return 0!==this._7116.valueOf()}};a.extend(qa,l);var ra=function(){var b=ra.superclass;b.constructor.call(this);this._5278=0;this._10647=new x.WebBorderColorTypeEnumJS(0);this._7427="rgba(0,0,0,1)";
this._8934=this._2434=this._1484=!0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=ra.prototype;d.get_ActionName=function(){return"Rotate"};d.get_Angle=function(){return this._5278};d.set_Angle=function(b){a.pv.n(b);0>b&&(b=0);360<b&&(b=360);this._5278=b};d.get_BorderColorType=function(){return this._10647};d.set_BorderColorType=function(b){this._10647=a.pv.e(b,x.WebBorderColorTypeEnumJS)};d.get_BorderColor=function(){return this._7427};d.set_BorderColor=function(b){a.pv.s(b);this._7427=b};d.get_IsAntialiasingEnabled=
function(){return this._8934};d.set_IsAntialiasingEnabled=function(b){a.pv.b(b);this._8934=b};d.getParams=function(){var a=b.getParams.call(this);a.rotationAngle=this._5278;a.borderColorType=this._10647.valueOf();a.borderColor=this._7427;a.isAntialiasingEnabled=this._8934;return a};d.checkCommandParams=function(a){return 0!==this._5278}};a.extend(ra,l);var ta=function(){var b=ta.superclass;b.constructor.call(this);this._4511=0;this._2835="rgba(0,0,0,0)";this._9603=new x.WebImageProcessingDirectionEnumJS(1);
this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=ta.prototype;d.get_ActionName=function(){return"Skew"};d.get_Offset=function(){return this._4511};d.set_Offset=function(b){b=parseInt(b);a.pv.n(b);this._4511=b};d.get_BackColor=function(){return this._2835};d.set_BackColor=function(b){a.pv.s(b);this._2835=b};d.get_Direction=function(){return this._9603};d.set_Direction=function(b){b=a.pv.e(b,x.WebImageProcessingDirectionEnumJS);2<b.valueOf()&&a.pv.te("Direction cannot be horizontal and vertical.");this._9603=
b};d.getParams=function(){var a=b.getParams.call(this);a.offset=this._4511;a.backColor=this._2835;a.direction=this._9603.valueOf();return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&0!==this._4511}};a.extend(ta,s);var ua=function(){var b=ua.superclass;b.constructor.call(this);this._7143="rgba(0,0,0,0)";this._11301=[];this._6711([8,9,16,24,32,33,48,64]);var d=ua.prototype;d.get_ActionName=function(){return"QuadrilateralWarp"};d.get_BackgroundColor=function(){return this._7143};
d.set_BackgroundColor=function(b){a.pv.s(b);this._7143=b};d.get_DestinationPoints=function(){for(var a=[],b=0;b<this._11301.length;b++)a[b]={x:this._11301[b].x,y:this._11301[b].y};return a};d.set_DestinationPoints=function(b){a.pv.ad(b,a.pv.p);3!==b.length&&4!==b.length&&a.pv.te("Array length is not equal 3 or 4.");b=b.slice();3==b.length&&b.push({x:b[2].x+(b[1].x-b[0].x),y:b[1].y+(b[2].y-b[0].y)});if(u._4868._4848(b[0],b[1],b[3],b[2])){this._11301=[];for(var d=0;d<b.length;d++)this._11301[d]={x:b[d].x,
y:b[d].y}}else a.pv.te("The destination points are not convex.")};d.getParams=function(){var a=b.getParams.call(this);a.backgroundColor=this._7143;a.destinationPoints=this._11301;return a};d.checkCommandParams=function(d){4!==this._11301.length&&a.pv.te("DestinationPoints property has wrong value.");return b.checkCommandParams.call(this,d)}};a.extend(ua,s);var va=function(){var b=va.superclass;b.constructor.call(this);this._2835="rgba(0,0,0,0)";this._6367=new a.WebInterpolationModeEnumJS(7);this._1726=
u._4868._3842();this._4243=new u.WebMatrixJS;this._134=!0;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=va.prototype;d.get_ActionName=function(){return"MatrixTransform"};d.get_BackColor=function(){return this._2835};d.set_BackColor=function(b){a.pv.s(b);this._2835=b};d.get_CropRect=function(){return a.cloneObject(this._1726)};d.set_CropRect=function(b,d,e,f){b=null==d?{x:b.x,y:b.y,width:b.width,height:b.height}:{x:b,y:d,width:e,height:f};a.pv.r(b);0>b.x&&(b.x=0);0>b.y&&(b.y=0);0>b.width&&
(b.width=0);0>b.height&&(b.height=0);this._1726=b};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(b){this._6367=a.pv.e(b,a.WebInterpolationModeEnumJS)};d.get_Matrix=function(){return this._4243};d.set_Matrix=function(b){a.pv.c(b,u.WebMatrixJS);this._4243=b};d.get_PreservePixelFormat=function(){return this._134};d.set_PreservePixelFormat=function(b){a.pv.b(b);this._134=b};d.getParams=function(){var a=b.getParams.call(this);a.backColor=this._2835;a.interpolationMode=
this._6367.valueOf();a.cropRect=this._1726;a.matrix=this._4243._3252();a.preservePixelFormat=this._134;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&!this._4243.compareMatrix(new u.WebMatrixJS)}};a.extend(va,l);var wa=function(){var b=wa.superclass;b.constructor.call(this);this._10205=new ga;this._9750=this._7235=1;this._2434=this._1484=!0;var d=wa.prototype;d.get_ActionName=function(){return"ImageScaling"};d.get_SupportedNativePixelFormats=function(){return this._10205.get_SupportedNativePixelFormats()};
d.get_ScaleX=function(){return this._7235};d.set_ScaleX=function(b){a.pv.n(b);0>=b&&a.pv.toe();this._7235=b};d.get_ScaleY=function(){return this._9750};d.set_ScaleY=function(b){a.pv.n(b);0>=b&&a.pv.toe();this._9750=b};d.get_Scale=function(){return this._7235!==this._9750?-1:this._7235};d.set_Scale=function(b){a.pv.n(b);0>=b&&a.pv.toe();this._9750=this._7235=b};d.get_InterpolationMode=function(){return this._10205.get_InterpolationMode()};d.set_InterpolationMode=function(a){this._10205.set_InterpolationMode(a)};
d.getParams=function(){var a=b.getParams.call(this);a.scaleX=this._7235;a.scaleY=this._9750;a.interpolationMode=this._10205._6367.valueOf();return a}};a.extend(wa,s);var sa=function(){var b=sa.superclass;b.constructor.call(this);this._724=new x.WebColorChannelEnumJS(7);var d=sa.prototype;d.get_ColorChannel=function(){return this._724};d.set_ColorChannel=function(b){this._724=a.pv.e(b,x.WebColorChannelEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.colorChannel=this._724.valueOf();return a}};
a.extend(sa,s);var Ma=function(){var b=Ma.superclass;b.constructor.call(this);this._724=new x.WebColorChannelEnumJS(7);this._7297=3;this._9603=new x.WebImageProcessingDirectionEnumJS(3);this._6711([9,24,33]);var d=Ma.prototype;d.get_ColorChannel=function(){return this._724};d.set_ColorChannel=function(b){this._724=a.pv.e(b,x.WebColorChannelEnumJS)};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);0===b%2&&a.pv.te("Value must be odd.");
this._7297=b};d.get_Direction=function(){return this._9603};d.set_Direction=function(b){this._9603=a.pv.e(b,x.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.colorChannel=this._724.valueOf();a.windowSize=this._7297;a.direction=this._9603.valueOf();return a}};a.extend(Ma,sa);var xa=function(){xa.superclass.constructor.call(this);xa.prototype.get_ActionName=function(){return"Minimum"}};a.extend(xa,Ma);var ya=function(){ya.superclass.constructor.call(this);ya.prototype.get_ActionName=
function(){return"Maximum"}};a.extend(ya,Ma);var Ba=function(){Ba.superclass.constructor.call(this);Ba.prototype.get_ActionName=function(){return"MidPoint"}};a.extend(Ba,Ma);var Ca=function(){Ca.superclass.constructor.call(this);Ca.prototype.get_ActionName=function(){return"Mean"}};a.extend(Ca,Ma);var Da=function(){Da.superclass.constructor.call(this);Da.prototype.get_ActionName=function(){return"Median"}};a.extend(Da,Ma);var Ra=function(){var b=Ra.superclass;b.constructor.call(this);this._7297=3;
this._9603=new x.WebImageProcessingDirectionEnumJS(1);this._6711([2,9,24,33]);var d=Ra.prototype;d.get_ActionName=function(){return"Dilate"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);0===b%2&&a.pv.te("Value must be odd.");this._7297=b};d.get_Direction=function(){return this._9603};d.set_Direction=function(b){this._9603=a.pv.e(b,x.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var a=b.getParams.call(this);a.windowSize=
this._7297;a.direction=this._9603.valueOf();return a}};a.extend(Ra,s);var Ea=function(){Ea.superclass.constructor.call(this);Ea.prototype.get_ActionName=function(){return"Erode"}};a.extend(Ea,Ra);var Fa=function(){var b=Fa.superclass;b.constructor.call(this);this._7297=5;this._6711([9,16,24,32,33,48,64]);var d=Fa.prototype;d.get_ActionName=function(){return"Blur"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);255<b&&(b=255);0===b%2&&
a.pv.te("Value must be odd.");this._7297=b};d.getParams=function(){var a=b.getParams.call(this);a.windowSize=this._7297;return a}};a.extend(Fa,sa);var Ga=function(){var b=Ga.superclass;b.constructor.call(this);this._7297=5;this._10399=!1;this._9585=.833;this._6711([9,16,24,32,33,48,64]);var d=Ga.prototype;d.get_ActionName=function(){return"GaussianBlur"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(b){b=parseInt(b);a.pv.n(b);3>b&&(b=3);513<b&&(b=513);0===b%2&&a.pv.te("Value must be odd.");
this._7297=b};d.get_AutoCalculateSigma=function(){return this._10399};d.set_AutoCalculateSigma=function(b){a.pv.b(b);this._10399=b};d.get_Sigma=function(){return this._9585};d.set_Sigma=function(b){a.pv.n(b);.6>b&&(b=.6);2.4<b&&(b=2.4);this._9585=b};d.getParams=function(){var a=b.getParams.call(this);a.windowSize=this._7297;a.autoCalculateSigma=this._10399;a.sigma=this._9585;return a}};a.extend(Ga,sa);var Ha=function(){Ha.superclass.constructor.call(this);this._6711([9,16,24,32,33,48,64]);Ha.prototype.get_ActionName=
function(){return"EdgeDetection"}};a.extend(Ha,sa);var Ia=function(){var b=Ia.superclass;b.constructor.call(this);this._2522=2;this._4438=45;this._6711([9,16,24,32,33,48,64]);var d=Ia.prototype;d.get_ActionName=function(){return"Emboss"};d.get_Depth=function(){return this._2522};d.set_Depth=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);10<b&&(b=10);this._2522=b};d.get_LightDirection=function(){return this._4438};d.set_LightDirection=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);360<b&&(b=360);this._4438=
b};d.getParams=function(){var a=b.getParams.call(this);a.depth=this._2522;a.lightDirection=this._4438;return a}};a.extend(Ia,sa);var Ja=function(){var b=Ja.superclass;b.constructor.call(this);this._7160=1;this._6711([9,16,24,32,33,48,64]);var d=Ja.prototype;d.get_ActionName=function(){return"Sharpen"};d.get_Amount=function(){return this._7160};d.set_Amount=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);10<b&&(b=10);this._7160=b};d.getParams=function(){var a=b.getParams.call(this);a.amount=this._7160;
return a}};a.extend(Ja,sa);var Ka=function(){var b=Ka.superclass;b.constructor.call(this);this._2011=!1;this._7481=!0;this._978=0;this._2177=!1;this._1923=100;this._1610=new x.WebNoiseTypeEnumJS(3);this._586=this._7133=100;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=Ka.prototype;d.get_ActionName=function(){return"AddNoise"};d.get_AutoNoiseGeneration=function(){return this._2011};d.set_AutoNoiseGeneration=function(b){a.pv.b(b);this._2011=b};d.get_AutoSeedPercentageGeneration=function(){return this._7481};
d.set_AutoSeedPercentageGeneration=function(b){a.pv.b(b);this._7481=b};d.get_Mean=function(){return this._978};d.set_Mean=function(b){a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._978=b};d.get_MonochromaticNoise=function(){return this._2177};d.set_MonochromaticNoise=function(b){a.pv.b(b);this._2177=b};d.get_NoisePercentage=function(){return this._1923};d.set_NoisePercentage=function(b){a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._1923=b};d.get_NoiseType=function(){return this._1610};d.set_NoiseType=function(b){this._1610=
a.pv.e(b,x.WebNoiseTypeEnumJS)};d.get_SeedPercentage=function(){return this._7133};d.set_SeedPercentage=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._7133=b};d.get_Variance=function(){return this._586};d.set_Variance=function(b){a.pv.n(b);-1E6>b&&(b=-1E6);1E6<b&&(b=1E6);this._586=b};d.getParams=function(){var a=b.getParams.call(this);a.autoNoiseGeneration=this._2011;a.autoSeedPercentageGeneration=this._7481;a.mean=this._978;a.monochromaticNoise=this._2177;a.noisePercentage=this._1923;
a.noiseType=this._1610.valueOf();a.seedPercentage=this._7133;a.variance=this._586;return a}};a.extend(Ka,sa);var La=function(){var b=La.superclass;b.constructor.call(this);this._9504=3;this._6858=80;this._3336=20;this._6711([9]);var d=La.prototype;d.get_ActionName=function(){return"CannyEdgeDetector"};d.get_BlurRadius=function(){return this._9504};d.set_BlurRadius=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);256<b&&(b=256);this._9504=b};d.get_LowThreshold=function(){return this._3336};d.set_LowThreshold=
function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._3336=b};d.get_HighThreshold=function(){return this._6858};d.set_HighThreshold=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);255<b&&(b=255);this._6858=b};d.getParams=function(){var a=b.getParams.call(this);a.blurRadius=this._9504;a.highThreshold=this._6858;a.lowThreshold=this._3336;return a}};a.extend(La,s);var Oa=function(){var b=Oa.superclass;b.constructor.call(this);this._9306=this._7967=.05;this._6711([24,32,33,48,64]);var d=
Oa.prototype;d.get_ActionName=function(){return"AutoColors"};d.get_LowLimit=function(){return this._7967};d.set_LowLimit=function(b){a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._7967=b};d.get_HighLimit=function(){return this._9306};d.set_HighLimit=function(b){a.pv.n(b);0>b&&(b=0);100<b&&(b=100);this._9306=b};d.getParams=function(){var a=b.getParams.call(this);a.lowLimit=this._7967;a.highLimit=this._9306;return a}};a.extend(Oa,l);var Sa=function(){Sa.superclass.constructor.call(this);Sa.prototype.get_ActionName=
function(){return"AutoContrast"}};a.extend(Sa,Oa);var Ta=function(){Ta.superclass.constructor.call(this);Ta.prototype.get_ActionName=function(){return"AutoLevels"}};a.extend(Ta,Oa);var Ua=function(){var b=Ua.superclass;b.constructor.call(this);this._5494=-25;this._8634=this._4007=25;this._9020=-25;this._10260=2;this._3238=15;this._6711([9,16,24,32,33,48,64]);var d=Ua.prototype;d.get_ActionName=function(){return"BevelEdge"};d.get_BottomBrightness=function(){return this._5494};d.set_BottomBrightness=
function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._5494=b};d.get_TopBrightness=function(){return this._4007};d.set_TopBrightness=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._4007=b};d.get_LeftBrightness=function(){return this._8634};d.set_LeftBrightness=function(b){b=parseInt(b);a.pv.n(b);-100>b&&(b=-100);100<b&&(b=100);this._8634=b};d.get_RightBrightness=function(){return this._9020};d.set_RightBrightness=function(b){b=parseInt(b);a.pv.n(b);-100>
b&&(b=-100);100<b&&(b=100);this._9020=b};d.get_Smoothness=function(){return this._10260};d.set_Smoothness=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);256<b&&(b=256);this._10260=b};d.get_EdgeSize=function(){return this._3238};d.set_EdgeSize=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);this._3238=b};d.getParams=function(){var a=b.getParams.call(this);a.bottomBrightness=this._5494;a.topBrightness=this._4007;a.leftBrightness=this._8634;a.rightBrightness=this._9020;a.smoothness=this._10260;a.edgeSize=
this._3238;return a};d.checkCommandParams=function(a){return b.checkCommandParams.call(this,a)&&!(0===this._5494&&0===this._4007&&0===this._8634&&0===this._9020||0===this._3238)}};a.extend(Ua,s);var Va=function(){var b=Va.superclass;b.constructor.call(this);this._6989="rgba(255,255,255,0)";this._9504=4;this._7394="rgba(0,0,0,1)";this._8638=15;this._4438=45;this._6711([24,32,33,48,64]);var d=Va.prototype;d.get_ActionName=function(){return"DropShadow"};d.get_BackColorOfShadow=function(){return this._6989};
d.set_BackColorOfShadow=function(b){a.pv.s(b);this._6989=b};d.get_BlurRadius=function(){return this._9504};d.set_BlurRadius=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);256<b&&(b=256);this._9504=b};d.get_Color=function(){return this._7394};d.set_Color=function(b){a.pv.s(b);this._7394=b};d.get_Distance=function(){return this._8638};d.set_Distance=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);this._8638=b};d.get_LightDirection=function(){return this._4438};d.set_LightDirection=function(b){b=parseInt(b);
a.pv.n(b);0>b&&(b=0);360<b&&(b=360);this._4438=b};d.getParams=function(){var a=b.getParams.call(this);a.backColorOfShadow=this._6989;a.blurRadius=this._9504;a.color=this._7394;a.distance=this._8638;a.lightDirection=this._4438;return a}};a.extend(Va,s);var Wa=function(){var b=Wa.superclass;b.constructor.call(this);this._2522=4;this._1645=45;this._6711([9,16,24,32,33,48,64]);var d=Wa.prototype;d.get_ActionName=function(){return"MotionBlur"};d.get_Depth=function(){return this._2522};d.set_Depth=function(b){b=
parseInt(b);a.pv.n(b);1>b&&(b=1);10<b&&(b=10);this._2522=b};d.get_MotionDirection=function(){return this._1645};d.set_MotionDirection=function(b){b=parseInt(b);a.pv.n(b);0>b&&(b=0);180<b&&(b=180);this._1645=b};d.getParams=function(){var a=b.getParams.call(this);a.depth=this._2522;a.motionDirection=this._1645;return a}};a.extend(Wa,sa);var Xa=function(){var b=Xa.superclass;b.constructor.call(this);this._10909=5;this._6711([24,32,33,48,64]);var d=Xa.prototype;d.get_ActionName=function(){return"Mosaic"};
d.get_TileSize=function(){return this._10909};d.set_TileSize=function(b){b=parseInt(b);a.pv.n(b);1>b&&(b=1);this._10909=b};d.getParams=function(){var a=b.getParams.call(this);a.tileSize=this._10909;return a}};a.extend(Xa,sa);var Ya=function(){var b=Ya.superclass;b.constructor.call(this);this._4593=50;this._5924=3;this._6711([16,24,32,33,48,64]);var d=Ya.prototype;d.get_ActionName=function(){return"OilPainting"};d.get_Radius=function(){return this._5924};d.set_Radius=function(b){b=parseInt(b);a.pv.n(b);
1>b&&(b=1);64<b&&(b=64);this._5924=b};d.get_IntensityLevel=function(){return this._4593};d.set_IntensityLevel=function(b){b=parseInt(b);a.pv.n(b);3>b&&(b=3);255<b&&(b=255);this._4593=b};d.getParams=function(){var a=b.getParams.call(this);a.radius=this._5924;a.intensityLevel=this._4593;return a}};a.extend(Ya,s);var Za=function(){var b=Za.superclass;b.constructor.call(this);this._6839=5;this._6711([24,32,33,48,64]);var d=Za.prototype;d.get_ActionName=function(){return"Pixelate"};d.get_CellSize=function(){return this._6839};
d.set_CellSize=function(b){b=parseInt(b);a.pv.n(b);2>b&&(b=2);100<b&&(b=100);this._6839=b};d.getParams=function(){var a=b.getParams.call(this);a.cellSize=this._6839;return a}};a.extend(Za,s);var $a=function(){var b=$a.superclass;b.constructor.call(this);this._3170=90;this._6909=70;this._6711([24,32,33,48,64]);var d=$a.prototype;d.get_ActionName=function(){return"RedEyeRemoval"};d.get_Saturation=function(){return this._3170};d.set_Saturation=function(b){b=parseInt(b);a.pv.n(b);50>b&&(b=50);100<b&&
(b=100);this._3170=b};d.get_Tolerance=function(){return this._6909};d.set_Tolerance=function(b){b=parseInt(b);a.pv.n(b);35>b&&(b=35);100<b&&(b=100);this._6909=b};d.getParams=function(){var a=b.getParams.call(this);a.saturation=this._3170;a.tolerance=this._6909;return a}};a.extend($a,s);var ab=function(){ab.superclass.constructor.call(this);this._6711([24,32,33,48,64]);ab.prototype.get_ActionName=function(){return"Sepia"}};a.extend(ab,s);var bb=function(){bb.superclass.constructor.call(this);this._6711([24,
32,33,48,64]);bb.prototype.get_ActionName=function(){return"Solarize"}};a.extend(bb,s);var cb=function(){var b=cb.superclass;b.constructor.call(this);this._3266=8;this._5278=30;this._10909=40;this._6711([24,32,33,48,64]);var d=cb.prototype;d.get_ActionName=function(){return"TileReflection"};d.get_Curvature=function(){return this._3266};d.set_Curvature=function(b){b=parseInt(b);a.pv.n(b);-20>b&&(b=-20);20<b&&(b=20);this._3266=b};d.get_RotationAngle=function(){return this._5278};d.set_RotationAngle=
function(b){b=parseInt(b);a.pv.n(b);-45>b&&(b=-45);45<b&&(b=45);this._5278=b};d.get_TileSize=function(){return this._10909};d.set_TileSize=function(b){b=parseInt(b);a.pv.n(b);2>b&&(b=2);200<b&&(b=200);this._10909=b};d.getParams=function(){var a=b.getParams.call(this);a.curvature=this._3266;a.rotationAngle=this._5278;a.tileSize=this._10909;return a}};a.extend(cb,s);var db=function(){var b=db.superclass;b.constructor.call(this);this._7262=1;this._5924=12;this._7955=new x.WebFrequencyFilterTypeEnumJS(2);
this._2826=new x.WebBlendingModeEnumJS(9);this._2334=!0;this._6711([24,32,33,9]);var d=db.prototype;d.get_ActionName=function(){return"ImageSharpening"};d.get_OverlayAlpha=function(){return this._7262};d.set_OverlayAlpha=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._7262=b};d.get_Radius=function(){return this._5924};d.set_Radius=function(b){a.pv.n(b);0>=b&&a.pv.te("Value must be positive.");this._5924=b};d.get_Filter=function(){return this._7955};d.set_Filter=function(b){this._7955=a.pv.e(b,x.WebFrequencyFilterTypeEnumJS)};
d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(b){this._2826=a.pv.e(b,x.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._2334};d.set_GrayscaleFiltration=function(b){a.pv.b(b);this._2334=b};d.getParams=function(){var a=b.getParams.call(this);a.overlayAlpha=this._7262;a.radius=this._5924;a.filter=this._7955.valueOf();a.blendingMode=this._2826.valueOf();a.grayscaleFiltration=this._2334;return a}};a.extend(db,s);var eb=function(){var b=eb.superclass;
b.constructor.call(this);this._7262=1;this._5924=7;this._7955=new x.WebFrequencyFilterTypeEnumJS(2);this._2826=new x.WebBlendingModeEnumJS(0);this._2334=!1;this._6711([24,32,33,9]);var d=eb.prototype;d.get_ActionName=function(){return"ImageSmoothing"};d.get_OverlayAlpha=function(){return this._7262};d.set_OverlayAlpha=function(b){a.pv.n(b);0>b&&(b=0);1<b&&(b=1);this._7262=b};d.get_Radius=function(){return this._5924};d.set_Radius=function(b){a.pv.n(b);0>=b&&a.pv.te("Value must be positive.");this._5924=
b};d.get_Filter=function(){return this._7955};d.set_Filter=function(b){this._7955=a.pv.e(b,x.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(b){this._2826=a.pv.e(b,x.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._2334};d.set_GrayscaleFiltration=function(b){a.pv.b(b);this._2334=b};d.getParams=function(){var a=b.getParams.call(this);a.overlayAlpha=this._7262;a.radius=this._5924;a.filter=this._7955.valueOf();a.blendingMode=
this._2826.valueOf();a.grayscaleFiltration=this._2334;return a}};a.extend(eb,s);var Pa=function(){var b=Pa.superclass;b.constructor.call(this);this._11082=.08;this._6711([24,32,33,9]);var d=Pa.prototype;d.get_ActionName=function(){a.pv.tne()};d.get_CutoffFrequency=function(){return this._11082};d.set_CutoffFrequency=function(b){a.pv.n(b);0>=b&&a.pv.te("Value must be positive.");this._11082=b};d.getParams=function(){var a=b.getParams.call(this);a.cutoffFrequency=this._11082;return a}};a.extend(Pa,
s);var fb=function(){fb.superclass.constructor.call(this);fb.prototype.get_ActionName=function(){return"IdealHighpass"}};a.extend(fb,Pa);var gb=function(){gb.superclass.constructor.call(this);gb.prototype.get_ActionName=function(){return"GaussianHighpass"}};a.extend(gb,Pa);var hb=function(){var b=hb.superclass;b.constructor.call(this);this._7992=2;var d=hb.prototype;d.get_ActionName=function(){return"ButterworthHighpass"};d.get_Order=function(){return this._7992};d.set_Order=function(b){a.pv.n(b);
0>=b&&a.pv.te("Value must be positive.");this._7992=b};d.getParams=function(){var a=b.getParams.call(this);a.order=this._7992;return a}};a.extend(hb,Pa);var Qa=function(){var b=Qa.superclass;b.constructor.call(this);this._11082=.14;this._6711([24,32,33,9]);var d=Qa.prototype;d.get_ActionName=function(){a.pv.tne()};d.get_CutoffFrequency=function(){return this._11082};d.set_CutoffFrequency=function(b){a.pv.n(b);0>=b&&a.pv.te("Value must be positive.");this._11082=b};d.getParams=function(){var a=b.getParams.call(this);
a.cutoffFrequency=this._11082;return a}};a.extend(Qa,s);var ib=function(){ib.superclass.constructor.call(this);ib.prototype.get_ActionName=function(){return"IdealLowpass"}};a.extend(ib,Qa);var jb=function(){jb.superclass.constructor.call(this);jb.prototype.get_ActionName=function(){return"GaussianLowpass"}};a.extend(jb,Qa);var kb=function(){var b=kb.superclass;b.constructor.call(this);this._7992=2;var d=kb.prototype;d.get_ActionName=function(){return"ButterworthLowpass"};d.get_Order=function(){return this._7992};
d.set_Order=function(b){a.pv.n(b);0>=b&&a.pv.te("Value must be positive.");this._7992=b};d.getParams=function(){var a=b.getParams.call(this);a.order=this._7992;return a}};a.extend(kb,Qa);e.WebColorBaseJS=d;e.WebColorSphereJS=b;e.WebColorReplaceSphereJS=h;e.WebChannelRemapSettings=f;e.WebImageProcessingCommandBaseJS=w;e.WebImageProcessingCommandWithSourceChangeJS=l;e.WebImageProcessingCommandWithRegionJS=q;e.WebImageProcessingCommandWithRegionAndSourceChangeJS=s;e.WebBinarizeCommandJS=n;e.WebChangePixelFormatCommandJS=
N;e.WebChangePixelFormatToBgrCommandJS=X;e.WebChangePixelFormatToBlackWhiteCommandJS=da;e.WebChangePixelFormatToGrayscaleCommandJS=Z;e.WebChangePixelFormatToPaletteCommandJS=T;e.WebClearCommandJS=ea;e.WebCropCommandJS=ha;e.WebResampleCommandJS=ja;e.WebResizeCommandJS=ga;e.WebResizeCanvasCommandJS=ia;e.WebOverlayCommandJS=m;e.WebOverlayMaskedCommandJS=M;e.WebOverlayWithBlendingCommandJS=g;e.WebFillRectangleCommandJS=D;e.WebImageComparisonCommandJS=C;e.WebDrawImageCommandJS=p;e.WebOverlayBinaryCommandJS=
W;e.WebGetBackgroundColorCommandJS=k;e.WebGetBorderColorCommandJS=r;e.WebGetColorCountCommandJS=y;e.WebGetHistogramCommandJS=L;e.WebGetThresholdCommandJS=J;e.WebIsImageBlankCommandJS=ka;e.WebHasCertainColorCommandJS=la;e.WebGetUniqueColorCommandJS=ma;e.WebIsImageBlackWhiteCommandJS=oa;e.WebIsImageGrayscaleCommandJS=za;e.WebGetImageColorDepthCommandJS=pa;e.WebGetBorderRectCommandJS=Aa;e.WebFlipCommandJS=qa;e.WebRotateCommandJS=ra;e.WebSkewCommandJS=ta;e.WebQuadrilateralWarpCommandJS=ua;e.WebMatrixTransformCommandJS=
va;e.WebImageScalingCommandJS=wa;e.WebChangeBrightnessCommandJS=A;e.WebChangeBrightnessContrastCommandJS=v;e.WebChangeContrastCommandJS=t;e.WebChangeGammaCommandJS=B;e.WebChangeHSLCommandJS=H;e.WebColorBlendCommandJS=E;e.WebColorBlend16CommandJS=G;e.WebCurvesCommandJS=ba;e.WebCurves16CommandJS=V;e.WebDesaturateCommandJS=F;e.WebGetAlphaChannelMaskCommandJS=K;e.WebHalftoneCommandJS=I;e.WebInvertCommandJS=P;e.WebLevelsCommandJS=O;e.WebPosterizeCommandJS=Y;e.WebRemapColorsCommandJS=S;e.WebRemapColors16CommandJS=
aa;e.WebReplaceColorCommandJS=U;e.WebSetAlphaChannelMaskCommandJS=R;e.WebSetAlphaChannelValueCommandJS=ca;e.WebMinimumCommandJS=xa;e.WebMaximumCommandJS=ya;e.WebMidPointCommandJS=Ba;e.WebMeanCommandJS=Ca;e.WebMedianCommandJS=Da;e.WebDilateCommandJS=Ra;e.WebErodeCommandJS=Ea;e.WebBlurCommandJS=Fa;e.WebGaussianBlurCommandJS=Ga;e.WebEdgeDetectionCommandJS=Ha;e.WebEmbossCommandJS=Ia;e.WebSharpenCommandJS=Ja;e.WebAddNoiseCommandJS=Ka;e.WebCannyEdgeDetectorCommandJS=La;e.WebAutoColorsCommandJS=Oa;e.WebAutoContrastCommandJS=
Sa;e.WebAutoLevelsCommandJS=Ta;e.WebBevelEdgeCommandJS=Ua;e.WebDropShadowCommandJS=Va;e.WebMotionBlurCommandJS=Wa;e.WebMosaicCommandJS=Xa;e.WebOilPaintingCommandJS=Ya;e.WebPixelateCommandJS=Za;e.WebRedEyeRemovalCommandJS=$a;e.WebSepiaCommandJS=ab;e.WebSolarizeCommandJS=bb;e.WebTileReflectionCommandJS=cb;e.WebImageSharpeningCommandJS=db;e.WebImageSmoothingCommandJS=eb;e.WebIdealHighpassCommandJS=fb;e.WebGaussianHighpassCommandJS=gb;e.WebButterworthHighpassCommandJS=hb;e.WebIdealLowpassCommandJS=ib;
e.WebGaussianLowpassCommandJS=jb;e.WebButterworthLowpassCommandJS=kb})(w.ImageProcessing);w.WebBmpCompressionEnumJS=a.EnumGenerator.create([{None:0},{RLE:1}],!1);w.WebPngFilterMethodEnumJS=a.EnumGenerator.create([{None:0},{Sub:1},{Up:2},{Average:3},{Paeth:4},{Adaptive:5},{Auto:31}],!1);w.WebGifCreatePageMethodEnumJS=a.EnumGenerator.create([{UseOnlyGlobalPalette:0},{UseGlobalOrLocalPalette:1}],!1);w.WebJpeg2000CompressionTypeEnumJS=a.EnumGenerator.create([{Lossless:0},{Lossy:0}],!1);w.WebTiffCompressionEnumJS=
a.EnumGenerator.create([{Auto:0},{None:1},{CcittRle:2},{CcittGroup3:3},{CcittGroup4:4},{Lzw:5},{OldJpeg:6},{Jpeg:7},{Zip:8},{"Packbits ":32773},{"Jpeg2000 ":34712},{NikonNef:34713}],!1);w.WebPdfImageCompressionEnumJS=a.EnumGenerator.create([{None:0},{CcittFax:1},{Lzw:2},{Jpeg:4},{Zip:8},{Jbig2:16},{Jpeg2000:32},{Auto:1024}],!1);w.WebPdfDocumentConformanceEnumJS=a.EnumGenerator.create([{Undefined:0},{PdfA_1a:1},{PdfA_1b:2},{PdfA_2a:4},{PdfA_2b:8},{PdfA_2u:16},{PdfA_3a:32},{PdfA_3b:64},{PdfA_3u:128}],
!1);w.WebSvgEmbeddedImageEncoderEnumJS=a.EnumGenerator.create([{PNG:0},{JPEG:1}],!1);var P=function(){var e=P.prototype;e.get_Name=function(){if(null!=this._9951)return this._9951;a.pv.tne()};e.toObject=function(){return this._7393()};e._7393=function(){a.pv.tne()}},Ba=function(){Ba.superclass.constructor.call(this);Ba.prototype._7393=function(){return{}};this._9951="Pcx"};a.extend(Ba,P);var mb=function(){Ba.superclass.constructor.call(this);var e=mb.prototype;e.get_DetectDuplicatePaths=function(){return this._3112};
e.set_DetectDuplicatePaths=function(d){a.pv.b(d);this._3112=d};e._7393=function(){return{}};this._9951="Svg";this._3112=!0;this._4626=new w.WebSvgEmbeddedImageEncoderEnumJS(0)};a.extend(mb,P);var Ia=function(){Ia.superclass.constructor.call(this);var e=Ia.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){this._11414=a.pv.e(d,w.WebBmpCompressionEnumJS)};e.clone=function(){var a=new this.constructor;a._11414=new w.WebBmpCompressionEnumJS(this._11414.valueOf());
return a};e._7393=function(){return{compression:this._11414.valueOf()}};this._9951="Bmp";this._11414=new w.WebBmpCompressionEnumJS(1)};a.extend(Ia,P);var Y=function(e,d){Y.superclass.constructor.call(this);var b=Y.prototype;b.get_CompressionLevel=function(){return this._2507};b.set_CompressionLevel=function(b){a.pv.n(b);0>b&&(b=0);9<b&&(b=9);this._2507=b};b.get_FilterMethod=function(){return this._8235};b.set_FilterMethod=function(b){this._8235=a.pv.e(b,w.WebPngFilterMethodEnumJS)};b.clone=function(){var a=
new this.constructor;a._2507=this._2507;a._8235=new w.WebPngFilterMethodEnumJS(this._8235.valueOf());return a};b._7393=function(){return{compressionLevel:this._2507,filterMethod:this._8235.valueOf()}};this._9951="Png";this._2507=6;this._8235=new w.WebPngFilterMethodEnumJS(31);null!=d&&this.set_CompressionLevel(d);null!=e&&this.set_FilterMethod(e)};a.extend(Y,P);Y.bestSpeed=function(){return new Y(0,1)};Y.fast=function(){return new Y(31,4)};Y.normal=function(){return new Y};Y.bestCompression=function(){return new Y(31,
8)};var oa=function(e){oa.superclass.constructor.call(this);var d=oa.prototype;d.get_Quality=function(){return this._6927};d.set_Quality=function(b){a.pv.n(b);b!==this._6927&&(1>b&&(b=1),100<b&&(b=100),this._6927=b)};d.get_SaveAsGrayscale=function(){return this._1722};d.set_SaveAsGrayscale=function(b){a.pv.b(b);this._1722=b};d.clone=function(){var a=new this.constructor;a._6927=this._6927;a._1722=this._1722;return a};d._7393=function(){return{quality:this._6927,saveAsGrayscale:this._1722}};null==
e&&(e=70);a.pv.n(e);this._6927=e;this._1722=!1;this._9951="Jpeg"};a.extend(oa,P);var Ja=function(){Ja.superclass.constructor.call(this);var e=Ja.prototype;e.get_NumberOfAnimationCycles=function(){return this._8886};e.set_NumberOfAnimationCycles=function(d){a.pv.n(d);(0>d||65535<d)&&a.pv.toe();this._8886=d};e.get_AnimationDelay=function(){return this._7281};e.set_AnimationDelay=function(d){a.pv.n(d);(0>d||65535<d)&&a.pv.toe();this._7281=d};e.get_InfiniteAnimation=function(){return this._8137};e.set_InfiniteAnimation=
function(d){a.pv.b(d);this._8137=d;this._8886=0};e.get_CreatePageMethod=function(){return this._1483};e.set_CreatePageMethod=function(d){this._1483=a.pv.e(d,w.WebGifCreatePageMethodEnumJS)};e.clone=function(){var a=new this.constructor;a._8137=this._8137;a._8886=this._8886;a._7281=this._7281;a._1483=new w.WebGifCreatePageMethodEnumJS(this._1483.valueOf());return a};e._7393=function(){return{infiniteAnimation:this._8137,numberOfAnimationCycles:this._8886,animationDelay:this._7281,createPageMethod:this._1483.valueOf()}};
this._8137=!1;this._7281=this._8886=0;this._1483=new w.WebGifCreatePageMethodEnumJS(1);this._9951="Gif"};a.extend(Ja,P);var pa=function(){pa.superclass.constructor.call(this);var e=pa.prototype;e.get_TileHeight=function(){return this._4129};e.set_TileHeight=function(d){a.pv.n(d);0>d&&a.pv.toe();this._4129=d};e.get_TileWidth=function(){return this._8665};e.set_TileWidth=function(d){a.pv.n(d);0>d&&a.pv.toe();this._8665=d};e.get_WaveletLevels=function(){return this._4024};e.set_WaveletLevels=function(d){a.pv.n(d);
(0>d||32<d)&&a.pv.toe();this._4024=d};e.get_CompressionType=function(){return this._10048};e.set_CompressionType=function(d){this._10048=a.pv.e(d,w.WebJpeg2000CompressionTypeEnumJS)};e.get_CompressionRatio=function(){return this._9531};e.set_CompressionRatio=function(d){a.pv.n(d);1>d&&a.pv.toe();this._9531=d};e.get_FileSize=function(){return this._4858};e.set_FileSize=function(d){a.pv.n(d);this._4858=d};e.clone=function(){var a=new this.constructor;a._8665=this._8665;a._4129=this._4129;a._4024=this._4024;
a._10048=new w.WebJpeg2000CompressionTypeEnumJS(this._10048.valueOf());a._9531=this._9531;a._4858=this._4858;return a};e._7393=function(){return{tileWidth:this._8665,tileHeight:this._4129,waveletLevels:this._4024,compressionType:this._10048.valueOf(),compressionRatio:this._9531,fileSize:this._4858}};this._9951="Jpeg2000";this._4129=this._8665=0;this._4024=5;this._10048=new w.WebJpeg2000CompressionTypeEnumJS(0);this._9531=20;this._4858=0};a.extend(pa,P);var wa=function(){wa.superclass.constructor.call(this);
var e=wa.prototype;e.get_UseMmr=function(){return this._4247};e.set_UseMmr=function(d){a.pv.b(d);this._4247=d};e.get_Lossy=function(){return this._5830};e.set_Lossy=function(d){a.pv.b(d);this._5830=d};e.get_Inaccuracy=function(){return this._10398};e.set_Inaccuracy=function(d){a.pv.n(d);(0>d||100<d)&&a.pv.toe();this._10398=d};e.get_UseSymbolDictionary=function(){return this._8227};e.set_UseSymbolDictionary=function(d){a.pv.b(d);this._8227=d};e.get_SymbolDictionarySize=function(){return this._3617};
e.set_SymbolDictionarySize=function(d){a.pv.n(d);10>d&&a.pv.toe();this._3617=d};e.clone=function(){var a=new this.constructor;a._4247=this._4247;a._5830=this._5830;a._10398=this._10398;a._8227=this._8227;a._3617=this._3617;return a};e._7393=function(){return{useMmr:this._4247,lossy:this._5830,inaccuracy:this._10398,useSymbolDictionary:this._8227,symbolDictionarySize:this._3617}};this._9951="Jbig2";this._5830=this._4247=!1;this._10398=50;this._8227=!0;this._3617=6500};a.extend(wa,P);var Ka=function(){Ka.superclass.constructor.call(this);
var e=Ka.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){d=a.pv.e(d,w.WebTiffCompressionEnumJS);switch(d.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;default:a.pv.te("Compression '"+d.toString()+"' is not supported.")}this._11414=d};e.get_UsePredictor=function(){return this._247};e.set_UsePredictor=function(d){a.pv.b(d);this._247=d};e.get_JpegSettings=function(){return this._3413};e.set_JpegSettings=function(d){a.pv.c(d,oa);this._3413=
d};e.get_JpegQuality=function(){return this._3413.get_Quality()};e.set_JpegQuality=function(a){this._3413.get_Quality(a)};e.get_SaveAsGrayscale=function(){return this._3413.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(a){this._3413.set_SaveAsGrayscale(a)};e.get_ZipLevel=function(){return this._7422};e.set_ZipLevel=function(d){a.pv.n(d);0>d&&(d=0);9<d&&(d=9);this._7422=d};e.get_Jpeg2000Settings=function(){return this._7921};e.set_Jpeg2000Settings=function(d){a.pv.c(d,pa);this._7921=d};e.get_BinarizationCommand=
function(){return this._5696};e.set_BinarizationCommand=function(d){a.pv.c(d,ta.WebChangePixelFormatToBlackWhiteCommandJS);this._5696=d};e.clone=function(){var a=new this.constructor;a._11414=new w.WebTiffCompressionEnumJS(this._11414.valueOf());a._247=this._247;a._3413=this._3413.clone();var b=new ta.WebChangePixelFormatToBlackWhiteCommandJS,e=this._5696;b._2482=new x.WebBinarizationModeEnumJS(e._2482.valueOf);b._6915=e._6915;b._8542=e._8542;b._8951=e._8951;b._10053=e._10053;b._11=e._11;b._4342=
e._4342;b._9620=new x.WebLuminanceComputationModeEnumJS(e._9620.valueOf());a._5696=b;a._7422=this._7422;a._7921=this._7921.clone();return a};e._7393=function(){return{compression:this._11414.valueOf(),usePredictor:this._247,jpegSettings:this._3413._7393(),binarizarionCommand:this._5696.getParams(),zipLevel:this._7422,jpeg2000Settings:this._7921._7393()}};this._9951="Tiff";this._11414=new w.WebTiffCompressionEnumJS(0);this._247=!0;this._3413=new oa;this._5696=new ta.WebChangePixelFormatToBlackWhiteCommandJS;
this._7422=6;this._7921=new pa};a.extend(Ka,P);var La=function(){La.superclass.constructor.call(this);var e=La.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){this._11414=a.pv.e(d,w.WebPdfImageCompressionEnumJS)};e.get_Conformance=function(){return this._1059};e.set_Conformance=function(d){d=a.pv.e(d,w.WebPdfDocumentConformanceEnumJS);switch(d.valueOf()){case 0:case 2:case 8:case 64:break;default:a.pv.te("Conformance to '"+d.toString()+"' is not supported now.")}this._1059=
d};e.get_JpegSettings=function(){return this._3413};e.set_JpegSettings=function(d){a.pv.c(d,oa);this._3413=d};e.get_JpegQuality=function(){return this._3413.get_Quality()};e.set_JpegQuality=function(a){this._3413.get_Quality(a)};e.get_SaveAsGrayscale=function(){return this._3413.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(a){this._3413.set_SaveAsGrayscale(a)};e.get_BinarizationCommand=function(){return this._5696};e.set_BinarizationCommand=function(d){a.pv.c(d,ta.WebChangePixelFormatToBlackWhiteCommandJS);
this._5696=d};e.get_Jbig2UseGlobals=function(){return this._3930};e.set_Jbig2UseGlobals=function(d){a.pv.b(d);this._3930=d};e.get_Jbig2Settings=function(){return this._6159};e.set_Jbig2Settings=function(d){a.pv.c(d,wa);this._6159=d};e.get_Jpeg2000Settings=function(){return this._7921};e.set_Jpeg2000Settings=function(d){a.pv.c(d,pa);this._7921=d};e.get_ZipLevel=function(){return this._7422};e.set_ZipLevel=function(d){a.pv.n(d);0>d&&(d=0);9<d&&(d=9);this._7422=d};e.get_GenerateAnnotationAppearance=
function(){return this._4200};e.set_GenerateAnnotationAppearance=function(d){a.pv.b(d);this._4200=d};e.clone=function(){var a=new this.constructor;a._11414=new w.WebPdfImageCompressionEnumJS(this._11414.valueOf());a._1059=new w.WebPdfDocumentConformanceEnumJS(this._1059.valueOf());a._3413=this._3413.clone();a._7921=this._7921.clone();var b=new ta.WebChangePixelFormatToBlackWhiteCommandJS,e=this._5696;b._2482=new x.WebBinarizationModeEnumJS(e._2482.valueOf);b._6915=e._6915;b._8542=e._8542;b._8951=
e._8951;b._10053=e._10053;b._11=e._11;b._4342=e._4342;b._9620=new x.WebLuminanceComputationModeEnumJS(e._9620.valueOf());a._5696=b;a._3930=this._3930;a._6159=this._6159;a._7422=this._7422;a._4200=this._4200;return a};e._7393=function(){return{compression:this._11414.valueOf(),conformance:this._1059.valueOf(),jpegSettings:this._3413._7393(),jpeg2000Settings:this._7921._7393(),binarizarionCommand:this._5696.getParams(),jbig2UseGlobals:this._3930,jbig2Settings:this._6159._7393(),zipLevel:this._7422,
generateAnnotationAppearance:this._4200}};this._9951="Pdf";this._11414=new w.WebPdfImageCompressionEnumJS(1024);this._1059=new w.WebPdfDocumentConformanceEnumJS(0);this._3413=new oa;this._5696=new ta.WebChangePixelFormatToBlackWhiteCommandJS;this._3930=!0;this._6159=new wa;this._7921=new pa;this._7422=6;this._4200=!1};a.extend(La,P);a.WebServiceJS.defaultConverterService=-1;var vb=function(e,d){var b=vb.prototype;b.started=function(a){};b.progress=function(a,b){};b.finished=function(a,b){};b.get_IsStarted=
function(){return this._9280};b.get_IsActive=function(){return this._8291()};b.get_ConvertationStatus=function(){return this._2968};b.convertFileTo=function(b,d,e){(this._9280||this._8291())&&a.pv.te("The image file converter already has active image file converting process or already sent the request.");var l=b.fileId,q=b.encoderSettings,s=b.password;b=b.renderingSettings;a.pv.c(q,P);a.pv.s(l);null!=s&&a.pv.s(s);null!=b&&a.pv.c(b,a.WebRenderingSettingsJS);var n;try{n=q.get_Name()}catch(u){a.pv.te("Unsupported encoder settings.")}n=
"ConvertFileTo"+n;var l={fileId:l},q=q.toObject(),v=!0,t;for(t in q){v=!1;break}v||(l.settings=q);null!=b&&(l.renderingSettings=b.toObject());null!=s&&(l.password=s);var w=this,s=new a.WebRequestJS(n,function(a,b,e){w._4694=a.processId;delete a.processId;w._9280=!1;$(w).triggerHandler("started");setTimeout(function(){w._1150()},w._6716);d&&d(a,b,e)},function(a,b,d){w._9280=!1;e&&e(a,b,d)},{data:l});this._2968=null;this._9280=!0;return this._2107.sendRequest(s)};b.abortConverting=function(b,d){this._8291()||
a.pv.te("The active image file converting process does not exist.");var e=new a.WebRequestJS("AbortConverting",b,d,{data:{processId:this._4694}});return this._2107.sendRequest(e)};b._1150=function(){var b=this,d=new a.WebRequestJS("GetConvertingStatus",function(a){a=a.status;b._2968=a;var d=a.description;"Finished"===d||"Aborted"===d?(b._4694=null,$(b).triggerHandler("finished",a)):($(b).triggerHandler("progress",a),setTimeout(function(){b._1150()},b._6716))},function(a){b._4694=null;$(b).triggerHandler("finished",
b._2968)},{data:{processId:this._4694}});return this._2107.sendRequest(d)};b._8291=function(){return null!=this._4694};null==e&&(e=300);null==d&&(d=a.WebServiceJS.defaultConverterService);a.pv.c(d,a.WebServiceJS);a.pv.n(e);this._2107=d;this._6716=e;this._9280=!1;this._2968=this._4694=null;delete b.started;delete b.progress;delete b.finished};w.WebImageEncoderSettingsJS=P;w.WebPcxEncoderSettingsJS=Ba;w.WebBmpEncoderSettingsJS=Ia;w.WebPngEncoderSettingsJS=Y;w.WebJpegEncoderSettingsJS=oa;w.WebGifEncoderSettingsJS=
Ja;w.WebJpeg2000EncoderSettingsJS=pa;w.WebJbig2EncoderSettingsJS=wa;w.WebTiffEncoderSettingsJS=Ka;w.WebPdfEncoderSettingsJS=La;w.WebSvgEncoderSettingsJS=mb;w.WebImageConverterJS=vb})(ca.Imaging)})(Vintasoft);
