// Copyright 2014-2020 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(Q){if(void 0==Q.Shared)throw Error("Vintasoft.Shared is not found.");if("1.7.0.3"!==Q.version)throw Error("Wrong version of Vintasoft.Shared script.");var b=Q.Shared,n=Q.Imaging={};n.version="9.1.2.3";n.engine="html5";var p=Q.Imaging.Utils={},oa=Q.Imaging.ImageProcessing={},xa=Q.Imaging.UI={},ob=Q.Imaging.UI.VisualTools={};(function(v){function la(e){null==e&&(e=b.WebServiceJS.defaultFileService);b.pv.c(e,b.WebServiceJS,"Please specify correct file service OR define the default file service.");
return e}(function(e){var d=function(h,f,y,l,t,q){var e=d.prototype;e.get_m11=function(){return this._1231};e.set_m11=function(h){b.pv.n(h);this._1231=h};e.get_m12=function(){return this._5728};e.set_m12=function(h){b.pv.n(h);this._5728=h};e.get_m21=function(){return this._216};e.set_m21=function(h){b.pv.n(h);this._216=h};e.get_m22=function(){return this._7827};e.set_m22=function(h){b.pv.n(h);this._7827=h};e.get_offsetx=function(){return this._2505};e.set_offsetx=function(h){b.pv.n(h);this._2505=
h};e.get_offsety=function(){return this._11357};e.set_offsety=function(h){b.pv.n(h);this._11357=h};e.determinant=function(){return this._1231*this._7827-this._5728*this._216};e.invert=function(){var b=1/this.determinant(),b=new d(this._7827*b,-this._5728*b,-this._216*b,this._1231*b,(this._216*this._11357-this._2505*this._7827)*b,(this._5728*this._2505-this._11357*this._1231)*b);this.setMatrix(b);return this};e.transformVector=function(b){b={x:b.x,y:b.y};this.multiplyVector(b);return b};e.transformPoint=
function(b){b={x:b.x,y:b.y};this.multiplyPoint(b);return b};e.transformPoints=function(b){for(var h=0;h<b.length;h++)this.multiplyPoint(b[h])};e.transformRectangle=function(b){var h=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y+b.height}];this.transformPoints(h);b.x=h[0].x;b.y=h[0].y;b.width=h[1].x-h[0].x;b.height=h[1].y-h[0].y};e.multiplyVector=function(b){var h=b.y*this._216,f=b.x*this._5728;b.x*=this._1231;b.x+=h;b.y*=this._7827;b.y+=f};e.multiplyPoint=function(b){var h=b.y*this._216+this._2505,f=b.x*this._5728+
this._11357;b.x*=this._1231;b.x+=h;b.y*=this._7827;b.y+=f};e.rotate=function(b,h){var f=0,y=0;null!=h&&(f=h.x,y=h.y);f=d.multiplyMatrix(this,d._3039(a._10670(b%360),f,y));this.setMatrix(f)};e.rotatePrepend=function(b,h){var f=0,y=0;null!=h&&(f=h.x,y=h.y);f=d.multiplyMatrix(d._3039(a._10670(b%360),f,y),this);this.setMatrix(f)};e.setMatrix=function(b){this._1231=b._1231;this._5728=b._5728;this._216=b._216;this._7827=b._7827;this._2505=b._2505;this._11357=b._11357};e.translate=function(b,h){var f=new d(this._1231,
this._5728,this._216,this._7827,this._2505+b,this._11357+h);this.setMatrix(f)};e.translatePrepend=function(b,h){var f=d.multiplyMatrix(d._10386(b,h),this);this.setMatrix(f)};e.scale=function(b,h){var f=d.multiplyMatrix(this,d._1090(b,h));this.setMatrix(f)};e.scalePrepend=function(b,h){var f=d.multiplyMatrix(d._1090(b,h),this);this.setMatrix(f)};e.compareMatrix=function(b){return this._1231==b._1231&&this._5728==b._5728&&this._216==b._216&&this._7827==b._7827&&this._2505==b._2505&&this._11357==b._11357};
e._3252=function(){return{m11:this._1231,m12:this._5728,m21:this._216,m22:this._7827,offsetx:this._2505,offsety:this._11357}};null!=h?(this._1231=+h,this._5728=+f,this._216=+y,this._7827=+l,this._2505=+t,this._11357=+q):(this._1231=1,this._216=this._5728=0,this._7827=1,this._11357=this._2505=0)};d.multiplyMatrix=function(b,f){return new d(b._1231*f._1231+b._5728*f._216,b._1231*f._5728+b._5728*f._7827,b._216*f._1231+b._7827*f._216,b._216*f._5728+b._7827*f._7827,b._2505*f._1231+b._11357*f._216+f._2505,
b._2505*f._5728+b._11357*f._7827+f._11357)};d._6691=function(b){var f=new d;f.setMatrix(b);return f};d._1090=function(b,f){return new d(b,0,0,f,0,0)};d._3039=function(b,f,a){null==f&&(a=f=0);var l=Math.sin(b);b=Math.cos(b);if(1===l||-1===l)b=0;if(1===b||-1===b)l=0;return new d(b,l,-l,b,f*(1-b)+a*l,a*(1-b)-f*l)};d._10386=function(b,f){return new d(1,0,0,1,b,f)};WebImageCacheManagerJS=function(){function h(b,h){var f="";null==h&&(h=b.get_RenderingSettings());var a=h.gsi(b);if(null!=a&&!a.isEmpty()&&
a.iai(b)){var y=a.get_Resolution(),l=a.get_InterpolationMode(),d=a.get_SmoothingMode(),f=f+("Rs"+y.x+","+y.y+","+l.valueOf()+","+d.valueOf());"Pdf"===a.get_Type()&&(a.get_DrawNonMarkupAnnotations()||(f+="P0"))}return f}function f(b,h){var f="";null==h&&(h=b.get_DecodingSettings());null!=h&&h.get_IsColorManagementEnabled()&&(f+="Cm");return f}function a(b,h,f,y){null==b._3332[h]&&(b._3332[h]={});b._3332[h][f]=y}function l(h,f){for(;f>h._250;){var a=h._1151();if(null!=a){var y=h._272(a.data);h._10477(a.iKey,
a.cKey);f-=y}else b.pv.te("Error")}}function d(b,h,f){var a=!0;if(null!=b[h]){delete b[h][f];for(var y in b[h]){a=!1;break}a&&delete b[h]}}var e=WebImageCacheManagerJS.prototype;e.get_MaxCacheSize=function(){return this._250};e.set_MaxCacheSize=function(h){b.pv.n(h);0>h&&b.pv.te("Size must be positive.");if(this._250!==h){var f=this._250;this._250=h;if(0===h)this._3332={};else{if(0===f){h=Date.now();for(var d in this._1916)for(var t in this._1916[d])a(this,d,t,h)}d=this.get_CacheSize();l(this,d)}}};
e.get_CacheSize=function(){var b=0;if(null!=this._1916)for(var h in this._1916)b+=this._7543(h);return b};e.addImageData=function(h,f,d){null==d&&b.pv.te("Data can not be null.");this.containsImageData(h,f)&&b.pv.te("Cache manager already contains data with specified key.");h=h.get_Guid();var t=!1;if(0!=this._250){var e=this._272(d);e<=this._250&&(t=this.get_CacheSize(),l(this,t+e),t=!0,a(this,h,f,Date.now()))}else t=!0;t&&(null==this._1916[h]&&(this._1916[h]={}),this._1916[h][f]=d)};e.containsImageData=
function(h,f){b.pv.c(h,b.WebImageJS);b.pv.s(f);var a=h.get_Guid();return null!=this._1916[a]?null!=this._1916[a][f]:!1};e.getImageData=function(h,f){b.pv.c(h,b.WebImageJS);b.pv.s(f);var l=h.get_Guid();if(null!=this._1916[l]){var d=this._1916[l][f];null!=d&&0!==this._250&&a(this,l,f,Date.now());return d}};e.clear=function(){this._1916={};this._3332={}};e.contains=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();return null!=this._1916[h]};e.clearImageCache=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();
null!=this._1916[h]&&delete this._1916[h];null!=this._3332[h]&&delete this._3332[h]};e._1547=function(b,a,y,l,d,t){b="tlL"+b.x+","+b.y;b+="S"+y.x+","+y.y+"Sz"+a.width+","+a.height;b+=h(l,d);return b+=f(l,t)};e._10109=function(b,a,y,l,d){b="thS"+b+","+a+h(y,l);return b+=f(y,d)};e._10477=function(b,h){d(this._1916,b,h);d(this._3332,b,h)};e._7543=function(b){var h=0;if(null!=this._1916[b])for(var f in this._1916[b])h+=this._272(this._1916[b][f]);return h};e._272=function(b){return 2*b.length};e._1151=
function(){if(null!=this._3332){var b=Date.now(),h,f;for(f in this._3332){var a=this._5688(f);null!=a&&b>a.date&&(b=a.date,h=a)}return h}};e._5688=function(b){if(null!=this._3332[b]){var h=Date.now(),f="",a;for(a in this._3332[b]){var y=this._3332[b][a];y<h&&(h=y,f=a)}return{data:this._1916[b][f],iKey:b,cKey:f,date:h}}};this._2936=b.WebImagingEnviromentJS.guid();this._1916={};this._3332={};this._250=64E3};var a=function(){};a._10682=-3.402823E38;a._3593=function(b,f,a){if(0===a)return b;a=-a*Math.PI/
180;var l=Math.sin(a);a=Math.cos(a);var d=b.x-f.x;b=b.y-f.y;return{x:d*a+b*l+f.x,y:-d*l+b*a+f.y}};a._7714=function(b,f,a){if(0!=a){a*=-Math.PI/180;var l=Math.sin(a);a=Math.cos(a);for(var d,e,u=0;u<b.length;u++)d=b[u].x-f.x,e=b[u].y-f.y,b[u].x=d*a+e*l+f.x,b[u].y=-d*l+e*a+f.y}};a._10670=function(b){return Math.PI/180*b};a._7241=function(b){return b/Math.PI*180};a._384=function(b,f,a){for(var l=0;l<b.length;l++)b[l].x*=f,b[l].y*=a};a._11380=function(b,f){return Math.sqrt((b.x-f.x)*(b.x-f.x)+(b.y-f.y)*
(b.y-f.y))};a._478=function(b,f,y){null==f&&(f=0);null==y&&(y=b.length-1);for(var l=0;f<y;f++)l+=a._11380(b[f],b[f+1]);return l};a._1121=function(b,f){for(var a=0;a<b.length;a++)b[a].x+=f.x,b[a].y+=f.y};a._1979=function(b,f,a){b=Math.atan2(f.y-b.y,f.x-b.x)-Math.atan2(a.y-f.y,a.x-f.x);return Math.abs(180-Math.abs(180/Math.PI*b))};a._3686=function(b,f,a){b=Math.atan2(b.x-f.x,b.y-f.y);for(b=180*(a?1:0)+180-180*b/Math.PI;360<b;)b-=360;for(;0>b;)b+=360;return b};a._4781=function(b){for(;360<=b;)b-=360;
for(;0>b;)b+=360;return b};a._4331=function(h){(-360>=h||360<=h)&&b.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(h)-180))};a._1575=function(b){for(;0>b;)b+=360;for(;360<b;)b-=360;360==b&&(b=0);return b};a._1806=function(b,f){var a=0,l=0,d=f.x-b.x,e=f.y-b.y;0==d||0==e?0==d?l=0>e?-1:1:a=0>d?-1:1:(c=Math.sqrt(d*d+e*e),a=d/c,l=e/c);return{x:a,y:l}};a._2591=function(b,f){f=Math.asin(Math.max(-1,Math.min(1,0*b.x-1*b.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*b.x+1*b.y)));f=0<=f?beta:
2*Math.PI-beta;var a=Math.cos(f),l=Math.sin(f);return{x:a,y:l}};a._3952=function(b,f,a){return{x:b.x+f.x*a,y:b.y+f.y*a}};a._4468=function(b,f,a){var l=f.x-b.x,d=f.y-b.y;f=a.x-b.x;b=a.y-b.y;var e=Math.sqrt(l*l+d*d);a=Math.sqrt(f*f+b*b);if(.01>e||.01>a)return 0;l/=e;d/=e;f/=a;a=b/a;b=Math.asin(Math.max(-1,Math.min(1,l*a-f*d)));f=Math.acos(Math.max(-1,Math.min(1,l*f+d*a)));return 0<=b?f:2*Math.PI-f};a._6951=function(b,f,a){return{x:b.x+a*(f.x-b.x),y:b.y+a*(f.y-b.y)}};a._5439=function(b,f,d){d=a._8929(b,
f,d);var l=a._11380(b,d),e=a._11380(f,d),q=a._11380(b,f);return l<=q&&e<=q?d:l<e?b:f};a._8929=function(b,f,a){if(b.x==f.x)return f=b.x,b=a.y,{x:f,y:b};if(b.y==f.y)return f=a.x,b=b.y,{x:f,y:b};var l=(f.y-b.y)/(f.x-b.x);f=(a.x/l+a.y-(-l*b.x+b.y))/(l+1/l);b=-1/l*(f-a.x)+a.y;return{x:f,y:b}};a._5214=function(b,f){var d=f.y-b.y;if(0==d)return 0;var l=f.x-b.x;return 0==l?90:0<d?a._7241(Math.atan2(d,l)):a._7241(Math.atan2(-d,-l))};a._9928=function(b,f){var a=Math.asin(Math.max(-1,Math.min(1,b.x*f.y-f.x*
b.y))),l=Math.acos(Math.max(-1,Math.min(1,b.x*f.x+b.y*f.y)));return 0<=a?l:2*Math.PI-l};a._8122=function(b,f,a,l){return{x:(b.x+f.x+a.x+l.x)/4,y:(b.y+f.y+a.y+l.y)/4}};a._8105=function(b){return{x:b.x+b.width/2,y:b.y+b.height/2}};a._11170=function(b){if(0==b.length)return a._3842();for(var f=b[0].x,d=f,l=b[0].y,e=l,q=1;q<b.length;q++){var u=b[q].x,da=b[q].y;f>u?f=u:d<u&&(d=u);l>da?l=da:e<da&&(e=da)}return{x:f,y:l,width:d-f,height:e-l}};a._10815=function(b){b=a._11170(b);return a._8105(b)};a._8999=
function(b){return[{x:b.x,y:b.y},{x:b.x,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height},{x:b.x+b.width,y:b.y}]};a._9909=function(b,f){for(var a=[],l=0,d=b.length;l<d-1*!f;l++){var e=[b[l-1],b[l],b[l+1],b[l+2]];f?l?d-2==l?e[3]=b[0]:d-1==l&&(e[2]=b[0],e[3]=b[1]):e[0]=b[d-1]:d-2==l?e[3]=e[2]:l||(e[0]=b[l]);a.push([{x:(-e[0].x+6*e[1].x+e[2].x)/6,y:(-e[0].y+6*e[1].y+e[2].y)/6},{x:(e[1].x+6*e[2].x-e[3].x)/6,y:(e[1].y+6*e[2].y-e[3].y)/6},{x:e[2].x,y:e[2].y}])}return a};a._2100=function(b){var f=b.y-Math.floor(b.y);
return{x:Math.floor(b.x),y:Math.floor(b.y),width:parseInt(b.width+1+(b.x-Math.floor(b.x))),height:parseInt(b.height+1+f)}};a._3187=function(b,f){var a=Math.max(b.x,f.x),l=Math.min(b.x+b.width,f.x+f.width),d=Math.max(b.y,f.y),e=Math.min(b.y+b.height,f.y+f.height);return l>=a&&e>=d};a._6314=function(b,f){var d=Math.max(b.x,f.x),l=Math.min(b.x+b.width,f.x+f.width),e=Math.max(b.y,f.y),q=Math.min(b.y+b.height,f.y+f.height);return l>=d&&q>=e?{x:d,y:e,width:l-d,height:q-e}:a._3842()};a._385=function(b,f){var a=
Math.min(b.x,f.x),l=Math.max(b.x+b.width,f.x+f.width),d=Math.min(b.y,f.y),e=Math.max(b.y+b.height,f.y+f.height);return{x:a,y:d,width:l-a,height:e-d}};a._6514=function(b,f,d){b=a._8999(b);a._7714(b,d,f);return b};a._9123=function(b,f){return b==f?0:b<f?-1:1};a._2470=function(b,f,d,l,e,q){var u=[],da=[],p=a._11380(b,f)+a._11380(f,d)+a._11380(d,l),s=!1;null==q?q=e:(s=!0,e*=e);p=q/p;q*=q;u.push(b);da.push(0);for(var x,B=b,z=0;1>z;){var F,D=z+p;for(1<D&&(D=1);;)if(F=a._6965(b,f,d,l,D),x=a._6784(B,F),x<=
q){if(!s)break;if(x>=e||1<=D)break;else D+=(D-z)/2}else D=z+(D-z)/2;u.push(F);da.push(D);B=F;z=D}return{points:u,times:da}};a._8594=function(b,f,d){for(var l=[],e=0;e<f.length;e++)for(var q=a._2470(b[e],f[e][0],f[e][1],f[e][2],d).points,u=0;u<q.length;u++)l.push(q[u]);return l};a._6965=function(b,f,a,d,e){return{x:(1-e)*(1-e)*(1-e)*b.x+3*e*(1-e)*(1-e)*f.x+3*e*e*(1-e)*a.x+e*e*e*d.x,y:(1-e)*(1-e)*(1-e)*b.y+3*e*(1-e)*(1-e)*f.y+3*e*e*(1-e)*a.y+e*e*e*d.y}};a._3842=function(){return{x:0,y:0,width:0,height:0}};
a._11395=function(b){return 0===b.x&&0===b.y&&0===b.width&&0===b.height};a._1709=function(b){return 0===b.x&&0===b.y};a._9182=function(b){return 0===b.width&&0===b.height};a._464=function(b,f){return b===f?!0:b.x===f.x&&b.y===f.y&&b.width===f.width&&b.height===f.height};a._1094=function(b){var f=Math.min(b.x,b.x+b.width),a=Math.min(b.y,b.y+b.height),d=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);return{x:f,y:a,width:d-f,height:b-a}};a._3443=function(b,f,d){for(var l=0;l<f.length-1;l++){var e=
a._5439(f[l],f[l+1],b);if(a._11380(b,e)<=d)return!0}return!1};a._6784=function(b,f){var a=b.x-f.x,d=b.y-f.y;return a*a+d*d};a._8046=function(b,f,d){var l=360-a._7241(a._4468(f,b,d));b=a._11380(b,f);b+=a._11380(f,d);return 180<=l?-b:b};a._10726=function(b,f){return{x:(b.x+f.x)/2,y:(b.y+f.y)/2}};a._8049=function(b,f,d,l){var e=a._10726(b,f),q=a._5214(b,f);b=a._3593(b,e,-q);f=a._3593(f,e,-q);var u=b.x,da=b.y;b=f.x;f=f.y;var p=Math.sqrt(Math.pow(u-b,2)+Math.pow(da-f,2));if(0===p||p>d+d)return{x:0,y:0};
d/=p;var s=Math.sqrt(d*d-.25);d=u+.5*(b-u);p=da+.5*(f-da);da=(da-f)*s;u=(u-b)*s;l=l?{x:d+da,y:p+u}:{x:d-da,y:p-u};return l=a._3593(l,e,q)};a._4946=function(b){var f=[];if(0<b.length){f.push(b[0]);for(var a=1;a<b.length;a++)b[a].x==b[a-1].x&&b[a].y==b[a-1].y||f.push(b[a]);1!=f.length&&f[0].x==f[f.length-1].x&&f[0].y==f[f.length-1].y&&f.splice(f.length-1,1)}return f};a._1752=function(b){var f=0;if(2<b.length){for(var d=b[0],l,e,q=1;q<b.length;q++)l=b[q],e=q==b.length-1?b[0]:b[q+1],f+=a._8046(d,l,e),
d=l;f+=a._8046(d,b[0],b[1])}return 0<=f};a._2548=function(b){if(4>b.length)return b;for(var f=1,d=[],e=0;e<b.length;e++)d.push(0);for(var t=b[0].x,q=b[0].y,u=0,e=1;e<b.length;e++){var p=b[e].y;if(q<p||q==p&&t<b[e].x)t=b[e].x,q=p,u=e}t=b[u];q=[];for(e=0;e<b.length;e++)q.push(0);for(var n=0,s=3,u=t,x={x:u.x+1,y:u.y},B,z;;){B=u.x-x.x;z=u.y-x.y;for(var F=B*B+z*z,e=0;e<b.length;e++)if(0==d[e]){var D=b[e].x,p=b[e].y;B=u.x-D;z=u.y-p;var G=B*B+z*z;B=x.x-D;z=x.y-p;p=(F+G-(B*B+z*z))/Math.sqrt(F*G);p<s?(s=p,
n=1,q[0]=e):p==s&&(q[n++]=e)}if(1<n)for(p=q[n-1],x=a._6784(u,b[p]),e=n-2;0<=e;e--)n=a._6784(u,b[q[e]]),n>x&&(x=n,p=q[e]);else p=q[0];x=u;u=b[p];if(u.x==t.x&&u.y==t.y)break;d[p]=f;f++;n=0;s=3}f=[];f[0]=t;for(e=0;e<b.length;e++)0!=d[e]&&(f[d[e]]=b[e]);return f};a._4848=function(b,f,d,e){b=[b,f,d,e];f=a._2548(b);if(4!=f.length)return!1;for(d=0;d<f.length;d++)if(b[0].x===f[d].x&&b[0].y===f[d].y){for(e=0;4>e;e++,d=3==d?0:d+1)if(b[e].x!==f[d].x||b[e].y!==f[d].y)return!1;break}return!0};a._7498=function(b,
f,d,e,t){return a._996(d,b,f,t)||a._996(d,e,f,t)};a._996=function(b,f,a,d){var e=(d.x-f.x)*(b.y-f.y)+(d.y-f.y)*(f.x-b.x);f=(d.x-a.x)*(f.y-a.y)+(d.y-a.y)*(a.x-f.x);b=(d.x-b.x)*(a.y-b.y)+(d.y-b.y)*(b.x-a.x);return 0>e&&0>f&&0>b||0<e&&0<f&&0<b||e<Number.EPSILON&&f<Number.EPSILON&&b<Number.EPSILON};a._1997=function(b,f,a){return(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<=f*f};a._10449=function(b,f){return f.x>=b.x&&f.x<=b.x+b.width&&f.y>=b.y&&f.y<=b.y+b.height};a._8799=function(b,f,d){if(0==d.width||0==
d.height)return f;var e;e=d.width/2;d=d.height/2;b=a._10670(b%360);b=Math.atan2(e*Math.sin(b),d*Math.cos(b));e*=Math.cos(b);d*=Math.sin(b);return{x:e+f.x,y:d+f.y}};a._4396=function(b,f){var a=b.length,d,e,q=!1;d=0;for(e=a-1;d<a;e=d++)b[d].y>f.y!=b[e].y>f.y&&f.x<(b[e].x-b[d].x)*(f.y-b[d].y)/(b[e].y-b[d].y)+b[d].x&&(q=!q);return q};a._9244=function(b,f){return a._3108({x:b.x,y:b.y},f)||a._3108({x:b.x+b.width,y:b.y},f)||a._3108({x:b.x,y:b.y+b.height},f)||a._3108({x:b.x+b.width,y:b.y+b.height},f)||a._3879(b,
f[0],f[1])||a._3879(b,f[2],f[3])||a._3879(b,f[0],f[3])||a._3879(b,f[1],f[2])?!0:!1};a._3879=function(b,f,d){var e=Math.min(b.x,b.x+b.width),t=Math.min(b.y,b.y+b.height),q=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);f={x:f.x,y:f.y};d={x:d.x,y:d.y};var u,p,n,s;u=a._10764(f,e,t,q,b);for(p=a._10764(d,e,t,q,b);0!=u||0!=p;){if(0!=(u&p))return!1;0!=u?(n=u,s=f):(n=p,s=d);0!=(n&1)?(s.y+=(f.y-d.y)*(e-s.x)/(f.x-d.x),s.x=e):0!=(n&2)&&(s.y+=(f.y-d.y)*(q-s.x)/(f.x-d.x),s.x=q);0!=(n&4)?(s.x+=(f.x-d.x)*
(t-s.y)/(f.y-d.y),s.y=t):0!=(n&8)&&(s.x+=(f.x-d.x)*(b-s.y)/(f.y-d.y),s.y=b);0!=u?f=s:d=s;n==u?u=a._10764(f,e,t,q,b):p=a._10764(d,e,t,q,b)}return!0};a._10764=function(b,f,a,d,e){return(b.x<f?1:0)+(b.x>d?2:0)+(b.y<a?4:0)+(b.y>e?8:0)};a._5425=function(b,f){var d=b[1],e=b[3],t=a._6784(b[0],b[2]),d=a._6784(d,e);return Math.abs(t-d)<Math.max(t,d)*f};a._7251=function(b){b=a._2548(b);if(2>=b.length)return b;for(var f=[],d=Number.MAX_VALUE,e=0;e<b.length;e++){for(var t=b[e],q=e<b.length-1?b[e+1]:b[0],q=a._5471(t,
q,b),t=q[0],q=q[1],u={x:0,y:0},p=0,n=0;n<b.length;n++){var s=a._11380(b[n],a._8929(t,q,b[n]));s>p&&(u=b[n],p=s)}p*=a._11380(t,q);p<d&&(f[0]=t,f[1]=q,d=p,p=a._3952(u,a._1806(t,q),1),f[2]=a._8929(u,p,q),f[3]=a._8929(u,p,t))}return f};a._8931=function(b){for(var f=b[0][3],d=b[0][2],e=a._3952(f,a._1806(f,d),1E5),t={x:0,y:0},q={x:0,y:0},u,p=Number.MAX_VALUE,n=0,s,x=0;x<b.length;x++)for(var B=b[x],z=0;z<B.length;z++)u=a._8929(f,d,B[z]),s=a._6784(e,u),s>n&&(n=s,t=u),s<p&&(p=s,q=u);f=b[0][0];d=b[b.length-
1][1];x=a._8929(f,d,t);f=a._8929(f,d,q);t=[x,f,q,t];if(a._5425(t,1E-4))return t;q=[];for(x=0;x<b.length;x++)q=q.concat(b[x]);b=a._7251(q);return 4!=b.length?t:[b[0],b[3],b[2],b[1]]};a._3108=function(b,f){return a._7498(f[0],f[1],f[3],f[2],b)};a._5471=function(b,f,d){for(var e=a._8929(b,f,d[0]),t=a._7220(b,f,b,e),q={x:e.x,y:e.y},u=t,p=1;p<d.length;p++){var n=a._8929(b,f,d[p]),s=a._7220(b,f,b,n);s<t&&(t=s,e=n);s>u&&(u=s,q=n)}return[e,q]};a._7220=function(b,f,d,e){var t=a._11380(d,e);b=a._1806(b,f);
d=a._1806(d,e);a._1232(b,d)>Math.PI/2&&(t=-t);return t};a._1232=function(b,f){var a=b.x*f.x+b.y*f.y;1<a?a=1:-1>a&&(a=-1);return Math.acos(a)};a._746=function(a){for(var f=[],d=0;d<a.length;d++)f.push(b.cloneObject(a[d]));return f};a._9711=function(b,f,a){if(b===f)return!0;if(b.length!==f.length)return!1;null==a&&(a=function(b,f){return b===f});for(var d=0;d<b.length;d++)if(!a(b[d],f[d]))return!1;return!0};e.WebMatrixJS=d;e.WebImageCacheManagerJS=WebImageCacheManagerJS;e._4868=a})(v.Utils);v.WebBorderColorTypeEnumJS=
b.EnumGenerator.create([{AutoDetect:0},{Black:1},{White:2},{Transparent:3},{Custom:4}],!1);v.WebRotateFlipTypeEnumJS=b.EnumGenerator.create([{RotateNoneFlipNone:0},{RotateNoneFlipX:1},{RotateNoneFlipY:2},{RotateNoneFlipXY:3},{Rotate90FlipNone:4},{Rotate90FlipX:5},{Rotate90FlipY:6},{Rotate90FlipXY:7},{Rotate180FlipNone:8},{Rotate180FlipX:9},{Rotate180FlipY:10},{Rotate180FlipXY:11},{Rotate270FlipNone:12},{Rotate270FlipX:13},{Rotate270FlipY:14},{Rotate270FlipXY:15}],!1);v.WebBinarizationModeEnumJS=b.EnumGenerator.create([{Threshold:0},
{Global:1},{Adaptive:2},{Halftone:3}],!1);v.WebBorderRemovalColorTypeEnumJS=b.EnumGenerator.create([{Auto:0},{Black:1},{White:2},{DetectBorderColorForEachSide:3}],!1);v.WebImageSideEnumJS=b.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Top:4},{Bottom:8},{All:15}],!0);v.WebImageProcessingDirectionEnumJS=b.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!0);v.WebColorChannelEnumJS=b.EnumGenerator.create([{R:1},{G:2},{B:4},{RGB:7},{A:8},{RGBA:15}],!0);v.WebLuminanceComputationModeEnumJS=b.EnumGenerator.create([{Standard:0},
{Sum:1}],!1);v.WebDesaturateMethodEnumJS=b.EnumGenerator.create([{Lightness:0},{Luminosity:1},{Average:2}],!1);v.WebImageSizeModeEnumJS=b.EnumGenerator.create([{FitToWidth:0},{FitToHeight:1},{BestFit:2},{Zoom:3},{Normal:4},{PixelToPixel:5}],!1);v.WebThumbnailFlowStyleEnumJS=b.EnumGenerator.create([{SingleColumn:1},{SingleRow:2},{WrappedRows:3},{FixedColumns:4}],!1);v.WebThumbnailScaleEnumJS=b.EnumGenerator.create([{Smallest:50},{Small:75},{Normal:100},{Large:150}],!1);v.WebPaletteTypeEnumJS=b.EnumGenerator.create([{Adaptive:0},
{Web:1}],!1);v.WebColorQuantizationMethodEnumJS=b.EnumGenerator.create([{FastPopularity:0},{AdvancedPopularity:1},{FastMedianCut:2},{AdvancedMedianCut:3}],!1);v.WebNoiseTypeEnumJS=b.EnumGenerator.create([{Perlin:0},{NegativeExponential:1},{Rayleigh:2},{Uniform:3},{Gaussian:4}],!1);v.WebBlendingModeEnumJS=b.EnumGenerator.create([{Normal:0},{Multiply:1},{Screen:2},{Overlay:3},{Darken:4},{Lighten:5},{ColorDodge:6},{ColorBurn:7},{HardLight:8},{SoftLight:9},{Difference:10},{Exclusion:11},{Hue:12},{Saturation:13},
{Color:14},{Luminosity:15},{Brightness:32},{Contrast:33},{Gamma:34},{Min:35},{Max:36},{Sum:37},{Sub:38},{Division:39}],!1);v.WebColorSpaceTypeEnumJS=b.EnumGenerator.create([{Unsupported:0},{Gray:1},{sRGB:2},{CMYK:3},{CMY:4},{CIELab:5},{CIEXYZ:6},{CIEYxy:7},{CIELUV:8},{PCSLab:9},{PCSXYZ:10},{YCbCrK:11},{YCbCr:12},{HSV:13},{HLS:14}],!1);v.WebHistogramTypeEnumJS=b.EnumGenerator.create([{Luminosity:1},{Red:2},{Green:4},{Blue:8},{Rgb:14},{All:15}],!0);v.WebColorBaseJSTypeEnumJS=b.EnumGenerator.create([{Indexed:0},
{Gray16:1},{RGB555:2},{RGB565:3},{RGB24:4},{ARGB32:5},{RGB48:6},{ARGB64:7}],!1);v.WebFrequencyFilterTypeEnumJS=b.EnumGenerator.create([{Ideal:0},{Butterworth:1},{Gaussian:2}],!1);v.WebImageLayoutDirectionEnumJS=b.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!1);v.WebImageViewerDisplayModeEnumJS=b.EnumGenerator.create([{SinglePage:1},{SingleContinuousColumn:2},{SingleContinuousRow:3},{TwoColumns:4},{TwoRows:5},{TwoContinuousColumns:6},{TwoContinuousRows:7},{ThreeColumns:8},{ThreeRows:9},{ThreeContinuousColumns:10},
{ThreeContinuousRows:11},{Custom:12}],!1);v.WebImageViewerMultipageDisplayModeEnumJS=b.EnumGenerator.create([{AllImages:1},{FixedImages:2}],!1);v.WebImageAnchorTypeEnumJS=b.EnumGenerator.create([{None:0},{Top:1},{Bottom:2},{Left:4},{Right:8},{Center:15},{TopLeft:5},{TopRight:9},{BottomLeft:6},{BottomRight:10}],!0);v.WebImageCompareOperatorEnumJS=b.EnumGenerator.create([{Difference:0},{AvgDifference:1},{MaxDifference:2},{MinDifference:3}],!1);v.WebOverlayBinaryOperationTypeEnumJS=b.EnumGenerator.create([{Replace:0},
{OR:1},{AND:2},{XOR:4},{ORSourceNOT:65},{OROverlayNOT:129},{ORSourceNOTOverlayNOT:193},{ANDSourceNOT:66},{ANDOverlayNOT:130},{ANDSourceNOTOverlayNOT:194},{XORSourceNOT:68},{XOROverlayNOT:132},{XORSourceNOTOverlayNOT:196},{SourceNOT:64},{OverlayNOT:128}],!0);v.WebMouseButtonsEnumJS=b.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Middle:4},{Fourth:8},{Fifth:16}],!0);v.WebTextSelectionModeEnumJS=b.EnumGenerator.create([{Rectangle:0},{UseFullLines:1}],!1);v.WebTextSearchModeEnumJS=b.EnumGenerator.create([{CurrentPage:0},
{AllPages:1}],!1);var pb=function(e){function d(b){var f=b._frame.contentDocument||b._frame.contentWindow.document,d=f.body,e=d.style;e.margin=0;e.padding=0;e.width="100%";e.height="100%";for(e=0;e<b._4893.length;e++){var h=f.createElement("img");h.id=b._4893[e].get_Guid();var y=h.style;y.maxWidth="100%";y.maxHeight="100%";y.margin=0;y.padding=0;y.width="auto";y.height="auto";h.onload=function(){for(var f=this.id,d=0;d<b._4893.length;d++)b._4893[d].get_Guid()===f&&console.log("Loaded for #",d);a(b)};
d.appendChild(h);e<b._4893.length-1&&(h=f.createElement("p"),h.style.pageBreakAfter="always",h.style.margin=0,h.className="pageBreak",d.appendChild(h))}b._initializationFinished=!0;$(b).triggerHandler("_4456")}function a(b){b._ready++;b._ready===b._4893.length&&($(b).triggerHandler("beginPrint"),b._aborted||(b._frame.contentWindow.focus(),b._frame.contentWindow.print()),setTimeout(function(){$(b._frame).remove()},6E3),$(b).triggerHandler("endPrint"))}var h=pb.prototype;h.imagesPreparationFailed=function(b,
f){};h.imagePrepared=function(b){};h.beginPrint=function(b){};h.endPrint=function(b){};h._4456=function(b){};h.print=function(){function b(){for(var a=0;a<f._4893.length&&!f._aborted;a++){var d=f._2953(a);null!=d&&f._6475.push(d)}}var f=this;if(f._4456)b();else $(f).one("_4456",b)};h.abort=function(){this._6510()};h._2953=function(b){var f=this;return this._4893[b].getImageAsBase64String(function(b){f._7784(b.image.get_Guid(),b.fileId)},function(b){if("abort"!==b.statusText)if(null!=b.errorMessage)f._6510(b.errorMessage);
else{var a;b.responseJSON&&(a=b.responseJSON.ExceptionMessage);f._6510(a)}})};h._6510=function(b){this._aborted=!0;for(var f=0;f<this._6475.length;f++){var a=this._6475[f].object;1!==a.readyState&&2!==a.readyState||a.abort()}this._6475=[];$(this._frame).remove();null!=b&&$(this).triggerHandler("imagesPreparationFailed",b)};h._7784=function(b,f){$(this).triggerHandler("imagePrepared");if(!this._aborted){var a=$(this._frame).contents().find("#"+b)[0];null!=a&&(a.src=f)}};b.pv.ac(e,b.WebImageJS);var f=
this;f._4893=e;f._ready=0;f._frame=null;f._aborted=!1;f._initializationFinished=!1;f._6475=[];e=document.createElement("iframe");e.id=b.WebImagingEnviromentJS.guid();e.src="";f._frame=e;var y=e.style;y.position="absolute";y.width=1;y.height=1;y.margin=0;y.left="-1000px";y.top="-1000px";document.body.appendChild(e);setTimeout(function(){d(f)},0);delete h.imagesPreparationFailed;delete h.imagePrepared;delete h.beginPrint;delete h.endPrint;delete h._4456};b.WebServiceJS.defaultFileService=-1;VintasoftFileAPI=
function(){};VintasoftFileAPI.uploadImageFile=function(e,d,a,h){h=la(h);b.pv.c(e,File);var f=new FormData;f.append("file",e);e=new b.WebRequestJS("UploadImageFile",d,a,{contentType:!1,processData:!1,data:f});return h.sendRequest(e)};VintasoftFileAPI.uploadImageFiles=function(e,d,a,h){h=la(h);b.pv.ac(e,File);for(var f=new FormData,y=0;y<e.length;y++)f.append("files",e[y]);e=new b.WebRequestJS("UploadImageFiles",d,a,{contentType:!1,processData:!1,data:f});return h.sendRequest(e)};VintasoftFileAPI.uploadBase64Image=
function(e,d,a,h,f){var y;b.pv.isf(d)?(y=d,f=h,d=null):(y=a,a=h);f=la(f);b.pv.s(e);null!=d&&b.pv.s(d);""===d&&(d=null);e={imageAsBase64String:e};null!=d&&(e.fileName=d);d=new b.WebRequestJS("UploadBase64Image",y,a,{data:e});return f.sendRequest(d)};VintasoftFileAPI.uploadBase64Images=function(e,d,a,h,f){var y;b.pv.isf(d)?(y=d,f=h,d=null):(y=a,a=h);f=la(f);b.pv.ad(e,b.pv.s);null!=d&&b.pv.s(d);""===d&&(d=null);e={imagesAsBase64Strings:e};null!=d&&(e.fileName=d);d=new b.WebRequestJS("UploadBase64Images",
y,a,{data:e});return f.sendRequest(d)};VintasoftFileAPI.downloadImageFile=function(e,d,a,h){h=la(h);b.pv.iss(e)?e={id:e,password:""}:(void 0==e.id&&b.pv.te("fileId.id parameter cannot be undefined"),b.pv.iss(e.id)||b.pv.te("fileId.id parameter must be a string"));var f=e.id.split("/").pop();null==f&&(f=e.id);var y=new XMLHttpRequest;y.onload=function(b){b=this.response;if(200==this.status){var e=this.getAllResponseHeaders(),h=f,e=e.match(/filename=(.+);/);null!=e&&2<=e.length&&(h=e[1]);d&&d({blob:b,
filename:h,xmlHttpRequest:this})}else 500==this.status&&(h=this.statusText,""===h?(h=new FileReader,$(h).on("loadend",function(b){a&&a({errorMessage:this.result})}),h.readAsText(b)):a&&a({errorMessage:h}))};y.onerror=a;e={fileId:e.id,password:e.password,sessionId:Q.Shared.WebImagingEnviromentJS.get_SessionId()};var l=h.get_ServiceRoute();b.pv.ic(h,b.WebServiceControllerJS)?(y.open("POST",l+"/DownloadImageFile",!0),y.setRequestHeader("Content-type","application/json"),e=JSON.stringify(e)):(y.open("POST",
l,!0),y.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e="action=DownloadImageFile&requestParams="+JSON.stringify(e));y.responseType="arraybuffer";y.responseType="blob";return y.send(e)};VintasoftFileAPI.copyFile=function(e,d,a,h){h=la(h);b.pv.s(e);e=new b.WebRequestJS("CopyFile",d,a,{data:{fileId:e}});return h.sendRequest(e)};VintasoftFileAPI.authenticateFile=function(e,d,a,h,f){f=la(f);b.pv.s(e,d);d=new b.WebRequestJS("AuthenticateFile",function(b){b.fileId=e;a&&a(b)},function(b){b.fileId=
e;h&&h(b)},{data:{fileId:e,password:d}});return f.sendRequest(d)};var mb=function(e,d){var a=mb.prototype;a.get_BackgroundStyle=function(){return this._5329};a.get_BorderStyle=function(){return this._1098};a.equals=function(a){return this===a?!0:b.pv.ic(a,mb)?a._1098===this._1098&&a._5329===this._5329:!1};a._6876=function(){var b="background:"+this._5329+";",b=b+("border:"+this._1098+";"),b=b+("margin-left:-"+this._8895+"px;"),b=b+("margin-top:-"+this._8895+"px;");return b+="box-sizing: content-box;-webkit-box-sizing: content-box;"};
b.pv.s(e,d);this._5329=e;this._1098=d;this._8895=function(b){b=b.split(" ");for(var f,a=0;a<b.length;a++)if(f=parseInt(b[a]),!isNaN(f))return 0<f?f:0;if(isNaN(f))return 0}(this._1098)},ya=function(e,d,a){var h=ya.prototype;h.changed=function(b){};h.get_BackColor=function(){return this._2835};h.set_BackColor=function(f){b.pv.s(f);this._2835!==f&&(this._2835=f,this._4073())};h.get_BorderColor=function(){return this._7427};h.set_BorderColor=function(f){b.pv.s(f);this._7427!==f&&(this._7427=f,this._4073())};
h.get_BorderWidth=function(){return this._1920};h.set_BorderWidth=function(f){b.pv.n(f);0>f&&b.pv.toe();this._1920!==f&&(this._1920=f,this._4073())};h.equals=function(f){return b.pv.ic(f,ya)?this._2835===f._2835&&this._7427===f._7427&&this._1920===f._1920&&this._1098===f._1098:!1};h.clone=function(){return new ya(this._2835,this._7427,this._1920,this._1098)};h._4073=function(b){$(this._7010).triggerHandler("changed",b);$(this).triggerHandler("changed",b)};this._2835="rgba(255,255,255,0)";this._7427=
"rgba(0,0,0,1)";this._1920=0;this._1098="solid";this._7010={};null!=e&&(b.pv.s(e,d),this._2835=e,this._7427=d,b.pv.n(a),0>a&&b.pv.toe(),this._1920=a);delete h.changed},za=function(e,d){var a=za.prototype;a.get_ActionSource=function(){return this._9963};a.get_IsValid=function(){return!0};a.get_Source=function(){return this._4542};a.get_SourceItems=function(){return null};a.get_CurrentState=function(){return this._7370};a.set_CurrentState=function(b){this._7370=b};a.dispose=function(){null!=this._7370&&
b.pv.isf(this._7370.dispose)&&this._7370.dispose()};a.toString=function(){return null==this._4542?"":null==this._9963?this._4542.toString()+" (original)":this._4542.toString()+": "+this._9963};a.undo=function(){b.pv.tne()};a._8718=function(b){this._4542=b};a._11105=function(b,f){if(null!=this._7924)for(var a=Math.min(b.length,f.length),d=0;d<a;d++)this._9453(b[d],f[d])};a._9453=function(b,f){};a._5956=function(b){this._7370=b};this._9963=d;this._4542=e;this._7924=this._7370=null;this._2936=b.WebImagingEnviromentJS.guid()},
ha=function(b){var d=ha.superclass;d.constructor.call(this,null,b);b=ha.prototype;b.toString=function(){return null==this._9963?d.toString.call(this):this._9963.toString()};b.undo=function(){}};b.extend(ha,za);var E=function(e){var d=E.superclass;d.constructor.call(this,e);var a=E.prototype;a.get_IsValid=function(){if(0==this._4634.length)return!0;for(var b=0;b<this._4634.length;b++)if(this._4634[b].get_IsValid())return!0;return!1};a.getActions=function(){this._479();return this._4634};a.dispose=
function(){d.dispose.call(this);for(var b=0;b<this._4634.length;b++)this._4634[b].dispose()};a.toString=function(){return null!=this._9963?this._9963.toString():d.toString.call(this)};a.undo=function(){};a._7189=function(a){this._479();if(null==a){if(0!==this._4634.length)return a=this._4634[this._4634.length-1],b.pv.ic(a,E)&&(a=a._7189()),a}else for(var f=this._4634.length-1;0<=f;f--)if(b.pv.ic(this._4634[f],E)){var d=this._4634[f]._7189(a);if(null!=d)return d}else if(this._4634[f]._4542==a)return this._4634[f]};
a._11194=function(b,f){this._479();if(0<this._4634.length){var a=this._4634[this._4634.length-1];if(a._4542==b._4542&&null!=f){var d=f.clone();a._5956(d)}}null!=b&&null==b._7370&&null!=b._4542&&(d=b._4542.clone(),b._5956(d));this._4634.push(b)};a._1399=function(a){this._479();for(var f=0;f<this._4634.length;f++)if(b.pv.ic(this._4634[f],E)){if(this._4634[f]._1399(a))return!0}else if(this._4634[f]==a)return!0;return!1};a._5224=function(){var a=[];this._479();for(var f=0;f<this._4634.length;f++)b.pv.ic(this._4634[f],
E)?a.addRange(this._4634[f]._5224()):a.push(this._4634[f]);return a};a._479=function(){for(var b=this._4634.length-1;0<=b;b--)this._4634[b].get_IsValid()||this._4634.splice(b,1)};this._4634=[];this._9963=e;this._4542=null};b.extend(E,za);var ma=function(){function e(a,d){for(var f=0;f<a._4634.length;f++){var y=a._4634[f];if(y===d||b.pv.ic(y,E)&&e(y,d))return!0}return!1}var d=ma.prototype;d.changing=function(b,d){};d.changed=function(b,d){};d.navigated=function(b,d){};d.get_IsInitializing=function(){return 0!=
this._387};d.get_IsCompositeActionStarted=function(){return 0!==this._757.length};d.get_IsEnabled=function(){return this._3461};d.set_IsEnabled=function(a){b.pv.b(a);(this._3461=a)&&this._479()};d.get_UndoLevel=function(){return this._1889-1};d.set_UndoLevel=function(a){b.pv.n(a);1>a&&b.pv.te("Undo level cannot be less than 1.");a+=1;if(this._1889>a){var d=Math.min(this._1889,this._4634.length)-a;if(0<d){var f=this._1780,e=[],l=[];if(0<this._4634.length-this._1780){for(var t=Math.min(this._4634.length-
this._1780-1,d),q=this._4634.length-t,u=0;u<t;u++)l.push(q+u),e.push(this._4634[q+u]);d-=t}if(0<d){for(u=0;u<d;u++)l.push(u),e.push(this._4634[u]);f-=d}d={type:"removeActions",actions:e.slice()};this._7926(d);for(u=l.length-1;0<=u;u--)q=l[u],this._4634[q].dispose(),this._4634.splice(q,1);this._1780=f;f={type:"removeActions",actions:e.slice()};this._6110(f)}}this._1889=a};d.get_UndoCount=function(){var b=this.get_CurrentActionIndex();return 1>b?0:b};d.get_UndoDescription=function(){var b=this.get_CurrentActionIndex();
return 0==this.get_UndoCount()||-1==b?"":this._4634[b].toString()};d.get_RedoCount=function(){this._479();return this._4634.length-this._1780-1};d.get_RedoDescription=function(){var b=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||-1==b?"":this._4634[b+1].toString()};d.get_CurrentActionIndex=function(){this._479();return this._1780};d.set_CurrentActionIndex=function(a){this._3461&&!this.get_IsInitializing()&&(this._479(),0>a&&b.pv.te("Index of current undo action cannot be less than 0."),
a>this._4634.length&&b.pv.te("Index of current undo action cannot be greater than "+this._4634.length+"."),this.set_CurrentAction(this._4634[a]))};d.get_CurrentAction=function(){var b=this.get_CurrentActionIndex();return-1==b?null:this._4634[b]};d.set_CurrentAction=function(b){if(this._3461&&!this.get_IsInitializing()&&b.get_IsValid()){this._479();var d=this._1780;this._2605(b);this._1780=this._4634.indexOf(b);this._9593(this._1780-d)}};d._4270=function(){return this._2936};d._9072=function(){this._479();
return 0==this.get_UndoCount()||-1==this._1780?null:this._4634[this._1780-1]};d._5743=function(){return this._4634.length};d.beginInit=function(){this._387++};d.endInit=function(){0==this._387&&b.pv.tie();this._387--};d.containsActionForSourceObject=function(a){for(var d=Math.min(this._1780+1,this._4634.length),f=0;f<d;f++){var e=this._4634[f];if(b.pv.ic(e,E)){if(null!=e._7189(a))return!0}else if(this._4634[f]._4542==a)return!0}if(0<this._757.length)for(f=0;f<this._757.length;f++)if(null!=this._757[f]._7189(a))return!0;
return!1};d.beginCompositeAction=function(b){b=new E(b);b._8718();this._757.push(b)};d.endCompositeAction=function(){0==this._757.length&&b.pv.te("Composite action stack length cannot be 0.");var a=this._757.pop();0<a._4634.length&&(0===this._757.length&&0===this._4634.length&&this.addAction(new ha(a.toString()+" (original)")),this.addAction(a,null))};d.removeCompositeAction=function(){0!=this._757.length&&this._757.pop()};d.addAction=function(a,d){if(!this._3461||this.get_IsInitializing())null!=
a&&a.dispose();else if(null==a&&b.pv.te("UndoAction parameter cannot be null."),a.get_IsValid())if(0<this._757.length)this._757[this._757.length-1]._11194(a,d);else{this._7926({type:"addActions",actions:[a]});this.beginInit();this.removeRedoActions();if(-1!=this._1780){var f=this._4634[this._1780];if(f._4542==a._4542&&null!=d){var e=d.clone();f._5956(e)}}null!=a&&null==a._7370&&null!=a._4542&&(e=a._4542.clone(),a._5956(e));this._4634.push(a);this._4634.length>this._1889&&this.removeFirstAction();
this._1780=this._4634.length-1;this.endInit();this._479();this._6110({type:"addActions",actions:[a]});this._9593(1)}else a.dispose()};d.removeRedoActions=function(){if(this._3461&&this._1780<this._4634.length-1){for(var b=[],d=[],f=this._4634.length,e=this._1780+1;e<f;e++)d.push(e),b.push(this._4634[e]);if(0<b.length){e={type:"removeActions",actions:b.slice()};this._7926(e);for(e=d.length-1;0<=e;e--)f=d[e],this._4634[f].dispose(),this._4634.splice(f,1);b={type:"removeActions",actions:b.slice()};this._6110(b)}}};
d.removeFirstAction=function(){if(this._3461&&0!=this._4634.length){var b=this._4634[0];this._7926({type:"removeActions",actions:[b]});this._4634.splice(0,1);b.dispose();this._6110({type:"removeActions",actions:[b]})}};d.undo=function(b){this._4658(-Math.abs(b))};d.redo=function(b){this._4658(Math.abs(b))};d.getActions=function(){this._479();return this._4634};d.clear=function(){this._3461&&this._3469(!0)};d.dispose=function(){this._3469(!1);this._5376=null};d._4718=function(b,d,f,e){var l=this._6895();
if(0!==l.length){for(var t=0;t<l.length;t++)this._1818(l[t],b,f);if(null!=d&&null!=e)for(b=Math.min(d.length,e.length),t=0;t<b;t++)for(f=0;f<l.length;f++)this._1818(l[f],d[t],e[t])}};d._2232=function(b){this._5376=b};d._6227=function(b){for(var d=!0,f=0;f<b.length;f++)d&=this._1656(b[f]);return d};d._1656=function(b){if(null==b)return!1;var d=this._4634.indexOf(b);if(-1==d)return!1;-1!=this._1780&&d<=this._1780&&this._1780--;return this._4634.splice(d,1)?(b.dispose(),!0):!1};d._11277=function(b,d){var f=
b._7924;return null==f||-1===f.indexOf(d)?!1:!0};d._8020=function(a,d){for(var f=-1,y=0;y<this._4634.length;y++){var l=this._4634[y];if(l===a){f=y;break}else if(b.pv.ic(l,E)&&e(l,a)){f=y;break}}return-1==f?!0:0==f?d:this.get_CurrentActionIndex()>=f?!1:!0};d._479=function(){if(!this.get_IsInitializing()&&this._3461){for(var b=[],d=this._1780,f=this._4634.length-1;0<=f;f--){var e=this._4634[f];e.get_IsValid()||(b.push(e),d>=f&&d--)}0<b.length&&(b.slice(),this.beginInit(),this._6227(b),this._1780=d,
this.endInit(),b={type:"removeActions",actions:b.slice()},this._6110(b))}};d._2605=function(a){this.beginInit();try{b.pv.ic(a,E)&&(a=a._7189());var d=this.get_CurrentAction();if(b.pv.ic(d,E)){var f=d,d=f._7189();null==d&&(d=f)}var e=this._6895();a.get_IsValid()||b.pv.te("Invalid action.");-1==e.indexOf(a)&&b.pv.te("Action is not found.");this._1638(d,a);var l=a._4542,t=a._7924;a.undo();var q=a._4542,u=a._7924;null==this._5376?this._4718(l,t,q,u):this._5376._4718(l,t,q,u);this._1780=this._4634.indexOf(a)}finally{this.endInit()}};
d._1638=function(b,d){if(!this._10804){this._10804=!0;var f=this._6895(),e=f.indexOf(b),l=f.indexOf(d),t=Math.max(e,l),q=Math.min(e,l);if(1<t-q){for(var u=[],p=!1;t>=q;t--){var p=!1,n=f[t];if(n._4542!=d._4542){for(var s=0;s<u.length;s++){var x=u[s];if(x._4542==n._4542){p=!0;break}}p||u.push(n)}}if(0<u.length)if(e>l){x=u;u=[];for(t=0;t<x.length;t++){p=x[t]._4542;for(s=q-1;0<=s;s--)if(p==f[s]._4542){u.push(f[s]);break}for(s=q;s<f.length;s++)if(p==f[s]._4542){u.push(f[s]);break}}if(0==u.length)for(t=
0;t<x.length;t++)for(s=0;s<f.length;s++)if(x[t]._4542==f[s]._4542){u.push(f[s]);break}for(t=u.length-1;0<=t;t--)if(null!=u[t]._7924)for(this._2605(u[t]),s=0;s<u[t]._7924.length;s++)q=u[t]._7924[s],q=this._3157(f,e,q),null!=q&&this._2605(q);for(t=u.length-1;0<=t;t--)null==u[t]._7924&&this._2605(u[t])}else{for(t=0;t<u.length;t++)null!=u[t]._7924&&this._2605(u[t]);for(t=0;t<u.length;t++)null==u[t]._7924&&this._2605(u[t])}}if(1==e-l&&b._4542!=d._4542&&(x=this._3157(f,e,b._4542),null!=x&&(this._2605(x),
null!=x._7924)))for(t=0;t<x._7924.length;t++)q=x._7924[t],q=this._3157(f,e,q),null!=q&&this._2605(q);this._10804=!1}};d._4658=function(b){this._3461&&!this.get_IsInitializing()&&0!=b&&(this._479(),b=Math.min(Math.max(this.get_CurrentActionIndex()+b,0),this._4634.length-1),this.set_CurrentAction(this._4634[b]))};d._1818=function(a,d,f){var e=!1;if(b.pv.ic(a,E))for(var l=0;l<a._4634.length;l++)e|=this._1818(a._4634[l],d,f);a._4542===d&&(a._8718(f),e=!0);this._11277(a,d)&&(a._9453(d,f),e=!0);return e};
d._3469=function(b){var d;b&&(d={type:"clearActions",actions:this._4634.slice()},this._7926(d),d={type:"clearActions",actions:this._4634.slice()});for(var f=0;f<this._4634.length;f++)this._4634[f].dispose();this._4634=[];this._1780=-1;b&&this._6110(d)};d._3157=function(a,d,f){for(--d;0<=d;d--){var e=a[d];if(b.pv.ic(e,E)){if(e=e._7189(f),null!=e)return e}else if(e._4542==f)return e}};d._6895=function(){for(var a=[],d=0;d<this._4634.length;d++)a[d]=this._4634[d];for(d=0;d<a.length;d++)if(b.pv.ic(a[d],
E)){var f=a[d];a.splice(d,1);for(var f=f._5224(),e=d,l=0;l<f.length;l++)a.splice(e,0,f[l]),e++;d+=f.length-1}return a};d._7926=function(b){$(this).triggerHandler("changing",b)};d._6110=function(b){$(this).triggerHandler("changed",b)};d._9593=function(b){$(this).triggerHandler("navigated",b)};this._2936=b.WebImagingEnviromentJS.guid();this._3461=!0;this._1889=6;this._1780=-1;this._4634=[];this._387=0;this._10804=!1;this._757=[];this._5376=null;delete d.changing;delete d.changed;delete d.navigated},
vb=function(b,d,a){this._5566=b;this._5944=d;this._4683=a},qb=function(){var e=qb.prototype;e._340=function(b,a){};e._2438=function(d){this._2259(d);b.pv.ic(d,E)&&null!=this._7202[d._2936]&&this._6289(d,!0);this._1011()};e._1656=function(d){if(-1!==this._2881.indexOf(d))b.pv.ic(d,E)&&delete this._7202[d._2936],this._9048(d),null!=this._5220[d._2936]&&(this._5220[d._2936]._5566._1656(d),delete this._5220[d._2936]),b.pv.ic(d,E)&&this._6289(d,!1),this._1011();else{var a=this._11342[d._2936];null!=a&&
(delete this._11342[d._2936],a._4634.splice(a._4634.indexOf(d),1),delete this._5220[d._2936],0==a._4634.length&&this._1656(a))}};e._848=function(b){for(var a=[],e=0;e<this._2881.length;e++)for(var f=this._2881[e],y=0;y<b.length;y++)if(this._102(f,b[y])){a.push(f);break}return this._3279(a)};e._102=function(d,a){if(b.pv.ic(d,E)&&null!=this._7202[d._2936])for(var e=0;e<d._4634.length;e++){if(this._102(d._4634[e],a))return!0}else if(e=this._5220[d._2936],null!=e&&e._5566===a)return!0;return!1};e._6524=
function(b,a){var e=new vb(a,a._9072(),a.get_CurrentAction());this._5220[b._2936]=e};e._8980=function(b){this._7202[b._2936]=!1};e._2259=function(b){this._2881.push(b)};e._9048=function(b){this._2881.splice(this._2881.indexOf(b),1)};e._4743=function(b){var a=[];this._5400(a,b);return a};e._5400=function(d,a){var e=b.pv.ic(a,E);if(!e||e&&null==this._7202[a._2936])d.push(this._5220[a._2936]);else for(e=0;e<a._4634.length;e++)this._5400(d,a._4634[e])};e._9161=function(d,a){for(var e=0;e<a.length;e++){var f=
a[e];if(b.pv.ic(f,E)){if(this._9161(d,f._4634))return!0}else if(this._5220[f._2936]._5566===d)return!0}return!1};e._1332=function(d){if(0==d.length)return null;for(var a=d.length-1;0<=a;a--){var e=d[a];if(null!=this._7202[e._2936]){if(!this._8020(e,!0))return e}else{var f=this._5220[e._2936];if(null!=f){if(!f._5566._8020(e,!0))return e}else if(b.pv.ic(e,E)&&!this._8020(e,!0))return e}}return d[0]};e._4988=function(){this._2881=[];this._11342={};this._5220={}};e._8020=function(d,a){if(b.pv.ic(d,E)&&
null!=this._7202[d._2936]){for(var e=0;e<d._4634.length;e++){var f=d._4634[e];if(b.pv.ic(f,E)){if(!this._8020(f,a))return!1}else{var y=this._5220[f._2936];if(null!=y&&!y._5566._8020(f,a))return!1}}return!0}return this._5220[d._2936]._5566._8020(d,a)?!0:!1};e._7349=function(b){if(-1!==this._2881.indexOf(b))return b;b=this._11342[b._2936];if(null!=b)return this._7349(b)};e._6289=function(d,a){for(var e=0;e<d._4634.length;e++){var f=d._4634[e];a?this._11342[f._2936]=d:(delete this._11342[f._2936],delete this._5220[f._2936]);
b.pv.ic(f,E)&&this._6289(f,a)}};e._3279=function(d){for(var a=d.slice(),e=[],f={},y=0;y<d.length;y++){var l=this._6811(d[y]);this._8637(e,l);if(b.pv.ic(d[y],E))for(l=-1;l!=e.length;)for(var l=e.length,t=0;t<this._2881.length;t++)if(-1===a.indexOf(this._2881[t])){var q=f[this._2881[t]._2936];null==q&&(q=this._6811(this._2881[t]),f[this._2881[t]._2936]=q);this._1791(e,q)&&a.push(this._2881[t])}}if(a.length==d.length)return d;d=[];for(y=0;y<a.length;y++)e=this._2881.indexOf(a[y]),d[e]=a[y];return d};
e._6811=function(d){if(b.pv.ic(d,E)){for(var a=[],e=0;e<d._4634.length;e++){var f=this._6811(d._4634[e]);this._8637(a,f)}return a}a=[];null!=d._4542&&a.push(d._4542);return a};e._8637=function(b,a){for(var e=0;e<a.length;e++){var f=a[e];-1===b.indexOf(f)&&b.push(f)}};e._1791=function(b,a){for(var e=0;e<a.length;e++)if(-1!==b.indexOf(a[e]))return this._8637(b,a),!0;return!1};e._1011=function(){$(this).triggerHandler("_340")};this._2881=[];this._5220={};this._11342={};this._7202={};delete e._340},rb=
function(e){function d(f,a){var d=f._2936;$(a).on("changing."+d,function(b,d){if(f._3461){if(!f._10509&&f._4884()&&"addActions"===d.type&&0==a._5743()){f._10509=!0;if(0!=f._7150().length){var e=new ha(d.actions[0].toString()+" (original)");a.addAction(e)}else f._5469=!0,e=new ha(f._2810),a.addAction(e),f._5469=!1;f._10509=!1}!f._4884()&&f._8582(a)&&null==f._10641&&f._7926(d)}});$(a).on("changed."+d,function(d,e){if(f._3461){var l=e.actions;if("addActions"!=e.type||1!=l.length||!b.pv.ic(l[0],ha)||
f._5469){switch(e.type){case "addActions":for(var h=0;h<l.length;h++)f._2438(l[h],a);break;case "removeActions":case "clearActions":for(h=0;h<l.length;h++)f._1656(l[h])}if(f._8582(a)){if("addActions"===e.type)for(var p=f._7150(),h=l.length-1;0<=h;h--)-1===p.indexOf(l[h])&&l.splice(h,1);0<l.length&&(null==f._10641?f._6110(e):f._10641=f._10641.concat(l))}}}})}var a=rb.prototype;a.changing=function(b,a){};a.changed=function(b,a){};a.navigated=function(b,a){};a._9479=function(){return this._11181};a._7027=
function(b){if(this._11181!=b){this._11181=b;this._4634=null;b=this._7150();var a=this._11204._1332(b);this._1780=b.indexOf(a);if(this._1889<b.length)for(this._5876(!1),b=this._7150().length-this._1889;0<b;)this._8341(!1),b--}};a._7150=function(){this._479();null==this._4634&&(this._4634=this._4379());return this._4634};a._1080=function(){var b=this._9466();return-1==b?null:this._7150()[b]};a._6113=function(b){b=this._7150().indexOf(b);this._9307(b)};a._9466=function(){this._479();return this._1780};
a._9307=function(f){(0>f||f>this._7150().length)&&b.pv.toe();this._411(f-this._9466())};a._7634=function(){var b=this._9466();return 1>b?0:b};a._2486=function(){var b=this._9466(),a=this._7150();return 0==this._7634()||-1==b||b>=a.length?"":a[b].toString()};a._4800=function(){return this._7150().length-this._9466()-1};a._293=function(){var b=this._9466(),a=this._7150();return 0==this._4800()||-1==b||b>=a.length?"":a[b+1].toString()};a._1601=function(){return this._3461};a._6619=function(b){this._3461=
b};a._4884=function(){return this._5469?!1:0!=this._2938.length};a._9469=function(){return this._1889};a._3421=function(b){var a=b+1;this._1889>a&&this._8969(a,!0);this._1889=b+1};a._8969=function(b,a){var d=this._9088.slice(),e=this._4379(!1,d),h=this._4379(!0,d),p=e.indexOf(this._1080()),n=h.length-b;if(0<n){for(var d=[],v=e.length-1;0<n&&v>p;){var s=e[v--];d.push(s);-1!==h.indexOf(s)&&n--}if(0<n){for(v=0;0<n&&v<=p;)s=e[v++],d.push(s),-1!==h.indexOf(s)&&n--;if(-1===h.indexOf(e[v]))for(;-1===!h.indexOf(e[v])&&
v<=p;)d.push(e[v++])}a&&this._7926({type:"removeActions",actions:d});for(e=0;e<d.length;e++)this._1656(d[e]);a&&this._6110({type:"removeActions",actions:d})}};a._10646=function(b){d(this,b);this._9088.push(b)};a._7165=function(b){var a=this._2936;$(b).off("."+a);this._10450(b);this._9088.splice(this._9088.indexOf(b),1)};a._11400=function(b){this._3461&&this._411(-Math.abs(b))};a._8606=function(b){this._3461&&this._411(Math.abs(b))};a._8341=function(b){for(var a=this._4379(!1,this._11181),d=this._4379(!0,
this._11181),e=a.indexOf(this._1080()),h=[],p=0;p<a.length;){var n=a[p++];h.push(n);if(-1!==d.indexOf(n))break}if(-1===d.indexOf(a[p]))for(;-1===d.indexOf(a[p])&&p<=e;)h.push(a[p++]);b&&(a={type:"removeActions",actions:h.slice()},this._7926(a));for(a=0;a<h.length;a++)this._1656(h[a]);b&&(b={type:"removeActions",actions:h.slice()},this._6110(b))};a._5876=function(b){var a=this._1080();if(!this._3461||null==a)return[];var d=this._9466(),e=this._7150();if(d==e.length-1)return[];for(var a=[],h=e.length-
1;h>d;h--)a.push(e[h]);b&&(d={type:"removeActions",actions:a.slice()},this._7926(d));for(h=0;h<a.length;h++)this._11204._1656(a[h]);this._7150();this._9045();for(h=0;h<this._11181.length;h++)this._11181[h].removeRedoActions();this._5717();b&&(d={type:"removeActions",actions:a.slice()},this._6110(d));return a};a._10287=function(f,a,d){1===arguments.length&&(d=f,f=this._7150(),a=Math.min(this._9466()+1,f.length));for(var e=0;e<a;e++){var h=f[e];if(b.pv.ic(h,E)){if(null!=h._7189(d))return!0}else if(f[e]._4542==
d)return!0}return!1};a._1659=function(){for(var b={},a=this._7150(),d=Math.min(this._9466()+1,a.length),e=0;e<d;e++)for(var h=a[e],p=0;p<this._11181.length;p++){var n=this._11181[p];if(this._11204._102(h,n)){p=b[n._2936];null==p&&(p=[],b[n._2936]=p);p.push(h);break}}return b};a._9045=function(){null==this._10641&&(this._10641=[])};a._5717=function(){if(null==this._10641)return[];var b=this._10641.slice();this._10641=null;return b};a._9796=function(b){b=new E(b);b._8718();0==this._2938.length&&(this._2810=
b.toString()+" (original)");this._2938.push(b)};a._9966=function(a){0==this._2938.length&&b.pv.te("The undo manager does not have composite action.");var d=this._2938[0];this._2938.splice(0,1);0<d.getActions().length&&(0==this._2938.length&&this._7926({type:"addActions",actions:[d]}),this._11204._8980(d),this._2438(d,a),0==this._2938.length&&this._6110({type:"addActions",actions:[d]}))};a._8086=function(){if(0!==this._2938.length){var b=this._2938[0];this._2938.splice(0,1);this._1656(b)}};a._479=
function(){if(null!=this._11181&&0<this._11181.length)for(var b=0;b<this._11181.length;b++)this._11181[b]._479()};a._2438=function(b,a){if(this._3461)if(b.get_IsValid())if(this._4884())this._11204._6524(b,a),this._2938[this._2938.length-1].getActions().push(b);else{if(this._5876(!0),this._11204._6524(b,a),this._11204._2438(b),this._5103(),this._7150().length>this._1889&&this._8341(!0),this._8582(a)){var d=this._7150().indexOf(b);-1!==d&&(this._1780=d)}}else b.dispose()};a._5103=function(){for(var b=
0;b<this._9088.length;b++){var a=this._9088[b];this._8582(a)||0===a.get_CurrentActionIndex()&&a.clear()}};a._8582=function(b){return null==this._11181||null==b?!1:-1!==this._11181.indexOf(b)};a._1656=function(b){var a=this._7150(),d=a.indexOf(b);-1===d&&(b=this._11204._7349(b));if(null!=b){var e=a.length,h=this._1080();this._11204._1656(b);a=this._7150();e!=a.length?-1!=d&&d<=this._1780&&(this._1780-=e-a.length):null!=h&&(-1!==!a.indexOf(h)&&(h=this._11204._7349(h)),this._1780=a.indexOf(h))}};a._10450=
function(b){if(this._3461){b=this._11204._848([b]);for(var a=0;a<b.length;a++)this._1656(b[a])}};a._411=function(b){for(var a=0;a<this._11181.length;a++)if(this._11181[a].get_IsInitializing())return;var d=this._7150();if(0!=b&&0!=d.length){for(var e=Math.abs(b),a=this._9466();0<e&&!(0>a||a>=d.length);){if(0>b){var h=d[a];this._2605(h);a--}else h=a+1,h>=d.length&&(h=d.length-1),h=d[h],this._10941(h),a++;e--}b=a-this._1780;this._1780=a;this._9593(b)}};a._2605=function(b){b=this._11204._4743(b);for(var a=
b.length-1;0<=a;a--){var d=b[a];null!=d._5944&&d._5566.set_CurrentAction(d._5944)}};a._10941=function(b){b=this._11204._4743(b);for(var a=0;a<b.length;a++){var d=b[a];null!=d._5944&&d._5566.set_CurrentAction(d._4683)}};a._4988=function(){this._11204._4988();this._11181=this._4634=null;this._1780=-1};a._4379=function(a,d){null==a&&(a=!0,d=this._11181);this._479();var e=[];if(null!=d&&0<d.length){for(var h=!1,p=this._11204._848(d),u=p.length-1;0<=u;u--){var n=p[u];if(null!=n){if(this._11204._8020(n,
!h)){if(h)continue}else h=!0;e.push(n)}}if(a)for(u=e.length-2;0<=u;u--)b.pv.ic(e[u],E)||null!=e[u]._9963||e.splice(u,1);e.reverse()}1==e.length&&(h=e[0],b.pv.ic(h,E)&&0<h.getActions().length&&e.splice(0,0,new ha(e[0].toString()+" (original)")));return e};a._7926=function(b){$(this).triggerHandler("changing",b)};a._6110=function(b){$(this).triggerHandler("changed",b)};a._9593=function(b){$(this).triggerHandler("navigated",b)};this._2936=b.WebImagingEnviromentJS.guid();this._11204=new qb(e);this._10641=
null;this._2938=[];this._5469=!1;this._2810="";this._10509=!1;this._9088=[];this._4634=this._11181=null;this._1780=-1;this._3461=!0;this._1889=e;var h=this;$(this._11204).on("_340",function(b,a){h._4634=null})},Aa=function(){function e(a){null==a._4316&&b.pv.te("Current manager is not specified.")}var d=Aa.superclass;d.constructor.call(this);var a=Aa.prototype;a.currentManagerChanging=function(b,a){};a.currentManagerChanged=function(b,a){};a.activeManagersChanging=function(b){};a.activeManagersChanged=
function(b){};a.get_ActiveManagers=function(){return this._2250._11181};a.set_ActiveManagers=function(a){b.pv.ac(a,ma);if(a!=this._2250._11181){this._8867();if(null!=a)for(var d=0;d<a.length;d++)-1===this._8401.indexOf(a[d])&&b.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");this._2250._7027(a);this._4133=this._11285();a={type:"addActions",actions:this._2250._7150()};this._6110(a);this._11159()}};a.get_CurrentManager=function(){return this._4316};
a.set_CurrentManager=function(a){b.pv.ic(a,ma);this.get_IsInitializing()&&b.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(a!=this._4316&&(a={oldValue:this._4316,newValue:a,cancel:!1},this._2256(a),!a.cancel&&a.newValue!==this._4316)){a=a.newValue;null!=a&&-1===this._8401.indexOf(a)&&b.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");var d={oldValue:this._4316,newValue:a};null!=
this._4316&&this._6053(this._4316);this._4316=a;this._4133=this._11285();null!=this._4316&&this._9419(this._4316);this._600(d)}};a.get_IsInitializing=function(){return null==this._4316?!1:this._4316.get_IsInitializing()};a.get_IsCompositeActionStarted=function(){return 0!==this._2250._4884()};a.set_IsEnabled=function(b){d.set_IsEnabled.call(this,b);this._2250._6619(b);for(var a=0;a<this._8401.length;a++)this._8401[a].set_IsEnabled(b)};a.set_UndoLevel=function(b){d.set_UndoLevel.call(this,b);this._2250._3421(b)};
a.get_UndoCount=function(){return this._2250._7634()};a.get_UndoDescription=function(){return this._2250._2486()};a.get_RedoCount=function(){return this._2250._4800()};a.get_RedoDescription=function(){return this._2250._293()};a.get_CurrentActionIndex=function(){return this._2250._9466()};a.set_CurrentActionIndex=function(b){this._2250._9307(b)};a.get_CurrentAction=function(){return this._2250._1080()};a.set_CurrentAction=function(b){this._3461&&!this.get_IsInitializing()&&b.get_IsValid()&&this._2250._6113(b)};
a._9072=function(){this._479();var b=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==b?null:this._2250.getActions()[b-1]};a._5743=function(){return this._2250._7150().length};a.addManager=function(){var b=new ma;b.set_IsEnabled(this._3461);b.set_UndoLevel(Number.MAX_VALUE);b._2232(this);this._8401.push(b);this._2250._10646(b);return b};a.removeManager=function(b){var a=this._8401.indexOf(b);-1!==a&&(this._4316===b&&this.set_CurrentManager(),this._2250._7165(b),this._8401.splice(a,
1),b._2232(),b.dispose())};a.beginInit=function(){this._387++;for(var b=0;b<this._8401.length;b++)this._8401[b].beginInit()};a.endInit=function(){0===this._387&&b.pv.tie();this._387--;for(var a=0;a<this._8401.length;a++)this._8401[a].endInit()};a.containsActionForSourceObject=function(b){e(this);if(this._4133&&0!==this.get_RedoCount()){var a=this._2250._1659()[this._4316._2936];return null!=a?this._2250._10287(a,a.length,b):!1}return this._4316.containsActionForSourceObject(b)};a.beginCompositeAction=
function(b){this._2250._9796(b)};a.endCompositeAction=function(){this._2250._9966(this._4316)};a.removeCompositeAction=function(){this._2250._8086()};a.addAction=function(b,a){e(this);this._2250._5876(!0);this._4316.addAction(b,a)};a.undo=function(b){this._479();this._2250._11400(b)};a.redo=function(b){this._479();this._2250._8606(b)};a.getActions=function(){this._479();return this._2250._7150()};a.clear=function(){this._479();for(var b=[],a=0;a<this._8401.length;a++)b=b.concat(this._8401[a].getActions());
if(0!=b.length){b={type:"clearActions",actions:b.slice()};this._7926(b);this._2250._9045();for(a=0;a<this._8401.length;a++)this._8401[a].clear();b={type:"clearActions",actions:this._2250._5717().slice()};this._6110(b)}};a.removeFirstAction=function(){this._2250._8341()};a.removeRedoActions=function(){this._2250._5876(!0)};a.dispose=function(){this._4316=null;$(this._2250).off("."+this._2936);for(var b=0;b<this._8401.length;b++){var a=this._8401[b];this._2250._7165(a);a.dispose()}this._8401=[];this._2250._4988()};
a._2232=function(a){b.pv.tne()};a._4718=function(b,a,d,e){for(var f=0;f<this._8401.length;f++)this._8401[f]._4718(b,a,d,e)};a._2256=function(b){$(this).triggerHandler("currentManagerChanging",b)};a._600=function(b){$(this).triggerHandler("currentManagerChanged",b)};a._8867=function(){$(this).triggerHandler("activeManagersChanging")};a._11159=function(){$(this).triggerHandler("activeManagersChanged")};a._479=function(){if(!this.get_IsInitializing()&&this._3461){this._2464();for(var b=0;b<this._8401.length;b++)this._8401[b]._479();
this._8248()}};a._2464=function(){this._3382++};a._8248=function(){this._3382--};a._11285=function(){return null==this._4316||null==this._2250._11181?!1:-1==this._2250._11181.indexOf(this._4316)?!1:!0};a._9419=function(b){var a=this,d=a._4270();$(b).on("changing."+d,function(b,d){0!=a._3382||a._4133||a._7926(d)});$(b).on("changed."+d,function(b,d){0!=a._3382||a._4133||a._6110(d)})};a._6053=function(b){var a=this._4270();$(b).off("."+a)};this._8401=[];this._4133=!1;this._387=this._3382=0;this._4316=
null;var h=new rb(this._1889);this._2250=h;var f=this,p="."+f._2936;$(h).on("navigated"+p,function(b,a){f._9593(a)});$(h).on("changing"+p,function(b,a){f._7926(a)});$(h).on("changed"+p,function(b,a){f._6110(a)});delete a.currentManagerChanging;delete a.currentManagerChanged;delete a.activeManagersChanging;delete a.activeManagersChanged};b.extend(Aa,ma);var sb=function(e){var d=sb.prototype;d.disposed=function(b){};d.get_IsEnabled=function(){return this._3461};d.set_IsEnabled=function(a){b.pv.b(a);
this._3461=a};d.get_UndoManager=function(){return this._2014};d.dispose=function(){$(this).triggerHandler("disposed")};b.pv.c(e,ma);this._2014=e;this._3461=!0;delete d.disposed};v.WebPrintManagerJS=pb;v.VintasoftFileAPI=VintasoftFileAPI;v.WebThumbnailAppearanceJS=mb;v.WebImageAppearanceJS=ya;v.WebUndoActionJS=za;v.WebCompositeUndoActionJS=E;v.WebUndoManagerJS=ma;v.WebCompositeUndoManagerJS=Aa;v.WebUndoMonitorJS=sb;b.WebServiceJS.rcr("GetTextRegionOfImage","GetTextRegionOfImages");b.WebServiceJS.rcr("GetActionsOfImage",
"GetActionsOfImages");var Ba=function(e,d){var a=Ba.prototype;a.get_SelectionRegion=function(){return p._4868._746(this._3713)};a.get_Symbol=function(){return this._1216};a._8496=function(){var b=this.get_SelectionRegion();return p._4868._11170(b)};b.pv.ad(e,b.pv.p);b.pv.s(d);this._3713=e;this._1216=d;this._8759=null;Object.freeze&&Object.freeze(this._3713)},ia=function(e,d,a,h,f){function y(b){for(var a=[],d=0;d<b.length;d++)a.push(b[d]._3713);return p._4868._8931(a)}var l=ia.prototype;l.get_TextContent=
function(){var b=this._5351;if(null!=b)return b;var a=this._7605;if(null!=a){for(var b="",d=0;d<a.length;d++){var e=a[d].get_TextContent();null!=e&&(""!==b&&(b+="\n"),b+=e)}return b}a=this._2516;if(null!=a){b="";for(d=0;d<a.length;d++)b+=a[d]._1216;return b}};l.get_SelectionRegions=function(){var b=this._3228;if(null!=b){for(var a=[],d=0;d<b.length;d++)a.push(p._4868._746(b[d]));return a}};l.get_Subregions=function(){return this._7605.slice()};l.get_Symbols=function(){var b=this._2516;if(null!=b)return b.slice()};
l.containsPoint=function(a){b.pv.p(a);for(var d=this._3228,e=0;e<d.length;e++)if(p._4868._3108(a,d[e]))return!0;return!1};l.getWordSubregion=function(b){var a=this.getLineSubregion(b);return null==a?null:null==a._7605&&null!=a._2516?a:a._7020(b)};l.getLineSubregion=function(b){return this._7020(b)};l.getSubregion=function(a,d){var e=b.pv.e(d,n.WebTextSelectionModeEnumJS);b.pv.r(a);var f=b.cloneObject(a),h=!1;0>f.width&&(f.width=-f.width,f.x-=f.width,h=!h);var l=this._3749();0>f.height&&(l=!l,f.height=
-f.height,f.y-=f.height);for(var x=-1,B=-1,z=this._7192(),F=0;F<z.length;F++)for(var D=z[F],G=D.get_SelectionRegions(),C=0;C<G.length;C++)if(p._4868._9244(f,G[C])){0>x&&(x=F);B=F;break}if(!(0>x)){for(var G=[],I=[],F=B,C=x;C<=F;C++){D=z[C];x=[];if(null!=D._7605)for(B=0;B<D._7605.length;B++)x.push(D._7605[B]._6085());else null!=D._2516&&x.push(D._6085());G.push(x);I.push(D._5351)}if(0!=G.length){if(1===e.valueOf()){e=l;F=G[0];z=I[0];l=C={x:f.x,y:f.y,width:f.width,height:f.height};e?(h||(l.x+=l.width),
l.width=Number.MAX_VALUE):h&&(l.x+=l.width);l=F;D=0;for(x=!1;D<l.length&&!x;){for(B=l[D];0<B.length;){var v=B[0]._8496();if(p._4868._3187(C,v)){x=!0;break}else v=B.splice(0,1),v=z.indexOf(v[0]._1216),-1!==v&&(z=z.slice(0,v)+z.slice(v+1))}0==B.length?l.splice(D,1):D++}0==F.length?(G.splice(0,1),I.splice(0,1)):I[0]=z;if(0!==G.length){F=G[G.length-1];z=I[I.length-1];f=C={x:f.x,y:f.y,width:f.width,height:f.height};h?e||(f.width=f.x,f.x=0):e&&(f.width=f.x,f.x=0);f=F;e=z;h=C;l=f.length-1;for(z=!1;0<=l&&
!z;){for(C=f[l];0<C.length;)if(D=C[C.length-1]._8496(),p._4868._3187(h,D)){z=!0;break}else D=C.splice(C.length-1,1),D=e.lastIndexOf(D[0]._1216),-1!==D&&(e=e.slice(0,D)+e.slice(D+1));0==C.length&&f.splice(l,1);l--}z=e;0==F.length?(G.splice(G.length-1,1),I.splice(I.length-1,1)):I[I.length-1]=z}}else for(F=0;F<G.length;){e=G[F];l=I[F];h=e;z=f;C=0;for(D=!1;C<h.length;){x=h[C];for(B=0;B<x.length;)v=x[B]._8496(),p._4868._3187(z,v)?(B++,D=!0):(v=x.splice(B,1),v=D?l.lastIndexOf(v[0]._1216):l.indexOf(v[0]._1216),
-1!==v&&(l=l.slice(0,v)+l.slice(v+1)));0==x.length?h.splice(C,1):C++}0==e.length?(G.splice(F,1),I.splice(F,1)):(I[F]=l,F++)}for(f=0;f<I.length;f++)I[f]=I[f].trim(" ");if(0!=G.length){f=[];e=[];for(F=0;F<G.length;F++)if(D=G[F],""!==I[F]){h=[];for(C=0;C<D.length;C++)l=D[C],z=y(l),h.push(new ia(null,[z],null,l,this._4272));l=h;z=[];for(C=0;C<l.length;C++)z.push(l[C]._3228[0]);l=p._4868._8931(z);e.push(l);f.push(new ia(I[F],[l],h,null,this._4272))}return new ia(null,e,f,null,this._4272)}}}};l.searchText=
function(a){b.pv.c(a,RegExp);for(var d=[],e=[],f=this._7192(),h=!1,l=0;l<f.length&&!h;l++){var x=f[l],p=x.get_TextContent();if(null!=x._7605){d[l]=[];for(var z=0,n=0;n<x._7605.length;n++){var D=x._7605[n].get_TextContent(),z=p.indexOf(D,z);d[l].push(z);z+=D.length}}else d[l]=[0];x=[];for(n=-1;null!=(z=a.exec(p));){D=z.index;if(D===n)break;""!==z[0]&&x.push(z);n=D;if(!a.global){h=!0;break}}e.push(x)}a=[];for(h=0;h<e.length;h++)if(l=e[h],0!==l.length)for(p=null!=f[h]._7605?f[h]._7605:[f[h]],x=d[h],
z=0;z<l.length;z++){var n=l[z][0],D=l[z].index,G=l[z].input,C;C=p;for(var v=x,V=n,Y=D,L=0;Y>v[L];)L++;L--;0>L&&(L=0);for(var W=C[L],E=v[L],P=[],R=0;R<V.length;){var S=Y-E+R;W._2516.length<=S?Y+R>=v[L+1]?(L++,E=v[L],W=C[L]):R++:(S=W._2516[S],null!=S&&P.push(S),R++)}C=P;0!==C.length&&(v=y(C),a.push({context:G,position:D,region:new ia(n,[v],null,C,this._4272)}))}return a};l.getTransformFromImageToTextSpace=function(a){b.pv.p(a);a=p.WebMatrixJS._1090(96/a.x,96/a.y);return p.WebMatrixJS.multiplyMatrix(a,
this._4272)};l.getTransformFromTextToImageSpace=function(b){return this.getTransformFromImageToTextSpace(b).invert()};l.getSelectionBoundingBox=function(){var b=this._3228;if(0===b.length)return p._4868._3842();for(var a=p._4868._11170(b[0]),d=1;d<b.length;d++)a=p._4868._385(a,p._4868._11170(b[d]));return a};l._3749=function(){var b=this._4272;return 0>b._1231||0>b._7827};l._7020=function(b){if(null!=this._7605)for(var a=0;a<this._7605.length;a++){var d=this._7605[a];if(d.containsPoint(b))return d}return null};
l._7192=function(){var b=[];if(null!=this._5351)b.push(this);else{var a=this._7605;if(null!=a)for(var d=0;d<a.length;d++)b=b.concat(a[d]._7192())}return b};l._6085=function(){var b=this._2516;if(null!=b)return b.slice();var b=[],a=this._7605;if(null!=a)for(var d=0;d<a.length;d++)b=b.concat(a[d]._6085());return b};null!=e&&b.pv.s(e);b.pv.ad(d,function(a){b.pv.ad(a,b.pv.p)});null!=a&&(b.pv.ac(a,ia),0===a.length&&(a=null));null!=h&&(b.pv.ac(h,Ba),0===h.length&&(h=null));this._5351=e;this._3228=d;this._7605=
a;this._2516=h;this._2936=b.WebImagingEnviromentJS.guid();null!=f?b.pv.c(f,p.WebMatrixJS):f=new p.WebMatrixJS;this._4272=f;Object.freeze&&(null!=this._7605&&Object.freeze(this._7605),null!=this._2516&&Object.freeze(this._2516))},ea=function(){var e=ea.prototype;this._109=[];e.get_Type=function(){return"PageContentActionMetadata"};e.get_Region=function(){return p._4868._746(this._109)};e.set_Region=function(d){b.pv.ad(d,b.pv.p);this._109=d};e._5276=function(b){this._109=b.region}};ea._10638=function(b){var d=
null;if(null!=b){switch(b.type){case "GotoActionMetadata":d=new pa;break;case "UriActionMetadata":d=new ua;break;case "NamedActionMetadata":d=new qa;break;default:d=new ea}null!=d&&d._5276(b)}return d};var pa=function(){var e=pa.prototype,d=pa.superclass;d.constructor.call(this);this._4761=-1;this._3595=p._4868._3842();this._8819=new n.WebImageSizeModeEnumJS(4);this._9194=0;this._4121=!1;e.get_Type=function(){return"GotoActionMetadata"};e.get_DestPageIndex=function(){return this._4761};e.set_DestPageIndex=
function(a){b.pv.n(a);0>a&&b.pv.toe();this._4761=a};e.get_DestRect=function(){return b.cloneObject(this._3595)};e.set_DestRect=function(a){b.pv.r(a);this._3595=a={x:a.x,y:a.y,width:a.width,height:a.height}};e.get_SizeMode=function(){return this._8819};e.set_SizeMode=function(a){this._8819=b.pv.e(a,n.WebImageSizeModeEnumJS)};e.get_Zoom=function(){return this._9194};e.set_Zoom=function(a){b.pv.n(a);this._9194=a};e.get_ZoomToDestRect=function(){return this._4121};e.set_ZoomToDestRect=function(a){b.pv.b(a);
this._4121=a};e._5276=function(b){d._5276.call(this,b);this._4761=b.destPageIndex;this._3595=b.destRect;this._8819=new n.WebImageSizeModeEnumJS(b.sizeMode);this._9194=b.zoom;this._4121=b.zoomToDestRect}};b.extend(pa,ea);var ua=function(){var e=ua.prototype,d=ua.superclass;d.constructor.call(this);this._2260="";e.get_Type=function(){return"UriActionMetadata"};e.get_Uri=function(){return this._2260};e.set_Uri=function(a){b.pv.s(a);this._2260=a};e._5276=function(b){d._5276.call(this,b);this._2260=b.uri}};
b.extend(ua,ea);var qa=function(){var e=qa.prototype,d=qa.superclass;d.constructor.call(this);this._4142="";e.get_Type=function(){return"NamedActionMetadata"};e.get_ActionName=function(){return this._4142};e.set_ActionName=function(a){b.pv.s(a);this._4142=a};e._5276=function(b){d._5276.call(this,b);this._4142=b.actionName}};b.extend(qa,ea);var va=function(){va.prototype.executeAction=function(e,d,a){b.pv.tne()}},Ca=function(e){var d=Ca.prototype;Ca.superclass.constructor.call(this);b.pv.ac(e,va);
this._5680=e.slice();d.get_Items=function(){return this._5680.slice()};d.executeAction=function(b,d,e){for(var p=0;p<this._5680.length;p++)if(this._5680[p].executeAction(b,d,e))return!0;return!1}};b.extend(Ca,va);var Da=function(){Da.superclass.constructor.call(this);Da.prototype.executeAction=function(e,d,a){b.pv.c(e,xa.WebImageViewerJS);b.pv.c(d,b.WebImageJS);b.pv.c(a,ea);if(b.pv.ic(a,pa)){d=function(){3===a._8819.valueOf()&&0<a._9194?(e.set_ImageSizeMode(a._8819),e.set_Zoom(a._9194)):e.set_ImageSizeMode(a._8819);
var b=a.get_DestRect(),d=b.x===p._4868._10682,h=b.y===p._4868._10682;if(!d||!h){var n=e.get_FocusedImage().get_Resolution();p.WebMatrixJS._1090(n.x/96,n.y/96).transformRectangle(b);if(b.x===p._4868._10682||b.y===p._4868._10682)n=e._9412(),d&&(b.x=n.x),h&&(b.y=n.y);if(a._4121)e.zoomToRectangle(b);else{var d=b.x,b=b.y,n=e._9412(),h=n.width/2,n=n.height/2,q=e.get_ImageRotationAngle();if(90===q||270===q)q=h,h=n,n=q;e.scrollToImagePoint(d+h,b+n)}}};var h=a._4761;if(0<=h&&h!=e.get_FocusedIndex())return e.setFocusedIndexAsync(h,
d),!0;d();return!0}return b.pv.ic(a,qa)&&(d=-1,"NextPage"==a._4142&&(d=Math.min(e.get_Images().get_Count()-1,e.get_FocusedIndex()+1)),"PrevPage"==a._4142&&(d=Math.max(0,e.get_FocusedIndex()-1)),"FirstPage"==a._4142&&(d=0),"LastPage"==a._4142&&(d=e.get_Images().get_Count()-1),-1!==d)?(e.set_FocusedIndex(d),!0):!1}};b.extend(Da,va);var tb=function(e){function d(b,a){if(null==a){var e=b.transformFromDipSpace;null!=e&&(a=new p.WebMatrixJS(e.m11,e.m12,e.m21,e.m22,e.offsetx,e.offsety))}var e=b.textContent,
l=null,n=b.selectionRegions;if(null!=n)for(var l=[],q=0;q<n.length;q++)l.push(n[q].points);var n=null,u=b.symbols;if(null!=u)for(n=[],q=0;q<u.length;q++){var v=u[q];n.push(new Ba(v.selectionRegion.points,v.symbol))}u=null;v=b.subRegions;if(null!=v)for(u=[],q=0;q<v.length;q++)u.push(d(v[q],a));return new ia(e,l,u,n,a)}var a=tb.prototype;b.pv.c(e,b.WebImageJS);e.sm(this);this._7826=e;this._4634=this._7796=void 0;$(e.evm).on("icd",{m:this},function(b,a){var d=a.imc;"dc"===a.d&&d&&(d=b.data.m,d._7796=
void 0,d._4634=void 0)});a.get_Image=function(){return this._7826};a.getTextRegion=function(){if(void 0!==this._7796)return this._7796;b.pv.te("Information about text region is not available, call the requestTextRegion method.")};a.isTextRegionReceived=function(){return void 0!==this._7796};a.requestTextRegion=function(a,e){var p=this,l=p._7826,n=l.get_Source().get_ImageService(),l={data:{imageInfo:l.cto()}},l=new b.WebRequestJS("GetTextRegionOfImage",function(b){var e=null,f=b.textRegion;null!=f&&
(e=d(f));p._7796=e;b.textRegion=e;b.image=p._7826;a&&a(b)},function(b){"abort"!==b.statusText&&(b.image=p._7826,b.blocked||(p._7796=null),e&&e(b))},l);return n.addRequest(l)};a.getActions=function(){if(void 0!==this._4634)return this._4634;b.pv.te("Information about actions is not available, call the requestActions method.")};a.isActionsReceived=function(){return void 0!==this._4634};a.requestActions=function(a,d){var e=this,l=e._7826,p=l.get_Source().get_ImageService(),l={data:{imageInfo:l.cto()}},
l=new b.WebRequestJS("GetActionsOfImage",function(b){var d=[],f=b.actions;if(null!=f){for(var d=JSON.parse(f),f=[],l=0;l<d.length;l++){var p=ea._10638(d[l]);null!=p&&f.push(p)}d=f}e._4634=d;b.actions=d;b.image=e._7826;a&&a(b)},function(b){"abort"!==b.statusText&&(b.image=e._7826,d&&d(b))},l);return p.addRequest(l)}};v.WebPageContentActionMetadataJS=ea;v.WebGotoActionMetadataJS=pa;v.WebUriActionMetadataJS=ua;v.WebNamedActionMetadataJS=qa;v.WebPageContentActionExecutorJS=va;v.WebPageContentActionCompositeExecutorJS=
Ca;v.WebNavigationActionExecutorJS=Da;v.WebTextRegionSymbolJS=Ba;v.WebTextRegionJS=ia;v.WebImageMetadataJS=tb;(function(e){(function(a){function d(a,e){h(a);b.pv.f(e,"The second parameter must be a Function, which allows to create the WebVisualToolJS object.");null!=M._529[a]&&b.pv.te("Fabric does not allow to change the standard tool with ID '"+a+"'.")}function h(a){b.pv.s(a);""===a&&b.pv.te("The element ID cannot be empty.")}var t=function(){};t._7508=function(b,a){b.setTransform(a._1231,a._5728,
a._216,a._7827,a._2505,a._11357)};t._7699=function(b){b.setTransform(1,0,0,1,0,0)};e._5941=t;var q=function(){var a=q.prototype;a.mouseDown=function(b,a){};a.mouseMove=function(b,a){};a.mouseUp=function(b,a){};a.mouseDoubleClick=function(b,a){};a.initializationStarted=function(b,a){};a.initializationFinished=function(b,a){};a.initializationException=function(b,a){};a.get_Name=function(){return this._9951};a.get_ActionButton=function(){return this._5433};a.set_ActionButton=function(a){this._5433=b.pv.e(a,
n.WebMouseButtonsEnumJS)};a.get_IsEnabled=function(){return this._3461};a.set_IsEnabled=function(a){this._8226&&(b.pv.b(a),this._3461!==a&&(this._3461=a,this._4137(this._3461),this._4628()))};a.get_DisableContextMenu=function(){return this._9999};a.set_DisableContextMenu=function(a){b.pv.b(a);this._9999=a};a.get_Cursor=function(){return this._10694};a.set_Cursor=function(a){b.pv.s(a);this._7741()&&this._1761&&this._268(a);this._10694=a};a.get_ActionCursor=function(){return this._2220};a.set_ActionCursor=
function(a){b.pv.s(a);this._2220=a};a.get_MouseClicksDelta=function(){return this._6346};a.set_MouseClicksDelta=function(a){b.pv.n(a);0>a&&(a=10);this._6346=a};a.get_MouseClickCount=function(){return this._8430};a.get_IsMultipageModeSupported=function(){return!1};a.toString=function(){return this._9951};a.reset=function(){};a.getDrawingBox=function(){return p._4868._3842()};a._2380=function(b){if(!this._3461)return!1;var a=this._3463;return null!=a&&a._290()&&(b=a.getImageIndexByLocation(b.pv),0<=
b&&b!=a._547)?!1:!0};a._7741=function(b){b=this._3463;return this._3461?null!=b&&null!=b.get_FocusedImage():this._3461};a._4137=function(b){(this._1761=b)?(this._268(this._10694),this.set_ActionCursor(this._2220)):this._268("")};a._202=function(){};a._1469=function(b,a){};a._1982=function(b,a){};a._6281=function(b,a){};a._6729=function(b,a){};a._6207=function(){this._10516();this._10123=this._3463=null};a._4610=function(a){null!=this._3463&&b.pv.te("Visual tool is already activated in another image viewer");
if(this._3463=a)this._8226=!0,this._1433(),this._5409(),this._5519(),this.set_IsEnabled(!0)};a._10516=function(){this._5409();this.set_IsEnabled(!1);this._8226=!1;this._1837();this._10123=this._3463=null};a._1837=function(){};a._9215=function(b){this._2454("initializationStarted",b)};a._815=function(b){this._2454("initializationFinished",b)};a._2147=function(b){this._2454("initializationException",b)};a._5409=function(){var b=this._3463;null!=b&&$(b._6466).off("."+this._2936)};a._5519=function(){var b=
this,a="."+b._2936,k=b._3463._6466;$(k).on("_2242"+a,function(k,a){b._1469(k,a)});$(k).on("_7059"+a,function(k,a){b._1982(k,a)});$(k).on("_4337"+a,function(k,a){b._6281(k,a)});$(k).on("focusedIndexChanged"+a,function(k,a){b._6729(k,a)});$(k).on("disposed"+a,function(){b._6207()})};a._1733=function(b){if(this._7741()){var a=Date.now();Math.abs(a-this._3007)>this._6346&&(this._8430=0);this._3007=a;this._2454("mouseDown",b.e)}};a._9698=function(b){this._7741()&&this._2454("mouseMove",b.e)};a._9629=function(b){if(this._7741()){var a=
Date.now();Math.abs(a-this._3007)<this._6346?this._8430++:this._8430=1;this._2454("mouseUp",b.e)}};a._11042=function(b){this._7741()&&this._2454("mouseDoubleClick",b.e)};a._4628=function(){if(this._10123&&this._8226&&!this._6389){var b=this.getDrawingBox(),a=this._9299,k=p._4868._11395(b),m=p._4868._11395(a),b=k===m?p._4868._385(b,a):k?a:b;p._4868._11395(b)||this._3463.invalidate(p._4868._2100(b))}};a._2454=function(b,a){$(this).triggerHandler(b,a)};a._268=function(b){var a=this._3463;null!=a&&a._1110(b)};
a._1433=function(){var b=this._3463;null!=b&&(this._10123=b._606)};a._6160=function(b,a,k){};a._8052=function(){var b=this._10123;if(b)return b.getContext("2d")};this._9951="VisualTool";this._10123=this._3463=null;this._2936=b.WebImagingEnviromentJS.guid();this._5433=new n.WebMouseButtonsEnumJS(1);this._9999=this._8226=this._3461=!1;this._2220=this._10694="default";this._1761=!1;this._8430=1;this._6346=250;this._3007=0;this._9299=p._4868._3842();this._6389=!1;this._1433();delete a.mouseDown;delete a.mouseMove;
delete a.mouseUp;delete a.mouseDoubleClick;delete a.initializationStarted;delete a.initializationFinished;delete a.initializationException},u=function(){var a=u.superclass,d=u.prototype;a.constructor.call(this);d.get_BackColor=function(){return this._2835};d.set_BackColor=function(a){b.pv.s(a);this._2835!=a&&(this._2835=a,this._7741()&&this._4628())};d.get_BorderColor=function(){return this._7427};d.set_BorderColor=function(a){b.pv.s(a);this._7427!=a&&(this._7427=a,this._7741()&&this._4628())};d.get_Rectangle=
function(){var b=this._2848;return{x:b.x,y:b.y,width:b.width,height:b.height}};d.set_Rectangle=function(a){b.pv.r(a);if(this._8940&&this._3463){var k=this._3463._5257();a=this._4048(a,this._2848,{x:0,y:0,width:k.width,height:k.height})}p._4868._464(this._2848,a)||(this._2848={x:a.x,y:a.y,width:a.width,height:a.height},this._1598||this._8491||(k=this._4637,p._4868._11395(a)?("t"===k._7455&&k._7782(),this._4637=this._6709):this._4637=this._5804),this._7741()&&this._4628())};d.get_Movable=function(){return this._1973};
d.set_Movable=function(a){b.pv.b(a);this._1973!==a&&(this._1973=a,this._5804._1578(a))};d.get_Resizable=function(){return this._4548};d.set_Resizable=function(a){b.pv.b(a);if(a!==this._4548){this._4548=a;var k=this._5804;k._8625(a);this._4637===k&&this._7741()&&(a?(k._3316(),this._9299=this.getDrawingBox()):this._4628())}};d.get_SelectionOnlyOnImage=function(){return _8940};d.set_SelectionOnlyOnImage=function(a){b.pv.b(a);this._8940=a};d.get_Rotation=function(){return this._924};d._9402=function(){var b=
this._2848,k=b.x,a=b.y;return{x0:k,y0:a,x1:k+b.width,y1:a+b.height}};d._10943=function(b,k,a,d){b=p._4868._1094({x:b,y:k,width:a-b,height:d-k});this.set_Rectangle(b)};d.reset=function(){this._1837();this._268(this._10694)};d.getDrawingBox=function(){var b=this._3463;if(null==b)return p._4868._3842();var k=this.get_Rectangle();if(p._4868._11395(k))return k;b._10184().transformRectangle(k);b=p._4868._1094(k);b.x-=2;b.y-=2;b.width+=4;b.height+=4;k=this._4637;"t"===k._7455&&(k=k._1397(),b=p._4868._385(b,
k));return p._4868._2100(b)};d._4610=function(b){a._4610.call(this,b);this._6317();p._4868._11395(this._2848)||this._202()};d._1837=function(){this._1598=this._8491=!1;this._5799()};d._202=function(){this._7741()&&this._4628()};d._1733=function(b){a._1733.call(this,b);if(this._1761){var k=b.pc;if(b.b.equals(this._5433)&&this._7741()){var m=this._6317(),d=this._4637;if("b"===d._7455)this._6553(b,m);else if(null==d._5163(k)){if(!this._1973&&(k=m.transformPoint(k),p._4868._10449(this._2848,k)))return;
this._5799();this._6553(b,m)}else d._9849(b)}}};d._9698=function(b){a._9698.call(this,b);if(this._1761){var k=this._4637;if(this._8491||this._1598)k._9849(b);else if("t"===k._7455){var m=this._10694,k=k._2491(b.pc);null!=k&&(m=k._10694,k=b.b,k.equals(this._5433)||0===k.valueOf())&&(b.handled=!0);this._268(m)}}};d._9629=function(b){a._9629.call(this,b);if(this._1761&&(this._8491||this._1598)){var k=this._4637;k._9849(b);1>this._2848.width&&1>this._2848.height?this.set_Rectangle(p._4868._3842()):(this._4637=
k=this._5804,k._3953||(k._3316(),this._9299=this.getDrawingBox()))}};d._7741=function(b){if(this._3461){var k=this._3463;return null!=k&&(k=k.get_FocusedImage(),null==b&&(b=k),null!=b&&b===k)?!b.get_IsBad():!1}return this._3461};d._10476=function(b,k){var a=this._3463._9638(b,k);return p._4868._10449(this._2848,a)};d._1469=function(b,k){this._6317()};d._6281=function(b,k){this.reset()};d._6729=function(b,k){this.reset()};d._4048=function(b,k,a){var d=b.x,g=b.y,w=d+b.width,H=g+b.height,e=a.x,f=a.y,
T=a.width;a=a.height;.01>Math.abs(b.width-k.width)&&.01>Math.abs(b.height-k.height)?(d<e&&(w+=e-d,d=e),g<f&&(H+=f-g,g=f),w>T&&(d-=w-T,w=T),H>a&&(g-=H-a,H=a)):(d<e&&(d=e),g<f&&(g=f),w<e&&(w=e),H<f&&(H=f),d>T&&(d=T),g>a&&(g=a),w>T&&(w=T),H>a&&(H=a));return w===d&&g===H?p._4868._3842():{x:d,y:g,width:w-d,height:H-g}};d._6553=function(b,k){var a=this._4637,d=b.pc;this._8940?(d=k.transformPoint(d),this._900(d)&&a._9849(b)):a._9849(b)};d._5799=function(){this._5804._7782();this._4637=this._6709;this.set_Rectangle(p._4868._3842())};
d._6317=function(){var b=this._3463._7226();this._3234(b);return b};d._3234=function(b){this._5804._3234(b);this._6709._3234(b)};d._900=function(b){var k=this._3463._5257();return p._4868._10449({x:0,y:0,width:k.width,height:k.height},b)};d._6160=function(b,k,a){if(this._7741(a))if(k=this._2848,p._4868._11395(k))this._9299=p._4868._3842();else{if(a=this._8052(),null!=a){this._6317();t._7508(a,b);a.beginPath();var d=Math.max(Math.abs(b._1231),Math.abs(b._7827));0===d&&(d=Math.max(Math.abs(b._5728),
Math.abs(b._216)));a.lineWidth=1/d;a.setLineDash&&a.setLineDash([4]);a.strokeStyle=this._7427;a.fillStyle=this._2835;a.rect(k.x,k.y,k.width,k.height);a.fill();a.stroke();t._7699(a);a.setLineDash&&a.setLineDash([]);b=this._4637;"t"===b._7455&&b._3316();this._9299=this.getDrawingBox()}}else this._9299=p._4868._3842()};d._4719=function(){this._1598=!0};d._236=function(){this._1598=!1};d._1217=function(){this._8491=!0};d._4979=function(){this._8491=!1};this._9951="RectangularSelection";this._2835="rgba(0,200,255,0.5)";
this._7427="rgba(0,0,0,1)";this._2848=p._4868._3842();this._8940=this._4548=this._1973=!0;this._8491=this._1598=!1;this._924=0;d=new ca(this);d._977={width:0,height:0};this._6709=d;d=new ra(this);d._7412(!1);this._5804=d;this._4637=this._6709;$(this).on("_10811",function(){this._1217()});$(this).on("_9285",function(){this._4979()});$(this).on("_1563",function(){this._4719()});$(this).on("_8016",function(){this._236()})};b.extend(u,q);var v=function(){var a=v.superclass,d=v.prototype;a.constructor.call(this);
d.get_ZoomButton=function(){return this._8120};d.set_ZoomButton=function(a){this._8120=b.pv.e(a,n.WebMouseButtonsEnumJS)};d.set_ActionCursor=function(b){a.set_ActionCursor.call(this,b);this._5804._7780.set_Cursor(b);this._3498.set_Cursor(b)};d._1733=function(b){a._1733.call(this,b);var k=this._4637;if("t"===k._7455){var m=this._8120;if(b.b.equals(m)&&(k=this._5433.equals(m)?k._5334:k._2491(b.pc),null!=k&&("move"===k._8668||"zoom"===k._8668))){var k=this._3463,m=this.get_Rectangle(),m=p._4868._1094(m),
d=k._640(),g=k._10050._6746(m),w=k.get_ImageRotationAngle(),d=90==w||270==w?Math.min(d.height/g.width,d.width/g.height):Math.min(d.width/g.width,d.height/g.height);this._7320=p._4868._8105(m);this.reset();k.set_ImageSizeMode(new n.WebImageSizeModeEnumJS(3));m=k._4668*d;1>m&&(m=1);1E3<m&&(m=1E3);k.set_Zoom(m);b.handled=!0}}};d._1469=function(b,k){var m=this._3463,d=m._10184();if(null!=this._7320){var g=m._1704(),w=m._640();d.translate(g.x,g.y);d=d.transformPoint(this._7320);m._558(d.x-w.width/2,d.y-
w.height/2);this._7320=null;var H=this;setTimeout(function(){a._1469.call(H,b)},0)}else a._1469.call(this,b)};this._9951="ZoomSelection";this._8120=new n.WebMouseButtonsEnumJS(1);this._7320=null;d=new Ja(this);d._8668="zoom";this._5804._2945.splice(1,0,d);this._3498=d;this.set_ActionCursor("zoom-in")};b.extend(v,u);var E=function(){},s=function(a){var d=s.prototype;d._1563=function(b){};delete d._1563;d._8016=function(b){};delete d._8016;d._2099=function(b,a){};delete d._2099;d._10811=function(b){};
delete d._10811;d._9285=function(b){};delete d._9285;d.get_BackColor=function(){return this._2835};d.set_BackColor=function(a){b.pv.s(a);this._2835!==a&&(this._2835=a,this._6663())};d.get_BorderColor=function(){return this._7427};d.set_BorderColor=function(a){b.pv.s(a);this._7427!==a&&(this._7427=a,this._6663())};d.get_SelectedRect=function(){var b=this._2848;return{x:b.x,y:b.y,width:b.width,height:b.height}};d.set_SelectedRect=function(a){b.pv.r(a);p._4868._464(this._2848,a)||(this._2848={x:a.x,
y:a.y,width:a.width,height:a.height},this._6663())};d.get_Rotation=function(){return this._924};d._9402=function(){var b=this._2848,a=b.x,m=b.y;return{x0:a,y0:m,x1:a+b.width,y1:m+b.height}};d._10943=function(b,a,m,d){var g=0,w=0,g=Math.min(b,m),w=Math.min(a,d),H=0,e=0,H=Math.max(b,m),e=Math.max(a,d);this._2848={x:g,y:w,width:H-g,height:e-w};this._6663()};d.clone=function(){var b=new this.constructor(this._2848);b._2835=this._2835;b._7427=this._7427;return b};d._10476=function(b,a){return p._4868._10449(this._2848,
{x:b,y:a})};d._6160=function(b,a){var m=this.get_SelectedRect();if(!p._4868._11395(m)){var d=this._657;if(null!=d){var g=this._9990(b,a);t._7508(d,g);d.beginPath();var w=Math.max(Math.abs(g._1231),Math.abs(g._7827));0===w&&(w=Math.max(Math.abs(g._5728),Math.abs(g._216)));d.lineWidth=1/w;d.strokeStyle=this._7427;d.fillStyle=this._2835;d.rect(m.x,m.y,m.width,m.height);d.fill();d.stroke();t._7699(d);this._9299=this._1050(b,a)}}};d._9990=function(b,a){return b._10184(a)};d._6759=function(b,a){return b._7226(a)};
d._1050=function(b,a){var m=this.get_SelectedRect();if(p._4868._11395(m))return m;this._9990(b,a).transformRectangle(m);m=p._4868._1094(m);m.x-=2;m.y-=2;m.width+=4;m.height+=4;var d=this._4637;"t"===d._7455&&d._3953&&(d=d._1397(),m=p._4868._385(m,d));return p._4868._2100(m)};d._6663=function(b){null==b&&(b=!0);this._2454("_2099",b)};d._6317=function(b){this._5804._3234(b);this._6709._3234(b);return b};d._2454=function(b,a){$(this).triggerHandler(b,a)};d._8052=function(){return this._657};d._4719=
function(){this._1598=!0};d._236=function(){this._1598=!1};d._1217=function(){this._8491=!0};d._4979=function(){this._8491=!1};null==a&&(a=p._4868._3842());b.pv.r(a);this._2848={x:a.x,y:a.y,width:a.width,height:a.height};this._2835="rgba(0,200,255,0.5)";this._7427="rgba(0,0,0,1)";this._924=0;this._2936=b.WebImagingEnviromentJS.guid();this._657=null;a=new ca(this);a._977={width:100,height:100};this._6709=a;a=new ra(this);a._7412(!1);this._4637=this._5804=a;this._8491=this._1598=!1;this._9299=p._4868._3842();
$(this).on("_10811",function(){this._1217()});$(this).on("_9285",function(){this._4979()});$(this).on("_1563",function(){this._4719()});$(this).on("_8016",function(){this._236()})};b.extend(s,E);var x=function(a){function d(b,a){var e=b.type,g={i:this,r:a};$(b.data.c).triggerHandler(e,g)}var e=x.prototype;a===E||b.pv.ic(a.prototype,E)||b.pv.te("Collection can work only with classes inherited from InteractiveObject");this._10765=a;this._5680=[];e._11063=function(b,a){};delete e._11063;e.get_Item=function(a){b.pv.n(a);
(0>a||a>=this._5680.length)&&b.pv.toe();return this._5680[a]};e.get_Count=function(){return this._5680.length};e.indexOf=function(a){b.pv.c(a,this._10765);return this._5680.indexOf(a)};e.clearItems=function(){var b=this._5680;if(0<b.length){for(var a=0;a<this._5680.length;a++)this._9954(b[a]);this._5680=[];this._6110("clear",null,null,null,b)}};e.addItem=function(b){this.insertItem(this._5680.length,b)};e.insertItem=function(a,d){(0>a||a>this._5680.length)&&b.pv.toe();this._1390(d);this._7742(d);
this._5680.splice(a,0,d);this._6110("insert",a,d)};e.removeItem=function(a){b.pv.c(a,this._10765);a=this._5680.indexOf(a);-1===a&&b.pv.te("Collection does not contains specified interactive object");this.removeItemAt(a)};e.removeItemAt=function(a){(0>a||a>=this._5680.length)&&b.pv.toe();var d=this._5680[a];this._9954(d);this._5680.splice(a,1);this._6110("remove",a,d)};e.setItem=function(a,d){(0>a||a>=this._5680.length)&&b.pv.toe();this._1390(d);var e=this._5680[a];e!=d&&(this._5680[a]=d,this._9954(e),
this._7742(d),this._6110("set",a,d,e))};e.toArray=function(){return this._5680.slice()};e._4988=function(){for(var b=0;b<this._5680.length;b++)this._9954(this._5680[b]);this._5680=[]};e._6110=function(b,a,d,g,w){b={actionName:b};null!=a&&(b.index=a);null!=d&&(b.item=d);null!=g&&(b.previousItem=g);null!=w&&(b.items=w);$(this).triggerHandler("_11063",b)};e._1390=function(a){b.pv.c(a,this._10765);null!=a._657&&b.pv.te("Item is already used in other collection.")};e._7742=function(b){var a={c:this};$(b).on("_2099",
a,d)};e._9954=function(b){$(b).off("_2099",d)}},B=function(){B.superclass.constructor.call(this,s)};b.extend(B,x);var z=function(){function a(b,g){var k=b.data.t,w=k._8157(this);if(null!=w){if(!k._5890){var m=g.item,A=g.previousItem;switch(g.actionName){case "remove":k._5507==m?k._1458():k._1543(m);e(k,m);break;case "insert":d(k,m,w);break;case "clear":m=g.items;k._1458();k._4628();for(A=0;A<m.length;A++)e(k,m[A]);break;case "set":k._1543(A),d(k,m,w),k._5507==A&&(k._5507=null,k._1458(m)),e(k,A)}}k._2454("collectionChanged",
{collection:this,image:w})}}function d(b,a,g){b._11393[a._2936]=g;g=a._6759(b._3463,g);a._6317(g);a._657=b._8052();g="."+b._2936;var k={t:b};$(a).on("_1563"+g,k,m);$(a).on("_8016"+g,k,A);b._1543(a)}function e(b,a){delete b._11393[a._2936];var g="."+a._2936;$(b).off(g);a._657=null;a._9299=p._4868._3842()}function k(b,a){a.r&&b.data.t._1543(a.i)}function m(b){b.data.t._2454("buildingStarted",this)}function A(b){b.data.t._2454("buildingFinished",this)}var g=z.superclass,w=z.prototype;g.constructor.call(this);
w.focusedItemChanged=function(b,a){};delete w.focusedItemChanged;w.collectionChanged=function(b,a){};delete w.collectionChanged;w.buildingStarted=function(b,a){};delete w.buildingStarted;w.buildingFinished=function(b,a){};delete w.buildingFinished;w.get_FocusedItem=function(){return this._5507};w.set_FocusedItem=function(a){null!=a&&b.pv.c(a,s);this._1458(a)};w.get_IsMultipageModeSupported=function(){return!0};w.addAndBuild=function(b){b._4637=b._6709;this.add(b)};w.add=function(a,g){var k=this._3463;
null==k&&b.pv.te("VisualTool is not set in viewer.");var w=k.get_FocusedImage();null==g?g=w:(b.pv.c(g,b.WebImageJS),-1===k.get_Images().indexOf(g)&&b.pv.te("Image collection of viewer does not contain specified image."));this._5651(g,a);g===w&&this._1458(a)};w.getSelections=function(b){return this._10020(b)};w.getDrawingBox=function(){var b=this._10123;return b?{x:0,y:0,width:b.width,height:b.height}:p._4868._3842()};w.reset=function(){for(var b in this._1125){var a=this._1125[b];if(null!=a){a._4988();
var g="."+this._2936;$(a).off(g)}}this._1125={};this._11393={};this._5507=null};w._1733=function(b){var a=b.pc;if(b.b.equals(this._5433)&&this._7741()){g._1733.call(this,b);var k=this._5507;if(null!=k){var w=k._4637;if(k._1598||k._8491)w._9849(b);else if("t"===w._7455)if(null==w._5163(a)){if(!w._3933&&(a=k._6759(this._3463,this._11393[k._2936]).transformPoint(a),k._10476(a.x,a.y)))return;this._8509(b)}else w._9849(b);else w._9849(b)}else this._8509(b)}};w._9698=function(b){if(this._1761){g._9698.call(this,
b);var a=this._5507;if(null!=a){var k=a._4637;a._1598||a._8491?k._9849(b):"t"===k._7455&&k._3953&&(a=this._10694,k=k._2491(b.pc),null!=k&&(a=k._10694,k=b.b,k.equals(this._5433)||0===k.valueOf())&&(b.handled=!0),this._268(a))}else this._268(this._10694)}};w._9629=function(b){g._9629.call(this,b);if(this._1761){var a=this._5507;if(null!=a){var k=this._3463,w=k.get_FocusedImage(),d=a._4637,m=a._1598||a._8491;d._9849(b);b=a._1598||a._8491;m&&!b&&("b"===d._7455&&(a._4637=a._5804,a._4637._3953||(a._4637._3316(),
a._9299=a._1050(k,w))),d=a.get_SelectedRect(),a._6759(k,w).invert().transformRectangle(d),d=p._4868._8105(d),d=k._1242(d),d=k.getImageIndexByLocation(d),-1!=d&&k._547!==d&&(m=k.get_Images().get_Image(d),this._110(a,w,m),this._9359=!0,k.disableAutoScrollToFocusedImage(),k.set_FocusedIndex(d),k.enableAutoScrollToFocusedImage(),this._9359=!1))}}};w._4610=function(b){g._4610.call(this,b);this._10133()};w._1837=function(){var b=this._5507;null!=b&&(b=b._4637,"t"===b._7455&&b._3953&&b._7782(),this._5507=
null)};w._2380=function(b){if(null==this._3463.get_FocusedImage())return!1;var a=this._5507;if(null!=a)if(a=a._4637,"t"===a._7455){if(null!=a._2491(b.pc))return!0}else return!0;return g._2380.call(this,b)};w._1469=function(b,a){this._10133()};w._6729=function(b,a){this._1458()};w._3771=function(b){for(var a=this._3463,g=a._10911(),k=0;k<g.length;k++){var d=g[k],w=d.get_Guid(),w=this._1125[w];if(null!=w&&(w=w._5680,0<w.length))for(var d=w[0]._6759(a,d).transformPoint(b),m=w.length-1;0<=m;m--){var e=
w[m];if(e._10476(d.x,d.y))return e}}return null};w._6160=function(b,a,g){if(this._7741(g)&&(a=this._10020(g),null!=a&&(b=this._3463,a=a._5680,0<a.length)))for(var k=a[0]._6759(b,g),w=0;w<a.length;w++){var d=a[w];d._6317(k);d._6160(b,g);d===this._5507&&"t"===d._4637._7455&&d._4637._3316()}};w._1543=function(b){var a=this._3463;if(null!=a&&null!=a.get_FocusedImage()){var g=b._1050(a,this._11393[b._2936]);p._4868._11395(g)||(b=b._9299,p._4868._11395(b)||(g=p._4868._385(g,b)),a.invalidate(g))}};w._8509=
function(b){var a=this._3771(b.pc);this._1458(a);null!=a&&(a=a._4637,a._9849(b),null!=a._5334&&this._268(a._5334._10694))};w._1458=function(a){var g=this,k=g._3463;if(null!=k&&!g._9359){void 0==a&&(a=null);var w;null!=a&&(w=g._11040(a),null==w&&b.pv.te("Selection is not found."));var d=g._5507;if(d!=a){var m=function(){if(null!=a){var b=a.get_SelectedRect();if(!p._4868._11395(b)){var m=k.get_FocusedImage();a._9990(k,m).transformRectangle(b);b=p._4868._1094(b);m=k._3602();p._4868._3187(b,m)||(b=p._4868._8105(b),
b=k.transformPointFromControlToImage(b),k.scrollToImagePoint(b.x,b.y))}b=a._4637;"t"!==b._7455||b._3953||b._3316();a._9299=a._1050(k,w)}g._2454("focusedItemChanged",{oldValue:d,newValue:a})};g._5507=null;if(null!=d){var e=d._4637;"t"===e._7455&&e._3953&&(e._7782(),g._1543(d))}g._5507=a;e=k.get_FocusedImage();null!=a&&w!==e?(g._9359=!0,e=k.get_Images().indexOf(w),k.setFocusedIndexAsync(e,m),g._9359=!1):m()}}};w._11040=function(b){return this._11393[b._2936]};w._8157=function(b){var a=this._3463;if(null!=
a)for(var g in this._1125)if(this._1125[g]===b){var k=a.get_Images(),w=k.indexOf(g);if(-1!=w)return k.get_Image(w)}};w._10020=function(g,w){b.pv.c(g,b.WebImageJS);null==w&&(w=!0);if(w){var d=this._3463;if(null==d||-1===d.get_Images().indexOf(g))return null}var d=g.get_Guid(),m=this._1125[d];if(null==m){var e=m=this._11282(),A="."+this._2936,f={t:this};$(e).on("_11063"+A,f,a);$(e).on("_2099"+A,f,k);this._1125[d]=m}return m};w._11282=function(){return new B};w._5651=function(b,a){this._10020(b).addItem(a)};
w._110=function(b,a,g){var k=this._3463,w=b._9990(k,a),k=b._6759(k,g),d=b._2848;w.transformRectangle(d);k.transformRectangle(d);b._6317(k);this._5890=!0;this._10020(a).removeItem(b);b._657=null;this._11393[b._2936]=g;this._5651(g,b);b._657=this._8052();a=b._6759(this._3463,g);b._6317(a);this._5890=!1};w._10133=function(){var b=this._3463;if(null!=b){for(var a={},g=b.get_Images().toArray(),k=0;k<g.length;k++){var w=g[k],d=w.get_Guid();null!=this._1125[d]&&(a[d]=w)}for(d in this._1125)if(null==a[d]){g=
this._1125[d];if(null!=g){for(var m=g._5680,k=0;k<m.length;k++)w=m[k],w===this._5507&&(this._5507=null),delete this._11393[w._2936];g._4988();k="."+this._2936;$(g).off(k)}delete this._1125[d]}else if(g=this._1125[d],null!=g&&(w=a[d],m=g._5680,0<m.length))for(g=m[0]._6759(b,w),k=0;k<m.length;k++)m[k]._6317(g)}};this._9951="Multi-rectangular selection";this._1125={};this._11393={};this._5507=null;this._9359=this._5890=!1};b.extend(z,q);var F=function(){var a=F.superclass;a.constructor.call(this);var d=
F.prototype;d.get_SelectedItem=function(){if(null==this._5015)return-1;for(var b=this._5015.ci,a=0,d=0;d<b;d++)a+=this._5680[d].get_Count();return a+=this._5015.ei};d.set_SelectedItem=function(a){b.pv.n(a);0>a&&b.pv.toe();for(var k=a,d=0,e=0;d<this._5680.length;d++){var g=this._5680[d].get_Count(),e=e+g;if(k>=g)k-=g;else break}a>=e&&b.pv.toe();this._5015={ci:d,ei:k};this._7741()&&this._4513&&this._4628()};d.get_SelectedItemBrushColor=function(){return this._1891};d.set_SelectedItemBrushColor=function(a){b.pv.s(a);
this._1891!==a&&(this._1891=a,this._7741()&&this._4513&&this._4628())};d.get_SelectedItemPenColor=function(){return this._2317};d.set_SelectedItemPenColor=function(a){b.pv.s(a);this._2317!==a&&(this._2317=a,this._7741()&&this._4513&&this._4628())};d.reset=function(){this.clearItems()};d.addItems=function(a){b.pv.c(a,G);this._5680.push(a);this._7741()&&this._4628()};d.removeItemAt=function(a){b.pv.n(a);(0>a||a>=this._5680.length)&&b.pv.toe();this._5680.splice(a,1);this._7741()&&this._4628()};d.clearItems=
function(){this._5015=null;this._4513=!1;this._5680=[];this._7741()&&this._4628()};d.findItem=function(a,k){b.pv.n(a,k);if(this._4513){var d=this._3463._83(a,k),d=this._4845(d.x,d.y);if(null!=d)return d.item}};d.getDrawingBox=function(){if(null==this._3463||null==this._10420)return p._4868._3842();for(var b=p._4868._3842(),a=0;a<this._5680.length;a++){var d=this._5680[a].getDrawingBox();p._4868._11395(d)||(b=p._4868._11395(b)?d:p._4868._385(b,d))}p._4868._11395(b)||(this._10420.transformRectangle(b),
b=p._4868._1094(b));return b};d.selectItem=function(a){b.pv.c(a,D);var k=this._5015;if(null==k||this._5680[k.ci]._7341[k.ei]!==a){for(var k=0,d=-1;k<this._5680.length&&(d=this._5680[k]._7341.indexOf(a),-1===d);k++);-1===d&&b.pv.te("Item is not contained in tool regions.");this._5015={ci:k,ei:d};this._7741()&&this._4513&&this._4628()}};d._4610=function(b){a._4610.call(this,b);this._10420=b._10184()};d._1837=function(){this._5015=null;this._4513=!1};d._4845=function(b,a){if(this._4513)for(var d=this._3463._7226().transformPoint({x:b,
y:a}),e=this._5680.length-1;0<=e;e--)for(var g=this._5680[e],w=g.get_Count()-1;0<=w;w--){var f=g.get_Item(w);if(p._4868._4396(f.get_Path(),d))return{item:f,ci:e,ei:w}}};d._202=function(){this._7741()&&this._4628()};d._1733=function(b){a._1733.call(this,b);b.b.equals(this._5433)&&this._7741()&&(b=b.pc,b=this._4845(b.x,b.y),this._5015=null==b?null:{ci:b.ci,ei:b.ei},this._4628())};d._9698=function(b){a._9698.call(this,b);if(this._7741()){b=b.pc;var k;b=this._4845(b.x,b.y);null!=b&&(k=b.item);null!=k?
(this._3463._8902(k.get_ToolTip()),""!==this._2220&&this._268(this._2220)):(this._268(this._10694),this._3463._8902(""))}};d._7741=function(b){if(this._3461){var a=this._3463;return null!=a&&(a=a.get_FocusedImage(),null==b&&(b=a),null!=b&&b===a)?!b.get_IsBad():!1}return this._3461};d._6281=function(b,a){this.reset()};d._6160=function(b,a,d){this._10420=b;this._4513=!1;if(this._7741(d)){if(a=this._8052(),null!=a){d=this._5015;var e=null!=d?d.ci:-1;t._7508(a,b);b=this._5680;for(var g=0;g<b.length;g++)g!=
e?b[g]._10018(a,-1,"",""):b[g]._10018(a,d.ei,this._1891,this._2317);for(g=d=0;g<b.length;g++)d+=b[g]._7341.length;0<d&&(this._4513=!0);t._7699(a);this._9299=this.getDrawingBox()}}else this._9299=p._4868._3842()};this._9951="HighlightTool";this._5680=[];this._5015=null;this._1891="rgba(0,0,255,0.18)";this._2317="rgba(0,128,0,0.75)";this._4513=!1;this._10420=null};b.extend(F,q);var D=function(a){var d=D.prototype;d.get_Path=function(){return this._9983};d.get_ToolTip=function(){return this._7561};d.set_ToolTip=
function(b){this._7561=b};d.getDrawingBox=function(){var b=p._4868._11170(this._9983);--b.x;--b.y;b.width+=2;b.height+=2;return b};d._5952=function(b){var a=this._9983;if(0!=a.length){b.beginPath();b.moveTo(a[0].x,a[0].y);for(var d=1;d<a.length;d++)b.lineTo(a[d].x,a[d].y);b.closePath();b.fill();b.stroke()}};this._9983=[];b.pv.ad(a,b.pv.p);for(d=0;d<a.length;d++)this._9983.push({x:a[d].x,y:a[d].y});this._7561=""};D.createObjectFromRectangle=function(a){b.pv.r(a);a=p._4868._8999(a);return new D(a)};
D.createObjectFromPolygon=function(b){return new D(b)};var G=function(a,d,e){var k=G.prototype;k.get_Count=function(){return this._7341.length};k.get_Item=function(a){b.pv.n(a);(0>a||a>this._7341.length)&&b.pv.toe();return this._7341[a]};k.getDrawingBox=function(){for(var b=p._4868._3842(),a=0;a<this.get_Count();a++)var g=this.get_Item(a).getDrawingBox(),b=p._4868._11395(b)?g:p._4868._385(b,g);return b};k._10018=function(b,a,g,k){b.fillStyle=this._252;b.strokeStyle=this._1086;for(var d=0;d<this._7341.length;d++)d!=
a?this._7341[d]._5952(b):(b.fillStyle=g,b.strokeStyle=k,this._7341[d]._5952(b),b.fillStyle=this._252,b.strokeStyle=this._1086)};b.pv.ac(a,D);null==e&&(e="rgba(0,0,0,1)");b.pv.s(d,e);this._252=d;this._1086=e;this._7341=a},C=function(){var a=C.superclass;a.constructor.call(this);var d=C.prototype;d.get_ZoomInButton=function(){return this._4126};d.set_ZoomInButton=function(a){this._4126=b.pv.e(a,n.WebMouseButtonsEnumJS)};d.get_ZoomOutButton=function(){return this._5394};d.set_ZoomOutButton=function(a){this._5394=
b.pv.e(a,n.WebMouseButtonsEnumJS)};d.get_ZoomStep=function(){return this._1013};d.set_ZoomStep=function(a){b.pv.n(a);this._1013=a};d.reset=function(){this._1837()};d._1733=function(b){a._1733.call(this,b);var k=this._3463,d=k.get_Zoom(),e=0;this._5394.equals(b.b)&&(e-=this._1013);this._4126.equals(b.b)&&(e+=this._1013);e=d*(1+e/100);1>e&&(e=1);1E3<e&&(e=1E3);e!==d&&(this._5377=d=b.pc,this._8036=k._9638(d),k.set_ImageSizeMode(3),k.set_Zoom(e));b.handled=!0};d._9698=function(b){a._9698.call(this,b);
this._268(this._10694)};d._1469=function(b,a){if(null!=this._8036){var d=this._3463,e=d._3071(this._8036),g=e.x-this._5377.x,e=e.y-this._5377.y,w=d._1704();d._558(w.x+g,w.y+e);this._8036=this._5377=null}};d._1837=function(){this._8036=this._5377=null};this._9951="Zoom";this._4126=new n.WebMouseButtonsEnumJS(1);this._5394=new n.WebMouseButtonsEnumJS(2);this._1013=10;this._8036=this._5377=null;this._9999=!0};b.extend(C,q);var I=function(){function a(b){if(b._7741()){var g=b._3463._4022[0],k=b._3463.get_FocusedImage();
if(null!=g&&null==b._6644){b._6644=$("<div>").insertBefore(g);var g=b._7449.width,e=b._7449.height,f=m(b),f={width:g,height:e,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":f,position:"absolute","pointer-events":"none"};$(b._6644).css(f);b._6644[0].oncontextmenu=function(b){return!1};g=$("<canvas width='"+g+"' height='"+e+"' style='cursor:none'>").appendTo(b._6644);b._1956=g[0];null!=k&&d(b,k)}}}function d(b,g){if(null==b._1956)a(b);else{var k=
new xa._2326(b._1956,g,b._3463._5699);b._11056=k;k._10094();e(b);k._9158(b._3463._1814);k._1751(1024,1024);k._7023();k._5998()}}function e(b){var a=b._11056,g=b._3463._10050,k=g._7826;if(null==a)d(b,k);else{a._2870._8169=!0;a._10094();var m=k.gi();m!==b._1028&&(a._429(k),a._7072(g),b._1028=m);k=b._9194/100;a._7511(g._444*k,g._9006*k);a._9158(g._1814);b={x:0,y:0,width:b._7449.width,height:b._7449.height};a._6581(b);a._6353(b);g=g._6205();null!=g&&(g=g.clone(),g.set_BorderWidth(0));a._9073(g);a._5998()}}
function k(b,a){var g=a.x,k=a.y;if(b._3463._10050._10755()){$(b._6644).css("display","block");var d=b._3463._4072(),m=b._3463._3602(),e=b._3463._1704(),d=p._4868._6314(d,m);d.x-=e.x;d.y-=e.y;m=b._9194/100;e=b._7449.width/(2*m);m=b._7449.height/(2*m);g<e+d.x&&(g=e+d.x+1);k<m+d.y&&(k=m+d.y+1);var f=d.width;g+e>f+d.x&&(g=f-Math.ceil(e)-1+d.x);e=d.height;k+m>e+d.y&&(k=e-Math.ceil(m)-1+d.y);$(b._6644).css({"margin-left":g-b._7449.width/2,"margin-top":k-b._7449.height/2});var d=b._3463._9638(g,k),g=b._11056,
e=g._2882(),k=d.x*e.x,d=d.y*e.y,e=b._7449.width/2,m=b._7449.height/2,f=g._4085(),A={x:k-e,y:d-m,width:b._7449.width,height:b._7449.height};switch(g._9863()){case 90:A={x:f.height-d-e,y:k-m,width:b._7449.height,height:b._7449.width};break;case 180:A={x:f.width-k-e,y:f.height-d-m,width:b._7449.width,height:b._7449.height};break;case 270:A={x:d-e,y:f.width-k-m,width:b._7449.height,height:b._7449.width}}0>A.x&&(A.x=0);0>A.y&&(A.y=0);g._2870._8169=!0;g._6581(A)}else $(b._6644).css("display","none")}function m(b){var a=
"inherit";if(null!=b._6644)for(b=b._6644.parent();0!==b.length&&b[0]!=document;){var g=b.css("background-color");if("rgba(0, 0, 0, 0)"!==g&&"transparent"!==g){a=g;break}b=b.parent()}return a}var f=I.superclass;f.constructor.call(this);var g=I.prototype;g.get_Size=function(){return{width:this._7449.width,height:this._7449.height}};g.set_Size=function(a){b.pv.sz(a);var g=a.width;a=a.height;(0>g||0>a)&&b.pv.tae();if(this._7449.width!==g||this._7449.height!==a)this._7449={width:g,height:a},null!=this._6644&&
($(this._6644).css({width:g,height:a}),this._1956.width=g,this._1956.height=a,null!=this._11056&&(e(this),null!=this._4221&&k(this,this._4221)))};g.get_Zoom=function(){return this._9194};g.set_Zoom=function(a){b.pv.n(a);100>a&&(a=100);500<a&&(a=500);a!==this._9194&&(this._9194=a,null!=this._11056&&(e(this),null!=this._4221&&k(this,this._4221)))};g.set_ActionCursor=function(b){f.set_ActionCursor.call(this,b);this._7741()&&this._1761&&this._905&&this._268(b)};g.set_IsEnabled=function(b){var a=this._3461;
f.set_IsEnabled.call(this,b);b=this._3461;b===a||b||this._1658()};g.reset=function(){this._6917()};g._1733=function(b){f._1733.call(this,b);if(b.b.equals(this._5433)&&this._7741()){var a=b.pc,g=b.pv,d=!1,m=this._3463._10050;null!=m&&(d=m._6038(g));d&&(e(this),this._9425(a),k(this,a),b.handled=!0,b.active=!0)}};g._9698=function(b){f._9698.call(this,b);if(this._905){var a=b.pc;this._268(this._2220);this._4221=a;k(this,a);b.handled=!0;b.active=!0}else this._268(this._10694)};g._9629=function(b){f._9629.call(this,
b);this._905&&this._6917()};g._4610=function(b){f._4610.call(this,b);null==this._6644&&a(this)};g._10516=function(){f._10516.call(this);this._1837();this._1658()};g._1837=function(){this._4221=null;this._905=!1};g._4137=function(b){this._1761=b;this._268(this._1761?this._10694:"")};g._7741=function(b){if(this._3461){var a=this._3463;return null!=a&&(a=a.get_FocusedImage(),null==b&&(b=a),null!=b&&b===a)?!b.get_IsBad():!1}return this._3461};g._6729=function(b,a){this._905&&this._6917()};g._6160=function(b,
a,g){this._905&&this._7741(g)&&k(this,this._4221)};g._1658=function(){this._11056=null;$(this._6644).remove();this._1028=this._6644=this._1956=null;this._905=!1};g._9425=function(b){if(null!=this._6644){this._905=!0;var a=m(this);$(this._6644).css({display:"block","background-color":a});this._4221=b;this.set_ActionCursor(this._2220)}};g._6917=function(){$(this._6644).css("display","none");this._1837();this.set_Cursor(this._10694)};this._9951="Magnifier";this._7449={width:200,height:200};this._9194=
250;this._4221=this._1028=this._11056=this._1956=this._6644=null;this._905=!1;this._2220="none"};b.extend(I,q);var V=function(a){function d(b,a){var k="."+b._2936;$(a).on("initializationStarted"+k+" initializationFinished"+k+" initializationException"+k,function(a,g){b._2454(a.type,g)})}var e=V.superclass;e.constructor.call(this);var k=V.prototype;k.get_VisualTools=function(){return this._6501.slice()};k.get_Tool=function(a){b.pv.n(a);0>a&&a>this._6501.length&&b.pv.toe();return this._6501[a]};k.get_ActiveVisualTool=
function(){return this._9942};k.set_ActiveVisualTool=function(a){if(0!=this._6501.length){if(null!=a&&(b.pv.c(a,q),-1===this._6501.indexOf(a)&&b.pv.te("Composite visual tool does not contain specified visual tool."),this._9942==a))return;var g=null==a?!0:!1;this._9942=a;for(a=this._6501.length-1;0<=a;a--)this._6501[a]._4137(g);null!=this._9942&&this._9942._4137(!0);this._4628()}};k.set_IsEnabled=function(a){if(this._8226&&(b.pv.b(a),this._3461!==a)){this._3461=a;this._4137(a);for(var g=this._6501.length-
1;0<=g;g--){var k=this._6501[g];k._6389=!0;k.set_IsEnabled(a);k._6389=!1}this._3461&&(a=this._9942,null!=a&&a._4137(!0));this._4628()}};k.get_IsMultipageModeSupported=function(){for(var b=0;b<this._6501.length;b++)if(this._6501[b].get_IsMultipageModeSupported())return!0;return!1};k.get_DisableContextMenu=function(){if(null!=this._9942)return this._9942._9999;for(var b=0;b<this._6501.length;b++)if(this._6501[b]._9999)return!0;return!1};k.set_DisableContextMenu=function(a){b.pv.b(a);var g=this._6501;
if(0!==g.length)if(null!=this._9942)this._9942._9999=a;else if(1===g.length)g[0]._9999=a;else for(var k=0;k<g.length;k++)g[k]._9999!=a&&b.pv.te("The property cannot be set for composite visual tool.")};k.reset=function(){for(var b=this._6501.length-1;0<=b;b--)this._6501[b].reset()};k.contains=function(a){b.pv.c(a,q);for(var g=this._6501,k=0;k<g.length;k++){var d=g[k];if(b.pv.ic(d,V)){if(d.contains(a))return!0}else if(d===a)return!0}return!1};k.getDrawingBox=function(){for(var b=p._4868._3842(),a=
0;a<this._6501.length;a++){var k=this._6501[a].getDrawingBox();p._4868._11395(b)?b=k:p._4868._11395(k)||(b=p._4868._385(b,k))}return b};k._2380=function(b){if(this._3461){if(null!=this._9942)return this._9942._2380(b);for(var a=0;a<this._6501.length;a++)if(this._6501[a]._2380(b))return!0}return!1};k._4610=function(a){null!=this._3463&&b.pv.te("Visual tool is already activated in another image viewer");this._3463=a;this._3461=this._1761=this._8226=!0;for(var g=this._6501.length-1;0<=g;g--){var k=this._6501[g];
k._4610(a);k._5409();d(this,k)}this._5519();a=this._9942;null!=a&&a._4137(!0);this._10123=this._6501[0]._10123};k._10516=function(){for(var b=this._6501.length-1;0<=b;b--){var a=this._6501[b];a._10516();var k="."+this._2936;$(a).off(k)}e._10516.call(this)};k._1733=function(b){e._1733.call(this,b);if(null!=this._9942)this._9942._7741()&&this._9942._1733(b);else for(var a=0;a<this._6501.length;a++){var k=this._6501[a];if(k._7741()&&(k._1733(b),b.handled))break}};k._9698=function(b){e._9698.call(this,
b);var a=this._9942;if(null!=a)a._7741()&&a._9698(b);else for(a=0;a<this._6501.length;a++){var k=this._6501[a];if(k._7741()&&(k._9698(b),b.handled))break}};k._9629=function(b){e._9629.call(this,b);var a=this._9942;if(null!=a)a._7741()&&a._9629(b);else for(a=0;a<this._6501.length;a++){var k=this._6501[a];if(k._7741()&&(k._9629(b),b.handled))break}};k._11042=function(b){e._11042.call(this,b);var a=this._9942;if(null!=a)a._7741()&&a._11042(b);else for(a=0;a<this._6501.length;a++){var k=this._6501[a];
if(k._7741()&&(k._11042(b),b.handled))break}};k._1469=function(b,a){for(var k=this._6501.length-1;0<=k;k--)this._6501[k]._1469(b,a)};k._1982=function(b,a){for(var k=this._6501.length-1;0<=k;k--)this._6501[k]._1982(b,a)};k._6281=function(b,a){for(var k=this._6501.length-1;0<=k;k--)this._6501[k]._6281(b,a)};k._6729=function(b,a){for(var k=this._6501.length-1;0<=k;k--)this._6501[k]._6729(b,a)};k._6207=function(){for(var b=this._6501.length-1;0<=b;b--)this._6501[b]._6207();e._10516.call(this);this._10123=
this._3463=null};k._6160=function(b,a,k){for(var d=this._9942,m=this._6501.length-1;0<=m;m--){var e=this._6501[m];null!=e._10420&&(e._10420=b);if(e._7741(k)&&e!=d){var f=e.getDrawingBox();p._4868._3187(f,a)&&e._6160(b,a,k)}}null!=d&&d._7741(k)&&(f=d.getDrawingBox(),p._4868._3187(f,a)&&d._6160(b,a,k))};k._1433=function(){e._1433.call(this);var b=this._6501;if(null!=b)for(var a=b.length-1;0<=a;a--)b[a]._1433()};k._7893=function(){var a=this._9942;if(null!=a)return a._3461?a:null;for(var a=this._6501,
g=0;g<a.length;g++){var k=a[g];if(b.pv.ic(k,V)){if(k=k._7893(),null!=k)return k}else if(k._3461)return k}};this._6501=[];this._9951="Composite:";var m=this;b.pv.ad(a,function(a){b.pv.c(a,q);m._6501.push(a);m._9951+=a._9951+","});this._9951=this._9951.substr(0,this._9951.length-1);this._9942=null};b.extend(V,q);var Y=function(){var b=Y.superclass,a=Y.prototype;b.constructor.call(this);a._1623=function(b){};a._7741=function(b){return this._3461};a._268=function(b){};a._4719=function(){b._4719.call(this);
$(this._3463._6466).triggerHandler("_1623")};a._236=function(){b._236.call(this);var a=this._3463,k=this.get_Rectangle();a._10184().transformRectangle(k);var d=a._4451(),e=d.width,d=d.height,g=[];null!=a._7325&&(g=a._7325.find("div.border"));for(var w=$(this._10123).offset(),f=[],J=0;J<g.length;J++){var h=$(g[J]).offset(),x=h.top-w.top,h=h.left-w.left;if(!(k.x>=h+e||k.x+k.width<=h||k.y>=x+d||k.y+k.height<=x||(f.push(J),this._3463.get_MultiSelect())))break}a.set_SelectedIndices(f);this._5799()};this._9951=
"ThumbnailSelection";this.set_Resizable(!1);this.set_Movable(!1);delete a._1623};b.extend(Y,u);var L=function(){function a(g){return b.pv.ic(g,n.WebTextRegionJS)}function d(b,a){if(null!=a){var g=a.get_Metadata();if(null!=g)return g=g._7796,H(b,a,g),g}}function e(b,a,g){var d=b._3463._4072(a);g=p._4868._6314(g,d);p._4868._11395(g)||k(b,a,{x:g.x,y:g.y},{x:g.x+g.width,y:g.y+g.height})}function k(b,a,g,k){var d=g,e=k,w=!1,H,h=m(b,a);if(null!=h){w=!0;try{var J=b._11133(a,h),d=J.transformPoint(d),e=J.transformPoint(e);
H=f(h,b._7305,d,e)}catch(x){}}g=w?H:{s:g,e:k};null!=g&&b._2374(a,g)}function m(b,a){return b._3463._6264(a)?b._6507(a):d(b,a)}function f(b,a,g,k){return b.getSubregion({x:g.x,y:g.y,width:k.x-g.x,height:k.y-g.y},a)}function g(b,a,g){b={description:b,image:a};null!=g&&(b.errorMessage=g);return b}function w(b){var a=0,g;for(g in b._8927){a++;break}0===a&&(b._8927=null,b._498=null)}function H(b,a,g){null!=g&&(a=a.get_Guid(),null==b._498&&(b._498={}),b._498[a]=g._2936)}function J(b,g){var k=!1,d=b._8927[g];
null!=d&&a(d)&&(k=!0);delete b._8927[g];return k}var h=L.prototype,x=L.superclass;x.constructor.call(this);h.selectionChanged=function(b){};h.textSelectionStarted=function(b){};h.textSelectionFinished=function(b){};h.textSearchStarted=function(b){};h.textSearchProgress=function(b,a){};h.textSearchFinished=function(b){};h.initializationStarted=function(b,a){};h.initializationFinished=function(b,a){};h.initializationException=function(b,a){};h.get_IsMultipageModeSupported=function(){return!0};h.get_SelectionColor=
function(){return this._2423};h.set_SelectionColor=function(a){b.pv.s(a);this._2423!==a&&(this._2423=a,this._7741()&&this._4628())};h.get_SelectionMode=function(){return this._7305};h.set_SelectionMode=function(a){this._7305=b.pv.e(a,n.WebTextSelectionModeEnumJS)};h.get_SelectedRegion=function(){var b=this._3463;if(b)return this.getSelectedRegion(b.get_FocusedImage())};h.set_SelectedRegion=function(b){this.setSelectedRegion(b)};h.get_SelectedText=function(){null==this._selectedText&&(this._selectedText=
this._11349());return this._selectedText};h.get_IsSelectionEnabled=function(){return this._2368};h.set_IsSelectionEnabled=function(a){b.pv.b(a);this._2368!==a&&((this._2368=a)?null!=this._8927&&this._4628():(a=null!=this._8927,this.reset(),this._2952(),a&&this._4628()))};h.get_TextSelectionAutoScrollStep=function(){return this._617};h.set_TextSelectionAutoScrollStep=function(a){b.pv.n(a);0>a&&b.pv.toe();this._617=a};h.getSelectionImages=function(){var b=[];if(null!=this._3463)for(var g=this._3463.get_Images(),
k=0;k<g.get_Count();k++){var d=g.get_Image(k),m=this._7574(d);null!=m&&a(m)&&b.push(d)}return b};h.getSelectedRegion=function(g){null!=g&&b.pv.c(g,b.WebImageJS);var k=this._3463;null==g&&null!=k&&(g=k.get_FocusedImage());if(null!=g&&(g=this._7574(g),null!=g&&a(g)))return g};h.setSelectedRegion=function(a,g){null!=a&&b.pv.c(a,n.WebTextRegionJS);null!=g&&b.pv.c(g,b.WebImageJS);null==g&&(this._498=this._8927=null,null!=this._3463&&(g=this._3463.get_FocusedImage()));null!=g&&(null==a?null!=this._8927&&
(J(this,g.get_Guid()),w(this)):this._2374(g,a),this._2952(),this._4628())};h.getDrawingBox=function(){var b=this._3463;if(null!=b){var b=b.get_Images(),g=p._4868._3842();if(null!=this._8927){for(var k in this._8927){var d=b.indexOf(k);if(-1===d)J(this,k),this._selectedText=null;else{var d=b.get_Image(d),m=p._4868._3842();if(null!=d.get_Resolution()){var e=this._8927[d.get_Guid()];if(a(e)){for(var m=e.get_SelectionRegions(),w=[],f=0;f<m.length;f++)w=w.concat(m[f]);this._5447(d,e).transformPoints(w);
m=p._4868._11170(w);this._3463._10184(d).transformRectangle(m);m=p._4868._1094(m)}}d=m;p._4868._11395(d)||(g=p._4868._11395(g)?d:p._4868._385(d,g))}}return g}}return p._4868._3842()};h.selectTextInTextSpace=function(a,g){if(this._7741()){b.pv.p(a,g);var k=this._3463.get_FocusedImage(),k=this._6507(k);null!=k&&(k=f(k,this._7305,a,g));this.set_SelectedRegion(k)}};h.selectTextInViewerSpace=function(a,g){b.pv.p(a,g);if(this._7741()){var d=this._3463,w=d.getNearestImage(a),f=d.getNearestImage(g);null==
f&&(f=w);this._8927=null;if(w==f)k(this,w,a,g);else{var H=d.get_Images(),A=H.indexOf(w),h=H.indexOf(f),J=Math.min(A,h)+1,x=Math.max(A,h)-1;if(1===this._7305.valueOf()){if(h=h<A)A=w,w=f,f=A;var T=w.get_Size();f.get_Size();var wb=d._10184(w),l=d._10184(f),A=h?g:a,T=wb.transformPoint({x:T.width,y:T.height}),T=d._1242(T),h=h?a:g,l=l.transformPoint({x:0,y:0}),d=d._1242(l);k(this,w,A,T);for(w=J;w<=x;w++)J=H.get_Image(w),A=m(this,J),null==A&&(A=0),this._2374(J,A);k(this,f,h,d)}else{d={x:a.x,y:a.y,width:g.x-
a.x,height:g.y-a.y};d=p._4868._1094(d);e(this,w,d);for(w=J;w<=x;w++)e(this,H.get_Image(w),d);e(this,f,d)}}this._2952();this._4628()}};h.searchText=function(a,g){function k(b){H===A&&(b._6623=!1,b._2454("textSearchFinished"))}function d(b){var g=b.image,m=b.textRegion,e=null;null!=b.textRegion&&(e=m.searchText(a));if(h===f._10129){if(null==e||0===e.length)e=null;H++;w.progress=H;w.image=g;w.result=e;f._2454("textSearchProgress",w);w.result=null;k(f)}}function m(b){if("abort"!==b.statusText&&h===f._10129){var a=
b.image;H++;w.progress=H;w.image=a;w.error=b.errorMessage;f._2454("textSearchProgress",w);w.error="";k(f)}}if(this._7741()){this._6623&&b.pv.te("The text search process is started already.");g=b.pv.e(g,n.WebTextSearchModeEnumJS);b.pv.c(a,RegExp);var e=this._3463.get_FocusedImage();if(null!=e){var w={result:null,error:""},f=this,H=0,A=0,h=b.WebImagingEnviromentJS.guid();this._10129=h;if(0===g.valueOf()){A=1;w.total=A;this._6623=!0;this._2454("textSearchStarted");var J=this._6507(e,d,m);void 0!==J&&
d({image:e,textRegion:J})}else if(e=this._3463.get_Images(),A=e.get_Count(),w.total=A,0!==A){this._6623=!0;this._2454("textSearchStarted");for(var x=0;x<A;x++){var T=e.get_Image(x),J=this._6507(T,d,m);void 0!==J&&d({image:T,textRegion:J})}}}}};h.cancelTextSearch=function(){if(this._6623){this._10129=null;for(var b in this._6380)this._6380[b].object.abort(),delete this._6380[b];this._6623=!1;this._2454("textSearchFinished")}};h.reset=function(){this._1837();this._selectedText=this._498=this._8927=
null};h._4610=function(b){if(null!=this._8927){for(var a=b.get_Images().toArray(),g=[],k=0;k<a.length;k++)g.push(a[k].get_Guid());null==this._498&&(this._498={});var k=!1,d;for(d in this._8927){var m=g.indexOf(d);-1===m?(J(this,d),delete this._498[d],this._selectedText=null,k=!0):(m=a[m].get_Metadata()._7796,null==m?(m=J(this,d),delete this._498[d],k||(k=m)):this._498[d]!==m._2936&&(m=J(this,d),delete this._498[d],k||(k=m)))}w(this);k&&this._2952()}x._4610.call(this,b)};h._1982=function(b,a){this.cancelTextSearch();
if(null!=this._8927){var g=!1,k=a.actionName;if("clear"===k){for(var d in this._8927){g=!0;break}this._498=this._8927=null}else{var m=[];"removeAt"===k?m.push(a.image):"set"===k?m.push(a.previousImage):"removeRange"===k&&(m=a.images);for(k=0;k<m.length;k++)d=m[k].get_Guid(),null!=this._8927[d]&&(g=!0,J(this,d),delete this._498[d]);0!=m.length&&w(this)}g&&this._2952()}};h._1837=function(){this._4041=!1;this._3978=this._2656=null};h._1733=function(b){x._1733.call(this,b);if(this._1761&&(b.b.equals(this._5433)||
!this._2368)&&this._7741()){var g=b.pv,k=b.pc;if(this._2368){var d=this._3463.get_FocusedImage();if(null!=d){var m=this._6507(d),e=this.get_MouseClickCount()+1;if(void 0!==m){if(1<e&&a(m)&&(k=this._9832(d,m).transformPoint(k),m.containsPoint(k))){if(2==e){this.set_SelectedRegion(m.getWordSubregion(k));b.handled=!0;return}if(3==e){this.set_SelectedRegion(m.getLineSubregion(k));b.handled=!0;return}if(4===e){this.set_SelectedRegion(m);b.handled=!0;return}}null!=this._3463.getImageByLocation(g)&&(this._4041=
!0,this._2656=g,this._3978=d,this._2454("textSelectionStarted"),b.handled=!0,b.active=!0);this.set_SelectedRegion()}else this.set_Cursor(this._10694)}}}};h._9698=function(b){x._9698.call(this,b);if(this._1761)if(this._2368){var a=b.pc,g=b.pv,k;try{k=this._3463.getImageByLocation(g),null==k&&(k=this._3978)}catch(d){}finally{if(null==k){this._268(this._10694);return}}var m=this._6507(k);null==m?(this._268(this._10694),b.handled=!0,this._4041&&0<this._617&&(this._1421(a),b.active=!0)):(k=this._9832(k,
m).transformPoint(a),this._4041||m.containsPoint(k)?this._2368&&this._268(this._2220):this._268(this._10694),this._4041&&(3<p._4868._11380(this._2656,g)&&(this.selectTextInViewerSpace(this._2656,g),b.handled=!0,b.active=!0),0<this._617&&this._1421(a)))}else this._268(this._10694)};h._9629=function(b){x._9629.call(this,b);if(this._1761){var a=this._3463.getImageByLocation(b.pv),g;if(null==a)g=this._10694;else{var k=this._6507(a);null!=k&&(b=b.pc,a=this._9832(a,k).transformPoint(b),k.containsPoint(a)&&
this._2368&&(g=this._2220))}this._268(g);this._4041&&(this._2454("textSelectionFinished"),this._4041=!1)}};h._7741=function(b){if(this._3461){var a=this._3463;return null!=a&&(null==b&&(a=a._10050,null!=a&&(b=a._7826)),null!=b)?!b.get_IsBad():!1}return this._3461};h._6281=function(b,a){if(null!=this._8927){var g=a.i.get_Guid();if(null!=this._8927[g]&&"dc"===a.d&&a.imc){var k=J(this,g);delete this._498[g];w(this);k&&this._2952()}}};h._11133=function(b,a){var g=this._3463._6097(b).invert(),k=a.getTransformFromImageToTextSpace(b.get_Resolution());
return p.WebMatrixJS.multiplyMatrix(g,k)};h._9832=function(b,a){var g=this._3463._7226(b),k=a.getTransformFromImageToTextSpace(b.get_Resolution());return p.WebMatrixJS.multiplyMatrix(g,k)};h._5447=function(b,a){return a.getTransformFromTextToImageSpace(b.get_Resolution())};h._1421=function(b){var a=this._3463,g=a._1704(),k=this._617,d=g.x,m=g.y,e=a._4822();0>b.x?d-=k:b.x>e.width&&(d+=k);0>b.y?m-=k:b.y>e.height&&(m+=k);g.x==d&&g.y==m||a._10537(d,m)};h._11349=function(){var b="",g=0,k;for(k in this._8927){var d=
this._8927[k];a(d)&&(0!==g&&(b+="\n"),b+=d.get_TextContent(),g++)}return b};h._2952=function(){this._selectedText=null;this._2454("selectionChanged")};h._7574=function(b){if(null!=this._8927)return this._8927[b.get_Guid()]};h._2374=function(b,a){null==this._8927&&(this._8927={});this._8927[b.get_Guid()]=a};h._6507=function(b,m,e){if(null!=b){var w=d(this,b),f=b.get_Guid();if(void 0===w){var A=function(b){b=b.image.get_Guid();null!=h._6380[b]&&delete h._6380[b]};if(null!=this._6380[f])return;var h=
this;this._9215(g("Get text region",b,void 0));b=b.get_Metadata().requestTextRegion(function(b){A(b);var d=b.image;m&&m(b);if(-1!==h._3463.get_Images().indexOf(d)){b=b.textRegion;H(h,d,b);var e=h._7574(d);null==e||a(e)||(0!==e?k(h,d,e.s,e.e):h._2374(d,b),h._selectedText=null,h._4628())}h._815(g("Get text region",d,void 0))},function(b){"abort"!==b.statusText&&A(b);e&&e(b);b=g("Get text region",b.image,b.errorMessage);h._2147(b)});this._6380[f]=b}return w}};h._6160=function(b,g,k){if(this._7741(k)&&
null!=this._8927&&this._2368){if(null!=k.get_Resolution()&&(g=this._7574(k),null!=g))if(a(g)){var d=this._8052();if(null!=d){d.save();xa._5941._7508(d,b);d.fillStyle=this.get_SelectionColor();d.beginPath();b=g.get_SelectionRegions();for(var m=0;m<b.length;m++){var e=b[m];this._5447(k,g).transformPoints(e);d.moveTo(e[0].x,e[0].y);d.lineTo(e[1].x,e[1].y);d.lineTo(e[2].x,e[2].y);d.lineTo(e[3].x,e[3].y);d.lineTo(e[0].x,e[0].y)}d.fill();xa._5941._7699(d);d.restore()}this._9299=this.getDrawingBox()}else this._6507(k)}else this._9299=
p._4868._3842()};this._9951="TextSelection";this._2423="rgba(0,0,255,0.21)";this._7305=new n.WebTextSelectionModeEnumJS(1);this._6380={};this._498=this._8927=null;this._4041=!1;this._2656=null;this._6623=!1;this._3978=this._10129=null;this._2368=!0;this._2220="text";this._617=5;delete h.initializationStarted;delete h.initializationFinished;delete h.initializationException;delete h.selectionChanged;delete h.textSearchFinished;delete h.textSearchStarted;delete h.textSearchProgress;delete h.textSelectionStarted;
delete h.textSelectionFinished};b.extend(L,q);var W=b.EnumGenerator.create([{rect:0},{circle:1}],!1),Z=function(a,d,e,k){var m=Z.prototype;m._4127=function(b){};m._613=function(b){};m._393=function(b,a){};m.get_Cursor=function(){return this._10694};m.set_Cursor=function(a){b.pv.s(a);a!==this._10694&&(this._10694=a,this._3230(!1),this._2454("_4127"))};m.get_FillColor=function(){return this._10236};m.set_FillColor=function(a){b.pv.s(a);this._10236!==a&&(this._10236=a,this._3230())};m.get_BorderColor=
function(){return this._7427};m.set_BorderColor=function(a){b.pv.s(a);this._7427!==a&&(this._7427=a,this._3230())};m.get_BorderWidth=function(){return this._1920};m.set_BorderWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._1920!==a&&(this._1920=a,this._3230())};m._9505=function(){return this._10103};m._7728=function(a){b.pv.b(a);this._10103!==a&&(this._10103=a)};m._1601=function(){return this._3461};m._6619=function(a){b.pv.b(a);this._3461=a};m.isPointOnArea=function(b,a){return!1};m.remove=function(){this._2454("_613")};
m.getInteractionAreaBox=function(){return p._4868._3842()};m._6160=function(b){};m._8291=function(){return this._3461&&this._10103};m._6890=function(a){b.pv.c(a,Z);a._8668=this._8668;a._10694=this._10694;a._7427=this._7427;a._1920=this._1920;a._10236=this._10236;a._3230()};m._1401=function(){var b=new this.constructor;this._6890(b);return b};m._3230=function(b){null==b&&(b=!0);this._2454("_393",b)};m._2454=function(b,a){$(this).triggerHandler(b,a)};this._8668=a;this._10694=null==k?"default":k;this._7427=
null==e?"rgba(0,0,0,0.75)":e;this._1920=1;this._10236=null==d?"rgba(255, 255, 255, 0.36)":d;this._3461=this._10103=!0;delete m._4127;delete m._613;delete m._393},P=function(a,d,e,k){var m=P.prototype,f=P.superclass;f.constructor.call(this,a,d,e,k);m.isPointOnArea=function(b,a){return null!=this._4717&&this._8291()?p._4868._4396(this._4717,{x:b,y:a}):!1};m._6890=function(a){b.pv.c(a,P);var k=this._4717;if(null!=k){for(var d=[],m=0;m<k.length;m++){var e=k[m];d.push({x:e.x,y:e.y})}a._4717=d}f._6890.call(this,
a)};this._4717=null};b.extend(P,Z);var R=function(b,a){R.superclass.constructor.call(this,"move",b,a,"move")};b.extend(R,P);var S=function(b,a,d){var k=S.prototype;S.superclass.constructor.call(this,"",b,a,d);k.isPointOnArea=function(b,a){return!1};k.getInteractionAreaBox=function(){if(!this._8291()||null==this._4717)return p._4868._3842();var b=p._4868._11170(this._4717);--b.x;--b.y;b.width+=2;b.height+=2;return b};k._6160=function(b){if(this._8291()){b.save();b.fillStyle=this._10236;b.strokeStyle=
this._7427;b.lineWidth=this._1920;var a=this._4717;b.beginPath();b.moveTo(a[0].x,a[0].y);for(var g=1;g<a.length;g++)b.lineTo(a[g].x,a[g].y);b.closePath();b.fill();b.stroke();b.restore()}};this._7427="rgba(128,128,128,192)";this._10236="rgba(0,0,0,0)"};b.extend(S,P);var Ja=function(a){var d=Ja.prototype,e=Ja.superclass;b.pv.isf(a._10476)||b.pv.tae();this._3898=a;e.constructor.call(this,"move",null,null,"move");d.isPointOnArea=function(b,a){return this._8291()?this._3898._10476(b,a):!1};d._6890=function(a){b.pv.c(a,
Ja);null!=this._3898&&(a._3898=this._3898);e._6890.call(this,a)};d._3230=function(b){this._2454("_393",!1)}};b.extend(Ja,Z);var K=function(a,d,e,k){var m=K.prototype,f=K.superclass;f.constructor.call(this,a,d,e,k);m.get_Radius=function(){return this._5924};m.set_Radius=function(a){b.pv.n(a);0>a&&b.pv.toe();this._5924!==a&&(this._11407=this._5924=a,this._3230())};m.get_InteractionRadius=function(){return this._11407};m.set_InteractionRadius=function(a){b.pv.n(a);0>a&&b.pv.toe();this._11407!==a&&(this._11407=
a,this._3230(!1))};m.get_Style=function(){return this._10799};m.set_Style=function(a){a=b.pv.e(a,W);this._10799.equals(a)||(this._10799=a,this._3230())};m.getInteractionAreaBox=function(){var b=this._7966;if(!this._8291()||null==b)return p._4868._3842();var a=this._5924,k=this._1920;return{x:b.x-a-k,y:b.y-a-k,width:2*(a+k),height:2*(a+k)}};m.isPointOnArea=function(b,a){if(!this._8291()||null==this._7966)return!1;var k=Math.max(this._5924+this._1920/2,this._11407),d={x:b,y:a};return 1===this._10799.valueOf()?
p._4868._1997(this._7966,k,d):p._4868._10449({x:this._7966.x-k,y:this._7966.y-k,width:2*k,height:2*k},d)};m._6160=function(b){if(this._8291()){b.save();b.beginPath();this._10118(b);var a=this._7966.x,k=this._7966.y,d=this._5924;0===this._10799.valueOf()?b.rect(a-d,k-d,2*d,2*d):b.arc(a,k,d,0,2*Math.PI);b.fill();0<this._1920&&b.stroke();b.restore()}};m._10118=function(b){b.fillStyle=this._10236;b.strokeStyle=this._7427;b.lineWidth=this._1920;b.lineJoin="miter"};m._6890=function(a){b.pv.c(a,K);var k=
this._7966;null!=k&&(a._7966={x:k.x,y:k.y});a._5924=this._5924;a._11407=this._11407;a._10799=new W(this._10799.valueOf());f._6890.call(this,a)};this._7966=null;this._11407=this._5924=4;this._10799=new W(1)};b.extend(K,Z);var sa=function(a){var d=sa.prototype,e=sa.superclass;null==a&&b.pv.te("Object cannot be null.");b.pv.f(a.get_Text,"Object must support 'get_Text' property.");b.pv.f(a.set_Text,"Object must support 'set_Text' property.");this._9751=a;this._2758="rgba(0,0,0,1)";this._9598=14;this._6016=
"Arial";this._6150=this._8899=200;this._7966=null;this._10674=b.WebImagingEnviromentJS.guid();this._2262=this._7403=null;e.constructor.call(this,"text","rgba(255,255,255,1)","rgba(0,0,0,1)","text");d.get_FontColor=function(){return this._2758};d.set_FontColor=function(a){b.pv.s(a);this._2758!==a&&(this._2758=a,this._3230())};d.get_FontFamily=function(){return this._6016};d.set_FontFamily=function(a){b.pv.s(a);this._6016!==a&&(this._6016=a,this._3230())};d.get_FontSize=function(){return this._9598};
d.set_FontSize=function(a){b.pv.n(a);1>a&&b.pv.toe();this._9598!==a&&(this._9598=a,this._3230())};d.get_TextBoxWidth=function(){return this._8899};d.set_TextBoxWidth=function(a){b.pv.n(a);1>a&&b.pv.toe();this._8899!==a&&(this._8899=a,this._3230())};d.get_TextBoxHeight=function(){return this._6150};d.set_TextBoxHeight=function(a){b.pv.n(a);1>a&&b.pv.toe();this._6150!==a&&(this._6150=a,this._3230())};d.remove=function(){this._10937();e.remove.call(this)};d.show=function(b){this._7966=b;this._8711()};
d.hide=function(){null!=this._7403&&this._9751.set_Text(this._7403.value);this._10937()};d._6890=function(a){b.pv.c(a,sa);a._2758=this._2758;a._9598=this._9598;a._6016=this._6016;a._8899=this._8899;a._6150=this._6150;e._6890.call(this,a)};d._10937=function(){$(this._7403).remove();this._2262=this._7403=null};d._3230=function(b){this._4923();this._2454("_393",!1)};d._8711=function(){var b=this._7403;if(null==b){b=$("<textarea id='"+this._10674+"'></textarea>").appendTo($("body"));this._7403=b[0];var a=
this;$(b).keyup(function(b){var k=a._9751;27===b.which||27===b.keyCode?(k.set_Text(a._2262),a._10937()):k.set_Text(this.value)})}this._4923();var d=this._9751.get_Text();this._2262=d;$(b).val(d);$(b).focus()};d._4923=function(){var b=this._7403;if(null!=b){var a={position:"absolute",outline:"none","z-index":10,top:this._7966.y,left:this._7966.x,width:this._8899,height:this._6150,"border-width":this._1920,"border-color":this._7427,"background-color":this._10236,color:this._2758,"font-size":this._9598,
"font-family":this._6016,cursor:this._10694};$(b).css(a)}}};b.extend(sa,P);var fa=function(a,d,e){var k=fa.prototype,m=fa.superclass;m.constructor.call(this,"polygon",a,d,e);this._3482=null;this._10799=new W(0);k._6890=function(a){b.pv.c(a,fa);m._6890.call(this,a)}};b.extend(fa,K);var O=function(a,d,e){var k=O.prototype,m=O.superclass;m.constructor.call(this,"resize",a,d,e);this._9047=!0;k.get_Cursor=function(){return this._9047?null:this._10694};k.set_Cursor=function(b){this._9047||m.set_Cursor.call(this,
b)};k._6890=function(a){b.pv.c(a,O);m._6890.call(this,a)}};b.extend(O,K);var ba=function(a,d,e){var k=ba.prototype,m=ba.superclass;null==a&&(a="rgba(144,238,144,0.5)");null==e&&(e="pointer");m.constructor.call(this,"rotate",a,d,e);this._4375=20;k.get_RotationPointDistance=function(){return this._4375};k.set_RotationPointDistance=function(a){b.pv.n(a);0>a&&b.pv.toe();this._4375!==a&&(this._4375=a,this._3230())};k._6890=function(a){b.pv.c(a,ba);a._4375=this._4375;m._6890.call(this,a)}};b.extend(ba,
K);var N=function(a){function d(b,a){b.data.b._3230(a)}b.pv.c(a,O);for(var e=[],k=0;8>k;k++)e.push(a._1401());this._6133=e[0];this._1003=e[1];this._85=e[2];this._2737=e[3];this._11093=e[4];this._5667=e[5];this._6831=e[6];this._9403=e[7];for(k=0;k<e.length;k++)$(e[k]).on("_393",{b:this},d);this._3280=e;this._6338=!0;this._4490="nwse-resize";this._4231="nesw-resize";this._926="ns-resize";this._7129="ew-resize";this._3251=0;a=N.prototype;a.get_UseSizingCursors=function(){return this._6338};a.set_UseSizingCursors=
function(a){b.pv.b(a);if(this._6338!==a){this._6338=a;this._2999(this._3251);for(var d=0;d<this._3280.length;d++)this._3280[d]._9047=a}};a.get_SizingCursorNWSE=function(){return this._4490};a.set_SizingCursorNWSE=function(a){b.pv.s(a);this._4490!==a&&(this._4490=a,this._6338&&this._2999(this._3251))};a.get_SizingCursorNESW=function(){return this._4231};a.set_SizingCursorNESW=function(a){b.pv.s(a);this._4231!==a&&(this._4231=a,this._6338&&this._2999(this._3251))};a.get_SizingCursorNS=function(){return this._926};
a.set_SizingCursorNS=function(a){b.pv.s(a);this._926!==a&&(this._926=a,this._6338&&this._2999(this._3251))};a.get_SizingCursorWE=function(){return this._7129};a.set_SizingCursorWE=function(a){b.pv.s(a);this._7129!==a&&(this._7129=a,this._6338&&this._2999(this._3251))};a.get_TopLeftPoint=function(){return this._6133};a.get_TopPoint=function(){return this._1003};a.get_TopRightPoint=function(){return this._85};a.get_RightPoint=function(){return this._2737};a.get_BottomRightPoint=function(){return this._11093};
a.get_BottomPoint=function(){return this._5667};a.get_BottomLeftPoint=function(){return this._6831};a.get_LeftPoint=function(){return this._9403};a.remove=function(){for(var b=0;b<this._3280.length;b++)this._3280[b].remove()};a._6160=function(b){for(var a=0;a<this._3280.length;a++)this._3280[a]._6160(b)};a._2999=function(b){this._3251=b;if(this._6338)for(var a=p._4868._8122(this._6133._7966,this._85._7966,this._11093._7966,this._6831._7966),g=0;8>g;g++){var d=this._3280[g];d._9047=!1;var k=p._4868._7241(p._4868._4468(a,
{x:a.x,y:a.y-1},d._7966));0==(g&1)&&22.5>Math.ceil(b)%90?d.set_Cursor(this._2444(k)):d.set_Cursor(this._10711(k));d._9047=!0}};a._2444=function(b){b=p._4868._1575(b);return 270<=b||90<=b&&180>=b?this._4490:this._4231};a._10711=function(b){b=p._4868._1575(b);return 337.5<=b||22.5>=b||157.5<=b&&202.5>=b?this._926:67.5<=b&&112.5>=b||247.5<=b&&292.5>=b?this._7129:292.5<=b&&337.5>=b||112.5<=b&&157.5>=b?this._4490:this._4231};a._3230=function(b){null==b&&(b=!0);this._2454("_393",b)};a._2454=function(b,
a){$(this).triggerHandler(b,a)}},ca=function(b){var a=ca.prototype;a._9849=function(b){if("mouseDown"==b.t)null==this._28&&(this._28=this._1252.transformPoint(b.pc),this._6434(),b.handled=!0,b.active=!0);else if("mouseMove"==b.t){var a=this._28;if(null!=a){var d=this._1252.transformPoint(b.pc);if(a.x!==d.x||a.y!==d.y)this._6880(d),b.handled=!0,b.active=!0}}else if("mouseUp"==b.t){a=this._4547;d=a._9402();if(0==d.x1-d.x0&&0==d.y1-d.y0&&(d=this._977,!p._4868._9182(d))){var e=this._28;a._10943(e.x,e.y,
e.x+d.width,e.y+d.height)}this._4766();b.handled=!0;b.active=!1;return!0}return!1};a._6880=function(b){var a=this._28;this._4547._10943(a.x,a.y,b.x,b.y)};a._4766=function(){this._364||(this._364=!0,this._28=null,this._4547._2454("_8016"))};a._6434=function(){this._364=!1;this._4547._2454("_1563")};a._3234=function(b){this._1252=b};a._7206=function(){};this._7455="b";this._4547=b;this._364=!1;this._28=null;this._977={width:200,height:200};this._1252=null},ra=function(a){function d(b,a,g,k,e){if(0!=
k){var m={x:(b.x+a.x)/2,y:(b.y+a.y)/2};e=p._4868._3593(g,{x:(e.x0+e.x1)/2,y:(e.y0+e.y1)/2},k);k=p._4868._3593(g,m,k);g=e.x-k.x;e=e.y-k.y;b.x+=g;b.y+=e;a.x+=g;a.y+=e}}function e(b,a){k(b.data.t,a)}function k(b,a){for(var g=b._4122,d=b._7352._3280,k=0;k<d.length;k++)g._6890(d[k]);f(b,a)}function m(b,a){f(b.data.t,a)}function f(b,a){if(b._3953&&a){var g=b._4547;g.beginInit&&(g.beginInit(),g.endInit())}}var g=ra.prototype;g.get_ResizePointTemplate=function(){return this._4122};g.set_ResizePointTemplate=
function(a){b.pv.c(a,O);var g=this._4122;g!==a&&($(g).off("_393",e),this._4122=a,$(a).on("_393",{t:this},e),k(this,!0))};g.get_RotationPoint=function(){return this._5872};g.set_RotationPoint=function(a){b.pv.c(a,ba);var g=this._5872;g!==a&&($(g).off("_393",m),this._5872=a,$(a).on("_393",{t:this},m),f(this,!0))};g.get_RotationCenterPoint=function(){return this._2681};g.set_RotationCenterPoint=function(a){b.pv.c(a,K);var g=this._2681;g!==a&&($(g).off("_393",m),this._2681=a,a._8668="move",$(a).on("_393",
{t:this},m),f(this,!0))};g._2827=function(){return this._3933};g._1578=function(b){this._3933=b};g._10183=function(){return this._3092};g._7412=function(b){this._3092=b};g._973=function(){return this._4617};g._8625=function(b){this._4617=b};g._6714=function(){return this._3231};g._10763=function(b){this._3231=b};g._11047=function(){return this._10746};g._10253=function(b){this._10746=b};g._6960=function(){return this._10011};g._1980=function(b){this._10011=b};g._8429=function(){return this._2998};
g._4574=function(b){this._2998=b};g._3316=function(){this._7206();this._10985()};g._9555=function(){var b=this._5296();0!==this._4547._924&&p._4868._7714(b,b[9],this._4547._924);p.WebMatrixJS._6691(this._1252).invert().transformPoints(b);var a;b[6].x==b[0].x&&b[6].y==b[0].y?(a=p._4868._1806(b[2],b[0]),a=p._4868._2591(a,90)):a=p._4868._1806(b[6],b[0]);b[8]=p._4868._3952(b[8],a,this._5872._4375);return b};g._1397=function(){var b=p._4868._3842();if(!this._8065)return b;this._422();for(var a=this._2945,
g=null,d=0;d<a.length;d++){var k=a[d];k._8291()&&(k=k.getInteractionAreaBox(),p._4868._11395(k)||(g=null==g?k:p._4868._385(g,k)))}null==g&&(g=b);return g};g._2491=function(b,a){if(this._8065&&this._3953){var g=this._2945;null==a&&(a=b.y,b=b.x);if(null!=this._4547._8052())for(var d=g.length-1;0<=d;d--){var k=g[d];if(k.isPointOnArea(b,a)&&("move"!==k._8668||this._3933))return k}}};g._5163=function(b){b=this._2491(b);null!=b&&(this._5334=b);return b};g._9849=function(b){var a=this._4547;if(null!=this._5334){var g=
this._5334._8668;if("mouseDown"===b.t){if(null==this._28){var k=this._1252;this._28=k.transformPoint(b.pc);this._25=a._9402();this._4564=this._25.y0>this._25.y1;if("rotate"===g)this._370=a._924;else if("resize"===g||"move"===g)a=this._5296(),k.transformPoints(a),this._10314=a;this._10098("_10811");b.handled=!0;b.active=!0}}else if("mouseMove"===b.t){var k=b.pc,e=this._1252.transformPoint(k),m=this._28;if(null!=m&&(m.x!==e.x||m.y!==e.y)){a.beginInit&&a.beginInit();if("rotate"===g)g=this._2681._7966,
16>=Math.pow(g.x-k.x,2)+Math.pow(g.y-k.y,2)?a.set_Rotation(0):(g=this._4547._9402(),g={x:(g.x0+g.x1)/2,y:(g.y0+g.y1)/2},angle=p._4868._7241(p._4868._4468(g,{x:g.x,y:g.y-1},e)),this._4564&&(angle+=180),this._4547.set_Rotation(angle));else if("resize"===g||"move"===g){var g=$.extend({},this._25),k=this._4547,m=this._28,f=e.x-m.x,A=e.y-m.y,e=this._5334,h,x,l,B;h=g.x0;x=g.y0;l=g.x1;B=g.y1;if("resize"!==e._8668)this._8794=!0,k._10943(h+f,x+A,l+f,B+A);else{var m=k._924,n={x:f,y:A};0!=m&&(n=p._4868._3593(n,
{x:0,y:0},-m));var f=n.x,A=n.y,n={x:0,y:0},z=this._7352;e===z._9403?(n={x:this._10314[3].x,y:this._10314[3].y},h+=f):e===z._2737?(n={x:this._10314[7].x,y:this._10314[7].y},l+=f):e===z._1003?(n={x:this._10314[5].x,y:this._10314[5].y},x+=A):e===z._5667?(n={x:this._10314[1].x,y:this._10314[1].y},B+=A):e===z._6133?(n={x:this._10314[4].x,y:this._10314[4].y},h+=f,x+=A):e===z._85?(n={x:this._10314[6].x,y:this._10314[6].y},l+=f,x+=A):e===z._6831?(n={x:this._10314[2].x,y:this._10314[2].y},h+=f,B+=A):e===z._11093&&
(n={x:this._10314[0].x,y:this._10314[0].y},l+=f,B+=A);this._3231||this._2998||(h>l&&(0>f?l=h+.01:h=l-.01),x>B&&(0>A?B=x+.01:x=B-.01));k._9402();h={x:h,y:x};l={x:l,y:B};d(h,l,n,m,g);k._10943(h.x,h.y,l.x,l.y);if(this._2998){B=k._9402();var f=B.x0,A=B.y0,q=B.x1,s=B.y1,F=f-h.x,t=A-h.y,u=q-l.x,D=s-l.y;this._10746&&(h=g.x0,x=g.y0,l=g.x1,B=g.y1,f=q-f-(l-h),A=s-A-(B-x),.01>Math.abs(f)&&.01>Math.abs(A)?(f=F-u,A=t-D,e===z._9403?(h-=f,h>l&&(f=-f),x-=f/2,B+=f/2):e===z._2737?(l+=f,h>l&&(f=-f),x-=f/2,B+=f/2):e===
z._1003?(x-=A,x>B&&(A=-A),h-=A/2,l+=A/2):e===z._5667&&(B+=A,x>B&&(A=-A),h-=A/2,l+=A/2)):(.01>Math.abs(A)&&(f+=F-u,A=h-f>l?-f:f),.01>Math.abs(f)&&(A+=t-D,f=x-A>B?-A:A),e===z._9403?(h-=f,x-=A/2,B+=A/2):e===z._2737?(l+=f,x-=A/2,B+=A/2):e===z._1003?(x-=A,h-=f/2,l+=f/2):e===z._5667?(B+=A,h-=f/2,l+=f/2):e===z._6133?(h-=f,x-=A):e===z._85?(l+=f,x-=A):e===z._6831?(h-=f,B+=A):e===z._11093&&(l+=f,B+=A)),h={x:h,y:x},l={x:l,y:B},d(h,l,n,m,g),k._10943(h.x,h.y,l.x,l.y))}}}a.endInit&&a.endInit();b.handled=!0;b.active=
!0}}else if("mouseUp"===b.t||"doubleClick"===b.t)return"move"!==g&&"resize"!==g||!this._8794||(this._8794=!1,this._1271&&this._7782()),this._28=this._5334=null,this._10098("_9285"),b.handled=!0,b.active=!1,!0}else"mouseDown"===b.t&&(this._3953||this._3316(),this._3933&&(this._5334=this._7780,k=this._1252,this._28=k.transformPoint(b.pc),this._25=a._9402(),this._4564=this._25.y0>this._25.y1,this._10098("_10811"),b.handled=!0,b.active=!0));return!1};g._7782=function(){for(var b=this._2945,a=0;a<b.length;a++)b[a].remove();
this._3953=!1;this._3203()};g._3203=function(){this._370=this._25=this._5334=this._28=null;this._10314=[];this._8794=!1;this._11255=""};g._10985=function(){var b=this._4547._8052();if(null!=b){b.setLineDash&&b.setLineDash([]);for(var a=0;a<this._2945.length;a++)this._2945[a]._6160(b);this._3953=!0}};g._7206=function(){for(var b=this._8065&&(!this._8794||!this._1271),a=b&&this._4617,g=b&&this._3092,d=0;8>d;d++)this._7352._3280[d]._7728(a);this._5872._7728(g);this._2681._7728(g);this._7780._7728(b&&
this._3933);this._5795._7728(b);this._422();this._7352._2999(this._4547.get_Rotation())};g._422=function(){for(var a=this._9555(),g=0;8>g;g++)this._7352._3280[g]._7966=a[g];this._5872._7966=a[8];this._2681._7966=a[9];a=[a[0],a[2],a[4],a[6]];b.pv.ic(this._7780,R)&&(this._7780._4717=a);this._5795._4717=a};g._3234=function(b){this._1252=b};g._10098=function(b){this._4547._2454(b);this._11255=b};g._7240=function(b){this._8065=b};g._5296=function(){var b=[],a=this._4547._9402(),g={x:a.x0,y:a.y0},d=a.x1-
g.x,a=a.y1-g.y;b[0]=g;b[1]={x:g.x+d/2,y:g.y};b[2]={x:g.x+d,y:g.y};b[3]={x:g.x+d,y:g.y+a/2};b[4]={x:g.x+d,y:g.y+a};b[5]={x:g.x+d/2,y:g.y+a};b[6]={x:g.x,y:g.y+a};b[7]={x:g.x,y:g.y+a/2};b[8]={x:g.x+d/2,y:g.y};b[9]={x:g.x+d/2,y:g.y+a/2};return b};this._7455="t";this._4547=a;this._8065=!0;this._370=this._25=this._5334=this._28=null;this._10314=[];this._2998=!0;this._3953=this._4564=this._8794=this._10011=!1;this._3231=this._4617=this._3092=this._3933=!0;this._1271=this._10746=!1;this._1252=null;a={t:this};
this._4122=new O;$(this._4122).on("_393",a,e);this._7352=new N(this._4122);this._5872=new ba;$(this._5872).on("_393",a,m);this._2681=new K("move","rgba(144,238,144,0.5)");this._2681.set_Cursor("move");$(this._2681).on("_393",a,m);this._7780=new R;this._5795=new S;this._5795._6619(!1);$(this._5795).on("_393",a,m);a=[this._5795,this._7780];a=a.concat(this._7352._3280.slice());a.push(this._5872);a.push(this._2681);this._2945=a;this._11255=""};a.WebHighlightToolJS=F;a.WebVisualToolJS=q;a.WebRectangularSelectionToolJS=
u;a.WebHighlightObjectJS=D;a.WebHighlightObjectsJS=G;a.WebZoomSelectionToolJS=v;a.WebZoomToolJS=C;a.WebMagnifierToolJS=I;a.WebCompositeVisualToolJS=V;a._5366=Y;a.WebTextSelectionToolJS=L;a._8424=E;a.WebRectangularSelectionJS=s;a._9630=x;a.WebRectangularSelectionCollectionJS=B;a.WebMultiRectangularSelectionToolJS=z;a.WebInteractionPointTypeEnumJS=W;a.WebInteractionAreaJS=Z;a.WebRectangularAreaJS=P;a.WebRectangularMoveAreaJS=R;a.WebObjectMoveAreaJS=Ja;a.WebInteractionPointJS=K;a.WebTextInteractionAreaJS=
sa;a.WebPolygonInteractionPointJS=fa;a.WebResizeInteractionPointJS=O;a.WebRotationInteractionPointJS=ba;a.WebBoundingBoxPointsJS=N;a._1844=ca;a._4455=ra;var U=function(){var b=U.superclass;b.constructor.call(this);var a=U.prototype;a.set_ActionCursor=function(a){b.set_ActionCursor.call(this,a);null!=this._6376&&this._268(a)};a.reset=function(){this._1837();this._268(this._10694)};a._1733=function(a){b._1733.call(this,a);a.b.equals(this._5433)&&this._7741()&&(this._6376=a.ps,this._8028=this._3463._1704(),
this.set_ActionCursor(this._2220),a.handled=!0,a.active=!0)};a._9698=function(a){b._9698.call(this,a);if(null!=this._6376){this._268(this._2220);var d=this._3463._5179(),e=this._3463._640(),f=parseInt(e.width),e=parseInt(e.height),g=a.ps,w=this._3463._10608(),H=this._6376.x-g.x,g=this._6376.y-g.y,h=0,x=0;null!=this._8028&&(h=this._8028.x,x=this._8028.y);f=Math.max(0,Math.min(d.width-f+w,h+H));d=Math.max(0,Math.min(d.height-e+w,x+g));this._3463._10537(f,d);a.handled=!0;a.active=!0}else this._268(this._10694)};
a._9629=function(a){b._9629.call(this,a);this.reset()};a._1837=function(){this._8028=this._6376=null};this._9951="Pan";this._6376=this._8028=null;this._10694="grab";this._2220="grabbing"};b.extend(U,a.WebVisualToolJS);var ga=function(){function a(b){if(null!=b&&(b=b.get_Metadata(),null!=b))return b._4634}function d(b,a){var k={description:"Get actions",image:b};null!=a&&(k.errorMessage=a);return k}function e(b){var a=0,d;for(d in b._681){a++;break}0===a&&(b._681=null)}var k=ga.prototype,m=ga.superclass;
m.constructor.call(this);k.focusedActionChanged=function(b,a){};k.get_IsMultipageModeSupported=function(){return!0};k.get_FocusedAction=function(){return this._2908};k.get_ExecutingAction=function(){return this._4310};k.get_ActionExecutor=function(){return this._2515};k.set_ActionExecutor=function(a){b.pv.c(a,n.WebPageContentActionExecutorJS);this._2515=a};k.findAction=function(a,g){b.pv.c(a,b.WebImageJS);b.pv.p(g);var d=this._8920(a);if(null!=d){var k=a.get_Resolution();null!=k&&(g=p.WebMatrixJS._1090(96/
k.x,96/k.y).transformPoint(g));for(k=0;k<d.length;k++){var e=d[k];if(p._4868._3108(g,e._109))return e}}return null};k.setFocusedAction=function(a,g){null!=a&&b.pv.c(a,b.WebImageJS);null!=g&&b.pv.c(g,n.WebPageContentActionMetadataJS);if(this._2908!==g){var d={previousAction:this._2908,newAction:g};this._4310!=g&&this.setExecutingAction(null,null);this._4010=a;this._2908=g;this._2454("focusedActionChanged",d);return!0}return!1};k.setExecutingAction=function(a,g){null!=a&&b.pv.c(a,b.WebImageJS);null!=
g&&b.pv.c(g,n.WebPageContentActionMetadataJS);return this._4310!==g?(null!=g&&this.setFocusedAction(a,g),this._4310=g,this._4010=a,!0):!1};k.executeAction=function(a,g){b.pv.c(a,b.WebImageJS);b.pv.c(g,n.WebPageContentActionMetadataJS);return null!=this._2515?this._2515.executeAction(this._3463,a,g):!1};k._1982=function(b,a){if(null!=this._681){var d=a.actionName,k=[];if("removeAt"===d)k.push(a.image);else if("set"===d)k.push(a.previousImage);else if("removeRange"===d||"clear"===d)k=a.images;for(d=
0;d<k.length;d++){var m=k[d];m===this._4010&&(this._4310=this._4010=this._2908=null);delete this._681[m.get_Guid()]}e(this)}};k._1837=function(){this._681=this._4310=this._4010=this._2908=null;this._10443={}};k._1733=function(b){m._1733.call(this,b);if(this._1761&&b.b.equals(this._5433)&&this._7741()&&!b.handled){var a=this._3463.getImageByLocation(b.pv);if(null!=a){var d=this._3463._9638(b.pc,a),d=this.findAction(a,d);this.setFocusedAction(a,d);null!=d&&(this.setExecutingAction(a,d),b.handled=!0)}}};
k._9698=function(b){m._9698.call(this,b);if(this._1761&&!b.handled)if(0===b.b.valueOf()||b.b.equals(this._5433)&&null!=this._2908){var a=this._3463.getImageByLocation(b.pv);if(null!=a){var d=this._3463._9638(b.pc,a),d=this.findAction(a,d);this.setFocusedAction(a,d)&&this._268(null==d?this._10694:this._2220);b.handled=null!=d}}else null!=this._2908&&(this.setFocusedAction(null,null),this._268(this._10694))};k._9629=function(b){m._9629.call(this,b);if(this._1761&&!b.handled&&b.b.equals(this._5433)){var a=
this._3463.getImageByLocation(b.pv);if(null!=a){var d=this._3463._9638(b.pc,a),d=this.findAction(a,d);d!=this._4310&&(d=null);this.setExecutingAction(a,null);null!=d&&(this.executeAction(a,d),b.handled=!0);null!=this._4310&&(this._4310=null)}}};k._7741=function(b){if(this._3461){var a=this._3463;return null!=a&&(null==b&&(a=a._10050,null!=a&&(b=a._7826)),null!=b)?!b.get_IsBad():!1}return this._3461};k._6281=function(b,a){if(null!=this._681){var d=a.i.get_Guid();null!=this._681[d]&&"dc"===a.d&&a.imc&&
(delete this._681[d],e(this))}};k._1131=function(b){if(null!=this._681)return this._681[b.get_Guid()]};k._1743=function(b,a){null==this._681&&(this._681={});this._681[b.get_Guid()]=a};k._8920=function(b){if(null!=b){var g=a(b),k=b.get_Guid();if(void 0===g){if(null!=this._10443[k])return;var e=this;this._9215(d(b));b=b.get_Metadata().requestActions(function(b){var a=b.image.get_Guid();null!=e._10443[a]&&delete e._10443[a];b=b.image;-1!==e._3463.get_Images().indexOf(b)&&(a=e._1131(b),null!=a&&e._1743(b,
a));e._815(d(b))},function(b){b=d(b.image,b.errorMessage);e._2147(b)});this._10443[k]=b}return g}};this._9951="DocumentNavigationTool";this._4310=this._4010=this._2908=null;this._2515=new n.WebNavigationActionExecutorJS;this._2220="pointer";this._681=null;this._10443={};delete k.focusedActionChanged};b.extend(ga,a.WebVisualToolJS);var M=function(){};M._529={RectangularSelection:a.WebRectangularSelectionToolJS,HighlightTool:a.WebHighlightToolJS,ZoomSelection:a.WebZoomSelectionToolJS,Pan:U,Zoom:a.WebZoomToolJS,
Magnifier:a.WebMagnifierToolJS,TextSelection:a.WebTextSelectionToolJS,DocumentNavigation:ga,MultiRectangularSelection:a.WebMultiRectangularSelectionToolJS};M._9464={};M.registerTool=function(b,a){d(b,a);M._9464[b]=a};M.unregisterTool=function(b){h(b);delete M._9464[b]};M.createToolById=function(d){h(d);var e=M._529[d];null==e&&(e=M._9464[d]);null==e&&b.pv.te("WebVisualToolJS element with '"+d+"' ID does not registered.");d=new e;b.pv.c(d,a.WebVisualToolJS,"Created element is not derived from WebVisualToolJS class.");
return d};M.getAllStandardRegisteredIds=function(){var b=[],a;for(a in M._529)b.push(a);return b};M.getAllRegisteredIds=function(){var b=M.getAllStandardRegisteredIds(),a;for(a in M._9464)b.push(a);return b};M._263=function(b,a){d(b,a);M._529[b]=a};a.WebPanToolJS=U;a.WebDocumentNavigationToolJS=ga;a.WebVisualToolFabricJS=M})(e.VisualTools);var d=function(a,h,l){function t(b){if(b._7776){for(var a=b._2338(),d=0;d<a.length;d++){var e=b._7776[a[d]];if(null==e||3>e.s)return!1}return!0}return!1}function q(b){if(null!=
b)for(var a=0;a<b.length;a++)if(3<=b[a].s)return!0;return!1}function u(b,a){if(null==E(a,b).t)a._5522=!1,a._9839();else{null!=a._7338&&(a._7338=null);var d=a._10609(!0),d=p._4868._2100(d);a._3893=a._8809();a._5522=!1;a._7776=[];if(null!=b.fileId){a._7776[0]={locAtCanvas:{x:0,y:0},loc:{x:0,y:0},s:0};var f=new Image;f.onload=function(){if(!a._1255&&0!==f.width&&0!==f.height){a._2870._8169?a._6817():a._2870.clearRect(d.x,d.y,d.width,d.height);a._11096();var b=a._5625();a._3541();var h=a._4085(),x=h.width,
h=h.height;e._5941._7508(a._2870,b);a._2870.drawImage(f,0,0,x,h);e._5941._7699(a._2870);a._5574();a._7776[0].s=3;a._6680(!0);a._4216()}};f.src=b.fileId;a._7776[0].image=f;a._7776[0].s=2}a._10147=1;a._7457=1;a._3704=1;a._2454("imagePaintingException",b)}}function v(b,a){if(a.image!==b._7826||a.scale.x!==b._444||a.scale.y!==b._9006||b._8665!==a.size.width||b._4129!==a.size.height)return!1;var d=b._5088;return b._501.equals(a.renderingSettings)&&(null!=d&&d.equals(a.decodingSettings)||null==d&&d==a.decodingSettings)}
function E(b,a){var d,e=-1;if(v(b,a))for(var f=a.pos,h=0;h<b._7776.length;h++){var l=b._7776[h].loc;if(l.x===f.x&&l.y===f.y){d=b._7776[h];e=h;break}}return{t:d,i:e}}var s=d.prototype;s._5059=function(b,a){};s._3315=function(b,a){};s._9863=function(){return this._1814};s._9158=function(b){this._1814!==b&&(this._1814=b,this._3561=!0,this._1828())};s._6348=function(){return this._6515};s._7130=function(b){this._6515=b};s._2882=function(){return{x:this._444,y:this._9006}};s._7511=function(b,a){if(this._444!==
b||this._9006!==a)this._444=b,this._9006=a,this._3561=!0,this._9719()};s._15=function(){return{width:this._8665,height:this._4129}};s._1751=function(b,a){if(this._4129!==a||this._8665!==b)this._8665=b,this._4129=a,this._9719()};s._11416=function(){return this._7214};s._7590=function(b){this._7214=b};s._98=function(){return this._4530};s._8317=function(b){this._4530=b};s._3607=function(){(null==this._3893||this._3561)&&this._8809();return{x:this._3893.x,y:this._3893.y}};s._6353=function(b){p._4868._464(this._1115,
b)||(this._1115=b,this._3561=!0,this._1828())};s._6581=function(b){p._4868._464(this._6000,b)||(this._6000=b,this._1828())};s._6205=function(){return this._10393};s._9073=function(b){b===this._10393||null!=b&&b.equals(this._10393)||(this._10393=b,this._1828())};s._10554=function(b){this._7096.equals(b)||(this._7096=b,this._3561=!0,this._1828())};s._429=function(b){this._7826=b;this._3561=!0;this._7338=null;this._3704=0;this._11338=3;this._6680(!1)};s._9727=function(){return this._7826.get_IsBad()};
s._10330=function(){return this._2508&&!this._9727()};s._6680=function(b){this._2508!==b&&(this._2508=b)&&(b={rect:this._10609(!0),image:this._7826},this._2454("_5059",b))};s._999=function(){return null==this._7338&&0===this._3704};s._8809=function(){var b=this._4085(!0),a=b.width,b=b.height,d=this._1115.x,e=this._1115.y,f=this._1115.width,h=this._1115.height,a=a<f?this._7096.contains(4)?d:this._7096.contains(8)?d+f-a:d+(f-a)/2:d,b=b<h?this._7096.contains(1)?e:this._7096.contains(2)?e+h-b:e+(h-b)/
2:e;this._3893={x:Math.round(a),y:Math.round(b)}};s._10094=function(){this._1558++};s._5998=function(b){null==b&&(b=!1);b?this._1558=0:this._1558--;0===this._1558?this._6488():0>this._1558&&(this._1558=0)};s._4043=function(){return 0!==this._1558};s._6038=function(b){var a=this._10609();return p._4868._10449(a,b)};s._10755=function(){this._6775=!1;var b=this._10609();return p._4868._3187(b,this._6000)?this._6775=!0:!1};s._6488=function(){if(!this._1255&&null!=this._7826.get_Size()&&0===this._1558){var b=
this._6000;if(0!==b.width&&0!==b.height){var a=this._9727();if(this._3561||a)this._8809(),this._3561=!1,a&&this._6817();b=this._10755();1<this._11338&&(a?null==this._7776&&this._4797():(2===this._11338&&this._5389(),this._4797()));a=0<this._11338||0===this._11338&&this._2870._8169;this._7338&&(this._7338.u=a);this._7776&&(this._7776.u=a);b&&(this._10357=this._6924=!1,this._9839());this._11338=0}else this._6775=!1}};s._5315=function(b){null==b&&(b=!1);var a=0,d=0,e=this._7826.get_Size();null!=e&&(a=
e.width,d=e.height,this._7826.get_IsBad()||0===a||0===d)&&(d=this._5699.height,e=this._1115.height,a=Math.min(this._5699.width,this._1115.width),d=Math.min(d,e));!b||90!==this._1814&&270!==this._1814||(b=a,a=d,d=b);return{width:a,height:d}};s._4085=function(b){null==b&&(b=!1);var a=0,d=0,e=this._7826.get_Size();null!=e&&(a=e.width,d=e.height,this._7826.get_IsBad()||0===a||0===d?(d=this._5699.height*this._9006,e=this._1115.height,a=Math.min(this._5699.width*this._444,this._1115.width),d=Math.min(d,
e)):(a*=this._444,d*=this._9006));!b||90!==this._1814&&270!==this._1814||(b=a,a=d,d=b);return{width:a,height:d}};s._10609=function(b){var a=this._4085(!0),d=this._3607();null==b&&(b=!1);a={x:d.x,y:d.y,width:a.width,height:a.height};b&&(a=p._4868._6314(a,this._6000),a.x-=this._6000.x,a.y-=this._6000.y);return a};s._6746=function(b){if(!this._6775)return p._4868._3842();var a=this._6574(b);return{x:a.x,y:a.y,width:b.width*this._444,height:b.height*this._444}};s._6574=function(b){if(!this._6775)return{x:0,
y:0};var a=this._3607();return{x:a.x+(b.x-this._6000.x)*this._444,y:a.y+(b.y-this._6000.y)*this._9006}};s._4797=function(){var b=this._8665,a=this._4129,d=this._444,e=this._9006,f=this._4085(),h=f.width,l=f.height;this._7776=[];var f=b/d,p=a/e,n=Math.floor(l/a),q=Math.floor(h/b),s=q,t=n;0<Math.round(h-b*q)&&s++;0<Math.round(l-a*n)&&t++;this._10147=s;this._7457=t;h=t*s;for(n=l=0;n<t;){for(var q=n*a,u=n*p,v=s+l;l<v&&l<h;)this._7776[l]={locAtCanvas:{x:(l-n*s)*b,y:q},loc:{x:(l-n*s)*f,y:u},s:0},l++;n++}this._7776.s=
{x:d,y:e};this._3704=0};s._5389=function(){if(null!=this._7776)if(null==this._7338){for(var b=0,a=0;a<this._7776.length;a++)3<=this._7776[a].s&&b++;0<b&&(this._7338=this._7776)}else{for(var d=this._2338(),e=b=0,a=0;a<d.length;a++)d[a]<this._7776.length&&3<=this._7776[d[a]].s&&b++,d[a]<this._7338.length&&3<=this._7338[d[a]].s&&e++;a=this._444;b>e?this._7338=this._7776:b===e&&0!==b&&Math.abs(this._7776.s.x-a)<Math.abs(this._7338.s.x-a)&&(this._7338=this._7776)}else this._7338=null};s._6172=function(){return q(this._7338)||
q(this._7776)};s._5625=function(){var b=new p.WebMatrixJS,a=this._4085(),d=this._3607(),e=d.x,d=d.y,f=a.width,a=a.height;b.rotate(this._1814);switch(this._1814){case 0:b.translate(e,d);break;case 90:b.translate(a+e,d);break;case 180:b.translate(f+e,a+d);break;case 270:b.translate(e,f+d)}b.translate(-this._6000.x,-this._6000.y);b._2505=Math.round(b._2505);b._11357=Math.round(b._11357);return b};s._10184=function(){var b=this._5625(),a=b._2505,d=b._11357,e=this._444,f=this._9006;if(90===this._1814||
270===this._1814)var h=e,e=f,f=h;b.scale(e,f);b._2505=Math.round(a);b._11357=Math.round(d);return b};s._9839=function(){if(!this._1255){var b=this._2338();null!=this._7338&&this._9803(b);this._10256();if(!this._10357){for(var a=[],d=[],e=0;e<b.length;e++){var f=b[e];if(f<this._7776.length){var h=this._7776[f].s;0===h?d.push(f):3<=h&&a.push(f)}}0!=a.length&&this._4933(a);this._5522||0!==d.length&&this._5273(d[0])}}};s._9803=function(b){var a=this._7338;if(a.u){var d=this._2870,f=this._7776,h=[];if(null!=
f)for(var l=0;l<b.length;l++){var p=f[b[l]];if(3!==p.s){var n=p.locAtCanvas.x,q=p.locAtCanvas.y;h.push({x:n,y:q,w:this._8665,h:this._4129})}}n=h.length;n===b.length&&0!==n&&(b=h[0].x,f=h[0].y,h=[{x:b,y:f,w:h[n-1].x+h[n-1].w-b,h:h[n-1].y+h[n-1].h-f}],n=1);if(0!==n){n=this._2882();b=this._4085();f=n.x/a.s.x;p=n.y/a.s.y;this._6817();this._11096();this._3541();n=this._5625();e._5941._7508(d,n);d.save();d.beginPath();for(l=0;l<h.length;l++)n=h[l],d.moveTo(n.x,n.y),d.lineTo(n.x+n.w,n.y),d.lineTo(n.x+n.w,
n.y+n.h),d.lineTo(n.x,n.y+n.h),d.lineTo(n.x,n.y);d.clip();for(h=0;h<a.length;h++)if(q=a[h],l=q.image,null!=l&&0!==l.width&&0!==l.height){var s=l.width,t=l.height,n=Math.floor(q.locAtCanvas.x*f),q=Math.floor(q.locAtCanvas.y*p),s=Math.ceil(s*f),t=Math.ceil(t*p);s>b.width&&(s=b.width);t>b.height&&(t=b.height);d.drawImage(l,n,q,s,t)}d.restore();e._5941._7699(d);this._5574();this._6680(!0)}a.u=!1}};s._4933=function(b){var a=this._7776;if(a.u){var d=this._6924;this._6817();this._11096();d||this._3541();
var d=this._2870,f=this._5625();e._5941._7508(d,f);if(this._9727())b=a[0],f=this._4085(),d.drawImage(b.image,0,0,f.width,f.height);else for(var f=a.length,h=0;h<b.length;h++){var l=b[h],p=a[l],n=p.locAtCanvas;d.drawImage(p.image,n.x,n.y);4===p.s&&(this._3704++,this._2454("imageTilePainted",{tileCount:f,renderedTileCount:this._3704,tileIndex:l,image:this._7826}),p.s=3)}e._5941._7699(d);this._5574();a.u=!1;this._6680(!0);t(this)&&this._4216()}};s._6817=function(){var b=this._2870;if(b._8169){var a=
b.canvas;b.clearRect(0,0,a.width,a.height);b._8169=!1}};s._2338=function(){if(null==this._7776)return[];var b=this._10147,a=this._7457,d=this._8665,e=this._4129;if(this._9727())var f=this._4085(),d=f.width,e=f.height;var h={x:this._6000.x,y:this._6000.y,width:this._6000.width,height:this._6000.height};if(0===h.width||0===h.height)return[];f=this._5625();f.translate(this._6000.x,this._6000.y);f.invert();f.transformRectangle(h);h=p._4868._1094(h);0>h.x&&(h.x=0);0>h.y&&(h.y=0);var f=Math.floor(h.y/e),
l=e-h.y%e;0==h.y&&(l=0);var n=0;0<l&&l<=e&&0!=h.y&&(n=1);h.height-=l;0>h.height&&(h.height=0);n+=Math.floor(h.height/e);0<h.height%e&&n++;n>a&&(n=a);a=Math.floor(h.x/d);l=d-h.x%d;0==h.x&&(l=0);e=0;0<l&&l<=d&&0!=h.x&&(e=1);h.width-=l;0>h.width&&(h.width=0);e+=Math.floor(h.width/d);0<h.width%d&&e++;e>b&&(e=b);d=f+n;h=a+e;n=this._7776.length;for(e=[];f<d;f++)for(l=a;l<h;l++){var q=f*b+l;q<n&&e.push(q)}return e};s._5273=function(b){function a(d,f,h){v._5234(d,e,b)}function d(b,a,f){b.blocked?(v._5522=
!1,e.s=0,v._9839()):u(b,v)}var e=this._7776[b],f=this._7826,h=e.loc.x,l=e.loc.y,p=this._8665,n=this._4129,q=this._2882();this._1031();var s=this._501,t=this._5088,v=this;e.s=1;h={x:h,y:l,width:p,height:n,scale:q,format:this._4530,renderingSettings:s,decodingSettings:t};this._7214?f.renderTileWithNeighbours(h,a,d):(h.useCache=this._7214,f.renderTile(h,a,d));this._5522=!0};s._5234=function(b,a,d){var f=null==b.a;if(f){var h=this._6515;if(null!=h){var l=b.image,p=h._1547(b.pos,b.size,b.scale,l,b.renderingSettings,
b.decodingSettings);h.containsImageData(l,p)||h.addImageData(l,p,b.fileId)}}if(this._1255)this._5522=!1,a.s=0;else{var n,q;f?(d=E(this,b),n=d.t,q=d.i):(n=a,q=d);if(null==n)a.s=0;else{a=function(){if(s._1255)n.s=0;else if(null!=s._7776)if(v(s,b)){var a=n.locAtCanvas,d=y.width,h=y.height,l=s._2870;if(0!==d&&0!==h){s._11096();var p=s._5625(),u;0===s._3704&&null==s._7338?(s._6817(),s._3541(),e._5941._7508(l,p)):(e._5941._7508(l,p),l.clearRect(a.x,a.y,d,h),u={x:a.x,y:a.y,width:d,height:h},s._3541(u));
l.drawImage(y,a.x,a.y);e._5941._7699(l);s._5574(u);n.s=3;0===s._3704&&f&&(s._7776.u=!1);a=s._7776.length;s._3704++;s._2454("imageTilePainted",{tileCount:a,renderedTileCount:s._3704,tileIndex:q,image:s._7826});s._6680(!0);s._3704===a&&(s._7338=null);t(s)&&(s._7776.u=!1,s._4216())}}else n.s=0,f&&s._9839()};var s=this,u=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(u)||(u+="?"+b.image.gi());var y=new Image,Z=0;y.onload=a;y.onerror=function(){if(10>Z)setTimeout(function(){y.src=u},250),Z++;else{n.s=
0;if(!f){var a=s._6515;if(null!=a){var d=b.image,e=a._1547(b.pos,b.size,b.scale,d,b.renderingSettings,b.decodingSettings);a._10477(d.get_Guid(),e)}}s._9839()}};y.src=u;n.image=y;n.s=2;y.complete&&(y.onload=null,y.onerror=null,a())}this._5522=!1;f&&this._9839()}};s._10256=function(){var b=this._6515;if(null!=b){var a=this._7826,d=this._7776;if(null!=d){var e=this._2882(),f={width:this._8665,height:this._4129};this._1031();for(var h=this._501,l=this._5088,p=0;p<d.length;p++){var n=d[p];if(0===n.s){var q=
b._1547(n.loc,f,e,a,h,l),q=b.getImageData(a,q);null!=q&&(q={fileId:q,image:a,pos:n.loc,scale:e,size:f,renderingSettings:h.clone(),a:!1},null!=l&&(q.decodingSettings=l.clone()),this._5234(q,n,p))}}}}};s._11096=function(){this._6924||(this._2454("imagePainting",{image:this._7826}),this._6924=!0)};s._4216=function(){this._10357||(this._2454("imagePainted",{image:this._7826}),this._10357=!0)};s._1031=function(){var b=this._7826,a=b.get_RenderingSettings(),d=b.get_DecodingSettings(),b={i:b,r:a,d:d};this._2454("_3315",
b);a=b.r;d=b.d;this._501=a;this._5088=d};s._2454=function(b,a){$(this).triggerHandler(b,a)};s._7072=function(a){b.pv.c(a,d);if(null!=a._7776){var e=b.cloneObject(a._7776);e.length=a._7776.length;a._7826.get_IsBad()?(this._7776=e,this._7338=null,this._7457=this._10147=1):(this._7338=e,this._7776=null)}};s._1552=function(){this._771();var b=this._7776;if(null!=b)for(var a=0;a<b.length;a++){var d=b[a];d.s=0;d=d.image;null!=d&&(d.src="",d.onload=null,d.onerror=null)}this._7338=null;this._3704=0};s._771=
function(){this._6680(!1);0===this._11338&&(this._11338=1)};s._1828=function(){this._771();this._6488()};s._9719=function(){this._6680(!1);3!==this._11338&&(this._11338=2);this._3704=0;this._6488()};s._3541=function(b){if(null!=this._10393){var a=this._2870;a.save();null==b&&(b=this._10609(!0));a.fillStyle=this._10393._2835;a.beginPath();a.rect(b.x,b.y,Math.floor(b.width),Math.floor(b.height));a.fill();a.restore()}};s._5574=function(b){if(null!=this._10393){var a=this._10393._1920;if(0!==a){var d=
this._6000.x,e=this._6000.y,f=this._2870;f.save();var h=this._10609(),l={x:h.x+a/2-d,y:h.y+a/2-e,width:Math.ceil(h.width-a),height:Math.ceil(h.height-a)};null!=b&&(this._5625().transformRectangle(b),f.beginPath(),f.rect(b.x,b.y,b.width,b.height),f.clip());b=!0;if(0>l.width||0>l.height)b=!1,l=h,l.x-=d,l.y-=e;f.lineWidth=a;f.beginPath();f.rect(l.x,l.y,l.width,l.height);b?(f.strokeStyle=this._10393._7427,f.stroke()):(f.fillStyle=this._10393._7427,f.fill());f.restore()}}};s._7430=function(){$(this).off();
this._6000=p._4868._3842();this._11338=0;this._6775=!1;this._1255=this._3561=!0;this._3704=this._1558=0;if(null!=this._7776)for(var b=0;b<this._7776.length;b++){var a=this._7776[b];3===a.s&&(a.s=4)}};s._7023=function(){this._1255=!1};this._10123=a;this._2870=a.getContext("2d");this._7826=h;this._3893=null;this._4129=this._8665=this._9006=this._444=0;this._7214=!0;this._4530=new b.WebImageTypeEnumJS(1);this._5088=this._501=this._6515=null;this._7457=this._10147=this._1814=0;this._7338=this._7776=null;
this._5522=!1;this._3704=0;this._1115=p._4868._3842();this._6000=p._4868._3842();this._7096=new n.WebImageAnchorTypeEnumJS(0);this._11338=this._1558=0;this._10393=null;this._5699=l;this._2508=!1;this._1255=!0;this._6775=this._3561=!1;this._2936=b.WebImagingEnviromentJS.guid();this._10357=this._6924=!0;delete s._5059;delete s._3315},a=function(f){function h(b,a,d){null==d&&(d=!0);var g={x:a.pageX,y:a.pageY},e=b._83(g);b=b._1242(e);if(d){d=0;switch(a.button){case 0:d=1;break;case 1:d=4;break;case 2:d=
2;break;case 3:d=8;break;case 4:d=16}d=new n.WebMouseButtonsEnumJS(d)}else d=new n.WebMouseButtonsEnumJS(a.buttons);return{ps:g,pc:e,pv:b,e:a,b:d,handled:!1,needPrevent:!0,active:!1}}function l(b,a){var d=b.data.v,g;g=null!=a?a.get_Images():d.get_Images();for(var e=0;e<g.get_Count();e++)E(d,g.get_Image(e));d._2454("_4158",a)}function t(b,a){var d=b.data.v,g;g=null!=a?a.get_Images():d.get_Images();for(var e=0;e<g.get_Count();e++)v(d,g.get_Image(e));e=-1;null!=a?(e=a._547,-1===e&&0<g.get_Count()&&(e=
0)):0<g.get_Count()&&(e=0);d._547=e;d._2454("_1054",a);d._912()}function q(b){b.data.v.set_MasterViewer()}function u(b,a){var d=b.data.v,g=[],e=[];switch(a.actionName){case "set":g.push(a.previousImage);case "insert":e.push(a.image);break;case "insertRange":e=a.images;break;case "removeAt":g.push(a.image);break;case "clear":case "removeRange":g=a.images}for(var f=0;f<e.length;f++){var h=e[f];null!=d._501&&h.set_RenderingSettings(d._501.clone());v(d,h)}for(var e=d.get_ImageCacheManager(),l=null!=e&&
d.get_SyncCacheWithImages(),f=0;f<g.length;f++)h=g[f],E(d,h),l&&e.contains(h)&&e.clearImageCache(h);d._2454("_3979",a)}function v(b,a){var e="."+b._2936,g={v:b};if(null==b._7907)$(a.evm).on("icd"+e,g,s);b._7310[a.get_Guid()]=new d(b._3586,a,b._5699)}function E(b,a){var d=a.get_Guid();b._7310[d]._7430();delete b._7310[d];$(a.evm).off("."+b._2936);L(b,a)}function s(b,a){var d=b.data.v,g=a.i,e=a.idc;if("dc"===a.d){var f=d.get_ImageCacheManager();null!=f&&f.contains(g)&&f.clearImageCache(g)}f=d._7310[g.get_Guid()];
null!=f&&(e?(f._429(g),-1!==d._2633.indexOf(f)&&(Q(d),d._912())):d._863([g]));d._2454("_4337",a)}function x(b,a){var d=b.data.v,g=d._547,e=d._2385(a);d._2454("_7059",a);e&&d._912();d._547!==g&&d._2454("focusedIndexChanged",{newFocusedIndex:d._547,previouslyFocusedIndex:g})}function B(b){b=b.data.v;b.get_Images().setRenderingSettings(b._501.clone())}function z(b,a){var d=b.data.v,g=a.newFocusedIndex;-1!==g&&g!==d._547&&d.set_FocusedIndex(g)}function F(b,a){b.data.v.set_ImageRotationAngle(a)}function D(b,
a){var d=b.data.v,g;for(g in d._7310)d._7310[g]._7130(a);d._2454("_10397",a)}function G(b){b._8099="fi"}function C(b,a){var d=b._8099;if(null==d||"fi"===d){if(null!=b._10050&&b.get_IsAutoScrollToFocusedImageEnabled()){var d=b._10050._10609(),g=0,e=0;b._4561?(null==a&&(a=b._3602()),e=(d.height-a.height)/2,g=d.x+(d.width-a.width)/2,e=d.y+e):(g=d.x,e=d.y);b._10537(g,e)}}else b._10537(d.x,d.y)}function I(b,a){var d=b._3107(a),g=b._2950,e=d.b,f=b._4822(),h=Math.max(f.width,e.width),e=Math.max(f.height,
e.height);if(g.width!==h||g.height!==e)g=b._5375,null!=g&&(f={width:h,height:e},b._2950=f,g.css(f),g=b._4022,b._2960&&$(g).css("overflow-x","auto"),b._6567&&$(g).css("overflow-y","auto"),f=b._4822(),h<=f.width&&b._2960&&(g[0].scrollLeft=0,$(g).css("overflow-x","hidden")),e<=f.height&&b._6567&&(g[0].scrollTop=0,$(g).css("overflow-y","hidden")));return d.r}function V(b,a){for(var d=0;d<b._2633.length;d++)b._2633[d]._7430();b._10050=null;b._2633=[]}function Y(b,a){W(b);var d=b._816;if(null!=d)for(var g=
d.width,e=d.width,f=b._5375,h=0;h<b._2633.length;h++){var l=b._2633[h],p=l._7826.get_Guid();if(l._999()||null!=b._8437[p]){var n=a[h];null==b._8437[p]?(d=$(b._816).clone(),l={position:"absolute","pointer-events":"none"},$(d).css(l),$(d).insertAfter(f),b._8437[p]=d):(d=b._8437[p],d[0].src!==b._816.src&&(d[0].src=b._816.src));var l=g,p=e,q=n.width,r=n.height;l>q&&(l=q);p>r&&(p=r);l={top:n.y+(r-p)/2,left:n.x+(q-l)/2,width:l,height:p};$(d).css(l)}}}function L(a,d){var e;e=b.pv.iss(d)?d:d.get_Guid();var g=
a._8437[e];null!=g&&($(g).remove(),delete a._8437[e])}function W(b){var a=[];if(null!=b._816)for(var d=0;d<b._2633.length;d++)a.push(b._2633[d]._7826.get_Guid());for(var g in b._8437)-1===a.indexOf(g)&&L(b,g)}function Z(b,a,d,g,e){a._10094();a._9158(b._1814);a._7130(b.get_ImageCacheManager());a._1751(b._8665,b._4129);a._7590(b._7214);a._8317(b._4530);var f=a._7826;null!=f&&(f=P(b,f),a._7511(f.x,f.y));a._6353(d);null==g&&(g=b._3602());a._6581(g);a._10554(b._7096);a._9073(e);a._7023();a._5998()}function P(b,
a){var d=b._4668/100,g=1,e=1,f=b._3274(a),h=96/f.rx,f=96/f.ry,l=b._8595/96,p=b._5123/96;switch(b._7603.valueOf()){case 5:e=g=1;break;case 1:case 0:case 2:g=d*h*l;e=d*f*l;break;case 4:g=h*l;e=f*p;break;case 3:g=d*h*l,e=d*f*p}return{x:g,y:e}}function R(b,a){var d={v:b};$(a).on("imagePainting imageTilePainted imagePainted imagePaintingException",d,S);$(a).on("_5059",d,N);$(a).on("_3315",d,K)}function S(b,a){var d=b.data.v,g=b.type;"imagePainting"!==g&&"imagePaintingException"!==g||L(d,this._7826);d._2454(g,
a)}function N(b,a){var d=b.data.v,g=a.rect;this===d._10050&&(g=null);d._8326(g,this._7826)}function K(b,a){b.data.v._2454(b.type,a)}function sa(b,a){a.active?b._7243||(b._1191(b._5375),b._3386(document),b._7243=!0):b._7243&&(b._1191(document),b._3386(b._5375),b._7243=!1)}function fa(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function O(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+
b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function ba(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function X(b){var a=b._4824,d=a.clientWidth,a=a.clientHeight;b._27.width!=d||b._27.height!=a?(b._27={width:d,height:a},b._6108=1):(0<b._6108&&4>b._6108&&b._6108++,4===b._6108&&(b._6108=0,ca(b)))}function ca(b){b._3925();var a=b._4822(),d=a.width,g=a.height,e;for(e in b._7310)b._7310[e]._6680(!1);
null!=b._1400&&(b._1400.save(),b._1400._8169=!0);b._606&&(b._606.height=g,b._606.width=d);b._3586&&(b._3586.height=g,b._3586.width=d);null!=b._1400&&b._1400.restore();b._27=a;b._912()}function ra(b){b=b.data.v;var a=b._3602();if(null!=b._10050&&!p._4868._464(a,b._10050._6000)){U(b._3586);U(b._606);for(var d=0;d<b._2633.length;d++)b._2633[d]._10094(),b._2633[d]._6581(a);if(0===b._1558)for(d=0;d<b._2633.length;d++)b._2633[d]._5998()}}function U(b){null!=b&&b.getContext("2d").clearRect(0,0,b.width,b.height)}
function ga(b,a){$(a._7010).on("changed."+b._2936,function(){if(b._290()||b._7732)Q(b),b._7377()})}function M(b,a){$(a._7010).on("changed."+b._2936,function(){b._290()&&(Q(b),b._7377())})}function Q(b){for(var a=0;a<b._2633.length;a++)b._2633[a]._771()}var r=a.prototype;r.focusedIndexChanged=function(b,a){};r.imageInfoLoading=function(b,a){};r.imageInfoLoaded=function(b,a){};r.imageInfoLoadingException=function(b,a){};r.imagePainting=function(b,a){};r.imageTilePainted=function(b,a){};r.imagePainted=
function(b,a){};r.imagePaintingException=function(b,a){};r.zoomChanged=function(b,a){};r.visualToolChanged=function(b,a){};r.imageRotating=function(b,a){};r.imageRotated=function(b,a){};r.disposed=function(b){};r._3979=function(b,a){};r._7059=function(b,a){};r._4337=function(b,a){};r._4158=function(b,a){};r._1054=function(b,a){};r._2242=function(b,a){};r._10397=function(b,a){};r.get_Images=function(){this._3925();var b=this._7907;return null==b?this._4893:b.get_Images()};r.get_VisualTool=function(){this._3925();
return this._1800};r.set_VisualTool=function(a){this._3925();null!=a&&b.pv.c(a,ob.WebVisualToolJS);if(this._1800!==a){var d=this._1800;null!=d&&d._10516();this._1800=a;null!=a&&(a._4610(this),0!==this._1558&&a.set_IsEnabled(!1));this._2454("visualToolChanged",{visualTool:a,previousVisualTool:d})}};r.get_MasterViewer=function(){this._3925();return this._7907};r.set_MasterViewer=function(d){this._3925();if(d!==this&&this._7907!==d){if(null!=d){b.pv.ic(d,a)||b.pv.ic(d,e.WebThumbnailViewerJS)||b.pv.tae();
d._7907===this&&d.set_MasterViewer();for(var f=d;null!=(f=f._7907);)f===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._2983();this._7907=d;this._9549()}};r.get_CenterImage=function(){this._3925();return this._4561};r.set_CenterImage=function(a){this._3925();b.pv.b(a);this._4561!==a&&(this._4561=a)&&(G(this),0===this._1558&&null!=this._10050&&C(this))};r.get_TileWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};r.get_TileHeight=
function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};r.get_TileSize=function(){return{width:this._8665,height:this._4129}};r.set_TileSize=function(a,d){this._3925();var e,g;null==d?(e=a.width,g=a.height):(e=a,g=d);b.pv.n(e,g);32>e&&(e=32);2048<e&&(e=2048);32>g&&(g=32);2048<g&&(g=2048);if(e!==this._8665||g!==this._4129)this._8665=e,this._4129=g,this._7377()};r.get_FocusedIndex=function(){this._3925();return this._547};r.set_FocusedIndex=function(a){b.pv.n(a);
(0>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._547;if(a!==d){this._547=a;if(null!=this._7907)try{this._7907.set_FocusedIndex(a)}catch(e){}this._8251(d,a);this._2454("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d})}};r.get_Zoom=function(){this._3925();return this._4668};r.set_Zoom=function(a){3===this.get_ImageSizeMode().valueOf()&&(b.pv.n(a),(1>a||1E3<a)&&b.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(a-this._4668)||(this._4668=a,this._7377()))};r.get_ImageSizeMode=
function(){this._3925();return this._7603};r.set_ImageSizeMode=function(a){this._3925();a=b.pv.e(a,n.WebImageSizeModeEnumJS);var d=this._7603;a.equals(d)||(this._7603=a,3===a.valueOf()&&5!==d.valueOf()||this._7377())};r.get_ImageRotationAngle=function(){this._3925();return this._1814};r.set_ImageRotationAngle=function(a){this._3925();b.pv.n(a);a=p._4868._4781(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this._1814;a!==d&&(this._2454("imageRotating",{currentAngle:d,
newAngle:a}),this._1814=a,this._7377(),null!=this._7907&&this._7907.set_ImageRotationAngle(a),this._2454("imageRotated",a))};r.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return null==b||null==a?null:{size:b,resolution:a}};r.get_UseCache=function(){this._3925();return this._7214};r.set_UseCache=function(a){this._3925();b.pv.b(a);if(a!==this._7214){this._7214=a;for(var d in this._7310)this._7310[d]._7590(a)}};r.get_TilesFormat=function(){this._3925();
return this._4530};r.set_TilesFormat=function(a){this._3925();a=b.pv.e(a,b.WebImageTypeEnumJS);if(!this._4530.equals(a)){this._4530=a;for(var d in this._7310)this._7310[d]._8317(a)}};r.get_FocusedImage=function(){var b=this.get_Images();if(0<=this._547&&this._547<b.get_Count())return b.get_Image(this._547)};r.get_HScroll=function(){this._3925();return this._2960};r.set_HScroll=function(a){this._3925();b.pv.b(a);this._2960!==a&&(a=(this._2960=a)?"auto":"hidden",$(this._4022).css("overflow-x",a),ca(this))};
r.get_VScroll=function(){this._3925();return this._6567};r.set_VScroll=function(a){this._3925();b.pv.b(a);this._6567!==a&&(a=(this._6567=a)?"auto":"hidden",$(this._4022).css("overflow-y",a),ca(this))};r.get_RenderingSettings=function(){this._3925();return this._501};r.set_RenderingSettings=function(a){this._3925();null!=a&&b.pv.c(a,b.WebRenderingSettingsJS);var d=this._501;if(!(d==a||null!=d&&d.equals(a))){var e="."+this._2936;null!=d&&$(d.evm).off("changed"+e);this._501=a;null!=a&&($(a.evm).on("changed"+
e,{v:this},B),this.get_Images().setRenderingSettings(a))}};r.get_ImageCacheManager=function(){this._3925();var b=this._7907;return null==b?this._6515:b.get_ImageCacheManager()};r.set_ImageCacheManager=function(a){this._3925();null!=a&&b.pv.c(a,p.WebImageCacheManagerJS);null!=this._7907&&b.pv.te("Can not change cache manager of slave viewer.");if(this._6515!==a){this._6515=a;for(var d in this._7310)this._7310[d]._7130(a);this._2454("_10397",a)}};r.get_SyncCacheWithImages=function(){this._3925();var b=
this._7907;return null!=b?b.get_SyncCacheWithImages():this._3222};r.set_SyncCacheWithImages=function(a){this._3925();b.pv.b(a);null!=this._7907&&b.pv.te("Can not change cache property of slave viewer.");this._3222=a};r.get_ControlId=function(){this._3925();return this._4824.id};r.get_Control=function(){return this._4824};r.get_DisplayMode=function(){this._3925();var b=12,a=this._6777.valueOf(),d=this._5079.valueOf();if(2===a)if(1===this._10856)b=1;else if(2===d)switch(this._10856){case 2:b=4;break;
case 3:b=8}else{if(1===d)switch(this._10856){case 2:b=5;break;case 3:b=9}}else if(1===a)if(2===d)switch(this._10856){case 1:b=2;break;case 2:b=6;break;case 3:b=10}else if(1===d)switch(this._10856){case 1:b=3;break;case 2:b=7;break;case 3:b=11}return new n.WebImageViewerDisplayModeEnumJS(b)};r.set_DisplayMode=function(a){a=b.pv.e(a,n.WebImageViewerDisplayModeEnumJS);if(!a.equals(this.get_DisplayMode())){var d=this._5295;switch(a.valueOf()){case 1:this._8997(d,1,2,2);break;case 2:this._8997(d,1,2,1);
break;case 3:this._8997(d,1,1,1);break;case 4:this._8997(d,2,2,2);break;case 5:this._8997(d,2,1,2);break;case 6:this._8997(d,2,2,1);break;case 7:this._8997(d,2,1,1);break;case 8:this._8997(d,3,2,2);break;case 9:this._8997(d,3,1,2);break;case 10:this._8997(d,3,2,1);break;case 11:this._8997(d,3,1,1)}}};r.get_MultipageDisplayImagePadding=function(){this._3925();return this._5295.slice()};r.set_MultipageDisplayImagePadding=function(a,d,e,g){this._3925();null==g&&(b.pv.isn(a)?g=d=e=a:(g=a.bottom,d=a.top,
e=a.right,a=a.left));b.pv.n(a,d,e,g);(0>a||0>d||0>e||0>g)&&b.pv.toe();var f=this._5295;if(f[0]!==a||f[1]!==d||f[2]!==e||f[3]!==g)this._5295=[a,d,e,g],this._290()&&(G(this),this._7377())};r.get_MultipageDisplayLayoutDirection=function(){this._3925();return this._5079};r.set_MultipageDisplayLayoutDirection=function(a){this._3925();a=b.pv.e(a,n.WebImageLayoutDirectionEnumJS);a.equals(this._5079)||(this._5079=a,this._290()&&(G(this),this._7377()))};r.get_MultipageDisplayRowCount=function(){this._3925();
return this._10856};r.set_MultipageDisplayRowCount=function(a){this._3925();b.pv.n(a);a!==this._10856&&(1>a&&b.pv.toe(),this._10856=a,G(this),this._7377())};r.get_MultipageDisplayMode=function(){this._3925();return this._6777};r.set_MultipageDisplayMode=function(a){this._3925();a=b.pv.e(a,n.WebImageViewerMultipageDisplayModeEnumJS);a.equals(this._6777)||(this._6777=a,G(this),this._7377())};r.get_IsMultipageDisplayMode=function(){this._3925();return this._290()};r.get_IsAutoScrollToFocusedImageEnabled=
function(){this._3925();return 0===this._4757};r.get_FocusedImageAppearance=function(){this._3925();return this._7419};r.set_FocusedImageAppearance=function(a){this._3925();b.pv.c(a,n.WebImageAppearanceJS);this._7419.equals(a)||($(this._7419._7010).off("changed."+this._2936),this._7419=a,ga(this,a),(this._290()||this._7732)&&this._7377())};r.get_ImageAppearance=function(){this._3925();return this._10393};r.set_ImageAppearance=function(a){this._3925();b.pv.c(a,n.WebImageAppearanceJS);this._10393.equals(a)||
($(this._10393._7010).off("changed."+this._2936),this._10393=a,M(this,a),this._290()&&this._7377())};r.get_UseImageAppearancesInSinglePageMode=function(){this._3925();return this._7732};r.set_UseImageAppearancesInSinglePageMode=function(a){this._3925();b.pv.b(a);this._7732!==a&&(this._7732=a,this._290()||this._7377())};r.get_ImageAnchor=function(){this._3925();return this._7096};r.set_ImageAnchor=function(a){this._3925();a=b.pv.e(a,n.WebImageAnchorTypeEnumJS);a.equals(this._7096)||(this._7096=a,this._7377())};
r.get_ProgressImage=function(){this._3925();return this._816};r.set_ProgressImage=function(a){this._3925();null!=a&&b.pv.c(a,Image);var d=this._816;if(d!==a){var e=!1;if(null!=a){e=a.src;if(null!=d&&e===d.src)return;e=!0}this._816=a;if(e){a=[];for(d=0;d<this._2633.length;d++)a[d]=this._2633[d]._1115;Y(this,a)}else W(this)}};r.get_ContextMenuFunc=function(){this._3925();return this._8494};r.set_ContextMenuFunc=function(a){this._3925();null!=a&&b.pv.f(a);this._8494=a;if(null!=this._5375){var d=this;
d._5375[0].oncontextmenu=function(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation();var a=d._1800;if(null!=a&&a.get_DisableContextMenu())return!1;var e;null!=d._8494&&(e=d._8494(b));return null!=e?e:!1}}};r.get_IsDisposed=function(){return this._6421};r._290=function(){return 2!==this._6777.valueOf()||1!==this._10856};r._10608=function(){return this._2382};r._1704=function(){var b=this._4022[0];return null!=b?{x:b.scrollLeft,y:b.scrollTop}:{x:0,y:0}};r._10537=
function(b,a){var d=this._4022[0];if(null!=d){var g=this._4822();this._2950.width<=g.width&&(b=0);this._2950.height<=g.height&&(a=0);d.scrollTop=a;d.scrollLeft=b}};r._640=function(){var b=this._4022[0];return null!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};r._4822=function(){var b=this._4824;return null!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};r._3602=function(){var b=this._1704(),a=this._640();return{x:b.x,y:b.y,width:a.width,height:a.height}};r._5179=
function(){return{width:this._2950.width,height:this._2950.height}};r._5257=function(){var b=this.get_FocusedImage();if(null==b)return p._4868._3842();b=this._3274(b);return{width:b.w,height:b.h}};r._1110=function(b){this._10041!==b&&(this._10041=b,this._1887||this._4022.css("cursor",b))};r._8902=function(b){this._4022.attr("title",b)};r._2530=function(){return{width:this._5699.width,height:this._5699.height}};r._5543=function(a,d){null==d&&(d=a.height,a=a.width);b.pv.n(a,d);this._5699={width:a,height:d}};
r._10779=function(){return{x:this._5725.x,y:this._5725.y}};r._7681=function(a,d){null==d&&(d=a.y,a=a.x);b.pv.n(a,d);this._5725={x:a,y:d}};r.renderImages=function(a,d,e,g,f){function h(){var b=r[u],a=b.get_Size(),d=b.get_Resolution();null!=a&&null!=d?(a=P(n,b),v.cancelRendering||b.renderTiles({width:n._8665,height:n._4129,format:n._4530,scale:a},l,p)):b.getImageInfo(h,p)}function l(b,a,e){u++;u===t?d&&d():(v.rendered=u,g&&g(v),v.cancelRendering?f&&f():h())}function p(b,a,d){e&&e(b.errorMessage)}this._3925();
0!==this._1558&&b.pv.te("Method cannot be executed because initialization is not finished.");b.pv.ad(a,b.pv.n);if(this._7214){var n=this,q=this.get_Images(),r=[];if(0===a.length)r=q.toArray();else for(var s=0;s<a.length;s++)r.push(q.get_Image(a[s]));var t=r.length,u=0,v={rendered:0,total:t,cancelRendering:!1};h()}};r.beginInit=function(){this._3925();this._1558++;null==this._10248&&this._8229();1===this._1558&&null!=this._1800&&this._1800.set_IsEnabled(!1)};r.endInit=function(){this._3925();this._1558--;
0===this._1558?(this._4539(),null!=this._1800&&this._1800.set_IsEnabled(!0)):0>this._1558&&(this._1558=0)};r.update=function(){ca(this)};r.invalidate=function(b){this._3925();this._8326(b)};r.transformPointFromScreenToControl=function(b,a){return this._83(b,a)};r.transformPointFromControlToScreen=function(b,a){return this._1391(b,a)};r.transformPointFromScreenToViewer=function(b,a){var d=this._83(b,a);return this._1242(d)};r.transformPointFromViewerToScreen=function(b,a){var d=this._6336(b,a);return this._1391(d)};
r.transformPointFromControlToViewer=function(b,a){return this._1242(b,a)};r.transformPointFromViewerToControl=function(b,a){return this._6336(b,a)};r.transformPointFromControlToImage=function(b,a){return this._9638(b,a)};r.transformPointFromImageToControl=function(b,a){return this._3071(b,a)};r.transformPointFromViewerToImage=function(b,a){return this._1953(b,a)};r.transformPointFromImageToViewer=function(b,a){return this._7254(b,a)};r.scrollTo=function(a,d){this._3925();b.pv.n(a,d);0>d&&(d=0);0>
a&&(a=0);this._10537(a,d)};r.scrollToImagePoint=function(a,d){this._3925();b.pv.n(a,d);var e=this._640(),g=this._10184(),f=this._1704();g.translate(f.x,f.y);g=g.transformPoint({x:a,y:d});this._10537(g.x-e.width/2,g.y-e.height/2)};r.focus=function(){this._3925();var b=$(this._4824);b.blur();b.focus()};r.disableAutoScrollToFocusedImage=function(){this._3925();this._4757++};r.enableAutoScrollToFocusedImage=function(){this._3925();this._4757--};r.getImageIndexByLocation=function(b){this._3925();for(var a,
d=0;d<this._2633.length;d++)if(this._2633[d]._6038(b)){a=this._2633[d]._7826;break}return null!=a?this.get_Images().indexOf(a):-1};r.getImageByLocation=function(b){b=this.getImageIndexByLocation(b);var a=this.get_Images();if(0<=b&&b<a.get_Count())return a.get_Image(b)};r.setFocusedIndexByLocation=function(b,a){var d=this.getImageIndexByLocation(b);if(0<=d&&d!==this._547)try{return a&&this.disableAutoScrollToFocusedImage(),this.set_FocusedIndex(d),!0}finally{a&&this.enableAutoScrollToFocusedImage()}return!1};
r.setFocusedIndexAsync=function(a,d){this._3925();b.pv.n(a);null!=d&&b.pv.f(d);0!==this._1558&&b.pv.tie();this._6537||b.pv.tie();if(this._547===a)null!=d&&d();else{if(null!=d){var e=function(){f._6537=!0;null!=d&&d()},g=this.get_Images().get_Image(a),g=this._7963(g),f=this,h=this._4822();if(0===h.width||0===h.height||g._2508)$(this).one("focusedIndexChanged",e);else $(g).one("_5059",function(){setTimeout(e,0)});this._6537=!1}this.set_FocusedIndex(a)}};r.getNearestImage=function(b){if(0==this.get_Images().get_Count())return null;
if(!this._290())return this.get_FocusedImage();for(var a=this._10911(),d,g=0,e,f=0;f<a.length;f++){e=a[f];var h=this._4072(e);if(f==a.length-1&&b.x>=h.x&&b.y>=h.y||p._4868._10449(h,b))return e;h=p._4868._8105(h);h=p._4868._11380(h,b);if(null==d||g>h)g=h,d=e}return d};r.zoomToRectangle=function(a){b.pv.r(a);0>=a.width||0>=a.height?this.scrollToImagePoint(a.x,a.y):this._10528(a)};r.dispose=function(){this._3925();clearInterval(this._8565);var b="."+this._2936,a=this._4893;$(a.evm).off(b);for(var d=
0;d<a.get_Count();d++){var g=a.get_Image(d);$(g.evm).off(b)}if(null!=this._7907){$(this._7907._6466).off(b);a=this.get_Images();for(d=0;d<a.get_Count();d++)g=a.get_Image(d),$(g.evm).off(b);this._7907=null}this._547=-1;this._6515=null;$(this._10393._7010).off(b);$(this._7419._7010).off(b);this._1191(document);$(this._4824).empty();this._4022=this._4824=null;this._9561=this._10041="";this._1400=this._606=this._3586=this._5375=null;this._8437={};this._816=null;for(b in this._7310)this._7310[b]._7430();
this._7310={};this._2633=[];this._1800=this._10050=null;this._2454("disposed");this._6421=!0;$(this).off();$(this._6466).off()};r._10528=function(b,a){this._3925();var d={x:b.x,y:b.y,width:b.width,height:b.height};this._10184(a).transformRectangle(d);var d=p._4868._2100(d),d=p._4868._1094(d),g=this._640(),d=Math.min(g.width/d.width,g.height/d.height);this.set_ImageSizeMode(3);d*=this._4668;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);d=p._4868._8105(b);this.scrollToImagePoint(d.x,d.y)};r._4072=function(a,
d){var e=this.get_FocusedImage();null==a?a=e:b.pv.isb(a)&&(d=a,a=e);e=this._7963(a);return null!=e?e._10609(d):p._4868._3842()};r._9412=function(){var b=this.get_FocusedImage();if(null==b)return p._4868._3842();var a=this._7226(b),d=this._640(),d={x:0,y:0,width:d.width,height:d.height};a.transformRectangle(d);d=p._4868._2100(d);b=b.get_Size();return p._4868._6314(d,{x:0,y:0,width:b.width,height:b.height})};r._1733=function(b){if(!(0>this._547)){var a=b;"mousedown"!=b.type&&(b="touchstart"==b.type?
b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);b=h(this,b);b.t="mouseDown";var d=this._1800;this._290()&&(null!=d&&d._2380(b)||this.setFocusedIndexByLocation(b.pv,!0));null!=d&&d._7741()&&(this._9712(),d._1733(b),this._4464(),b.handled&&b.needPrevent&&(a.cancelable=!0,a.preventDefault?a.preventDefault():a.returnValue=!1),sa(this,b))}};r._9698=function(b){if(!(0>this._547)){var a=b;"mousemove"!=b.type&&(b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);
b=h(this,b,!1);b.t="mouseMove";a=this._1800;null!=a&&a._7741()&&(this._9712(),a._9698(b),this._4464(),sa(this,b))}};r._9629=function(b){if(!(0>this._547)){var a=this._1800;if(null!=a&&a._7741()){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b);this._9712();var d=b.ps,g=(new Date).getTime(),e=this._3608?g-this._3608:0,f=this._9982?p._4868._11380(this._9982,d):100;250>e&&30<e&&10>f?(d=this._640(),d.x=0,d.y=0,p._4868._10449(d,
b.pc)&&(b.t="doubleClick",a._11042(b),b.handled=!1,b.active=!1)):(this._9982=d,this._3608=g);b.t="mouseUp";a._9629(b);this._4464();sa(this,b)}}};r._83=function(b,a){var d=this._3888(b,a),g=$(this._4824).offset();return{x:d.x-g.left,y:d.y-g.top}};r._1391=function(b,a){var d=this._3888(b,a),g=$(this._4824).offset();return{x:d.x+g.left,y:d.y+g.top}};r._1242=function(b,a){var d=this._3888(b,a),g=this._1704();return{x:d.x+g.x,y:d.y+g.y}};r._6336=function(b,a){var d=this._3888(b,a),g=this._1704();return{x:d.x-
g.x,y:d.y-g.y}};r._9638=function(a,d,e){a=this._2738(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._7226(e).transformPoint(a)};r._3071=function(a,d,e){a=this._2738(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._10184(e).transformPoint(a)};r._1953=function(a,d,e){a=this._6336(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._9638(a,e)};r._7254=function(b,a,d){b=this._3071(b,a,d);return this._1242(b)};r._10184=function(b){null==b&&(b=this.get_FocusedImage());b=this._7963(b);return null!=b?b._10184():
new p.WebMatrixJS};r._7226=function(b){return this._10184(b).invert()};r._6097=function(b){b=this._10184(b);var a=this._1704();b.translate(a.x,a.y);return b};r._10042=function(b,a){if(b===a||null==b||null==a)return new p.WebMatrixJS;var d=this._10184(b),g=this._7226(a);return p.WebMatrixJS.multiplyMatrix(d,g)};r._3888=function(a,d){this._3925();if(null==d||b.pv.ic(d,b.WebImageJS))d=a.y,a=a.x;b.pv.n(a,d);return{x:a,y:d}};r._2738=function(a,d){var e=this._3888(a,d);-1===this._547&&b.pv.te("ImageViewer does not have image.");
return e};r._3925=function(){this._6421&&b.pv.te("Viewer is disposed.")};r._10911=function(b){null==b&&(b=!1);for(var a=[],d=0;d<this._2633.length;d++){var g=this._2633[d];b?g._10755()&&a.push(g._7826):a.push(g._7826)}return a};r._6264=function(b){b=this._7963(b);if(null!=b)return b._10755()};r._7963=function(b){if(null!=b)return this._7310[b.get_Guid()]};r._912=function(){this._9695=3;this._4539()};r._7377=function(){0===this._9695&&(this._9695=1);this._4539()};r._9654=function(){1>=this._9695&&
(this._9695=2);this._4539()};r._4539=function(){if(0===this._1558){var b=!1;if(1===this._9695)b=this._10240();else if(2===this._9695)if(null!=this._10248&&this._10240())b=!0;else for(var a=0;a<this._2633.length;a++)this._2633[a]._6488();else 3===this._9695&&(b=!0);this._10248=null;this._9695=0;if(b)this._2868();else{if(null!=this._10050&&this._10050._4043())for(a=0;a<this._2633.length;a++)this._2633[a]._5998(!0);null!=this._8099&&(C(this),this._8099=null)}}};r._9712=function(){this._9561=this._10041;
this._1887=!0};r._4464=function(){this._1887=!1;this._9561!==this._10041&&this._4022.css("cursor",this._10041);this._9561=""};r._8251=function(b,a){this._9695=3;if(0===this._1558){var d=!1;if(2===this._6777.valueOf()){var g=this._10856;1===g?d=!0:Math.floor(b/g)!==Math.floor(a/g)&&(d=!0)}if(d)this._912();else if(""===this._3140){var d=this.get_FocusedImage(),g=this._7963(d),e=this._10050;this._1400._8169=!0;for(d=0;d<this._2633.length;d++)this._2633[d]._10094();e._9073(this._10393);g._9073(this._7419);
this._10050=g;C(this);this._8099=null;g=this._3602();for(d=0;d<this._2633.length;d++)e=this._2633[d],e._6581(g),0===e._11338&&e._6775&&e._771();this._2454("_2242",{dz:1,sp:this._1704()});for(d=0;d<this._2633.length;d++)this._2633[d]._5998()}else G(this);this._9695=0}};r._2983=function(){var b=this._7907;l({data:{v:this}},b);null!=b&&$(b._6466).off("."+this._2936);this.set_VisualTool()};r._9549=function(){var b=this._7907,a={v:this};if(null!=b){var d="."+this._2936,g=b._6466;$(g).on("_3979"+d,a,u);
$(g).on("_7059"+d,a,x);$(g).on("_4337"+d,a,s);$(g).on("focusedIndexChanged"+d,a,z);$(g).on("imageRotated"+d,a,F);$(g).on("_10397"+d,a,D);$(g).on("_4158"+d,a,l);$(g).on("_1054"+d,a,t);$(g).on("disposed"+d,a,q)}t({data:a},b)};r._2385=function(b){var a=!1;1===this._6777.valueOf()&&(a=!0);switch(b.actionName){case "clear":this._547=-1;a=!0;break;case "insert":case "insertRange":var d=b.imageIndex,g=1;"insertRange"===b.actionName&&(g=b.images.length);this._206(d,g);break;case "removeAt":case "removeRange":d=
[],"removeRange"===b.actionName?d=b.imagesIndexes:d.push(b.imageIndex),this._155(d)}return a||(b=this._10911(),d=this._6972(),p._4868._9711(b,d))?a:!0};r._206=function(b,a){var d=this.get_Images().get_Count();a===d?this._547=0:this._547>=b&&(this._547+=a)};r._155=function(b){var a=this.get_Images().get_Count();if(0===a)this._547=-1;else{for(var d=!1,g=0;this._547>=b[g];){if(this._547===b[g]){d=!0;break}g++}this._547-=g;d&&a==this._547&&this._547--}};r._8997=function(a,d,e,g){this._5295=a;this._10856=
d;this._5079=b.pv.e(e,n.WebImageLayoutDirectionEnumJS);this._6777=b.pv.e(g,n.WebImageViewerMultipageDisplayModeEnumJS);G(this);this._7377()};r._2868=function(){for(var a=this._6972(),d=[],e=0;e<a.length;e++){var g=a[e];null!=g&&null==g.get_Size()&&d.push(g)}var f=b.WebImagingEnviromentJS.guid();this._3140=f;if(0===d.length)this._7775(a,f);else{for(var g=function(b){t?s._2868():s._7775(a,f)},h=function(b){b.blocked?t=!0:s._2454("imageInfoLoadingException",b)},l=function(b){s._2454("imageInfoLoaded",
{image:b.image})},p=[],e=0;e<d.length;e++){for(var n=d[e].get_Source(),q=!0,r=0;r<p.length;r++)if(n.equals(p[r])){q=!1;break}q&&p.push(n)}for(var s=this,t=!1,e=0;e<p.length;e++)p[e].get_ImageService().bi();for(e=0;e<d.length;e++)d[e].getImageInfo(l,h),s._2454("imageInfoLoading",{image:d[e]});for(e=0;e<p.length;e++)if(d=p[e].get_ImageService().ei(),null!=d)for(r=0;r<d.length;r++)if(h=d[r].request,b.pv.ic(h,b.WebCompositeRequestJS)&&"GetImagesInfo"===h.get_ActionName())$(h).one("cre crs",g)}};r._7775=
function(a,d){if(this._3140===d&&0===this._1558){0===this._2382&&(this._2382=b.WebImagingEnviromentJS.get_ScrollSize(this._4824));if(this._290()){if(!(0<this._1558)){var e=this._10050;if(0<a.length){var g=this._6878,f=this._1704(),h=I(this,a),l=1;if(this._4668!==g&&(l=this._4668/g,this._2454("zoomChanged",{zoom:this._4668,differenceScale:l,scroll:f}),null!=e&&"fi"!==this._8099)){var p=-1,g=this.getNearestImage(f);null!=g&&(p=this.get_Images().indexOf(g));var n=g=0;if(-1!=p){n=0;1==this._6777.valueOf()&&
(n=Math.trunc(p/this._10856));var p=p%this._10856,q=this._5295;2==this._5079.valueOf()?(g=q[0]*(p+1)+q[2]*p,n=q[1]*(n+1)+q[3]*n):(g=q[0]*(n+1)+q[2]*n,n=q[1]*(p+1)+q[3]*p)}this._558((f.x-g)*l+g,(f.y-n)*l+n)}g=this._3602();p=this.get_FocusedImage();q=!1;b:if(this._2633.length!==a.length)n=!1;else{for(n=0;n<a.length;n++)if(this._2633[n]._7826!==a[n]){n=!1;break b}n=!0}if(!n){V(this,a);for(n=0;n<a.length;n++)q=a[n],null!=q&&(q=this._7310[q.get_Guid()],R(this,q),this._2633[n]=q);q=!0;this._1400._8169=
q}Y(this,h);for(var r=this._10393,n=0;n<this._2633.length;n++){var s=r,t=this._2633[n];t._7826===p&&(this._10050=t,s=this._7419);t._10094();Z(this,t,h[n],g,s)}this._2454("_2242",{dz:l,sp:f});this._10050===e&&null==this._8099&&this._558(f);C(this,g);e=this._1704();if(f.x!==e.x||f.y!==e.y)for(g=this._3602(),n=0;n<this._2633.length;n++)this._2633[n]._6581(g);if(!q)for(n=0;n<this._2633.length;n++)if(0<this._2633[n]._11338){q=!0;this._1400._8169=q;break}if(q){for(n=0;n<this._2633.length;n++)f=this._2633[n],
0===f._11338&&f._6775&&f._771();U(this._606)}f=!1;for(n=0;n<this._2633.length;n++)this._2633[n]._5998(!0),f||(f=this._2633[n]._6775);f||0===this._2633.length||this._2633[0]._6817()}else U(this._3586),U(this._606),I(this,a),V(this,a),this._2454("_2242",{dz:this._4668/this._6878,sp:this._1704()});this._8099=null}}else if(!(0<this._1558)){f=this._10050;if(0<a.length){p=this._6878;e=this._1704();h=I(this,a);l=1;this._4668!==p&&(l=this._4668/p,n=this._1704(),this._2454("zoomChanged",{zoom:this._4668,differenceScale:l,
scroll:n}),null!=f&&this._558(n.x*l,n.y*l));p=!1;q=a[0];if(1!==this._2633.length||this._2633[0]._7826!==q)V(this,a),p=!0,this._1400._8169=p;n=this._3602();0===this._2633.length&&(q=this._7963(q),R(this,q),this._2633[0]=q);this._10050=this._2633[0];Y(this,h);this._7732&&(g=this._7419);this._10050._10094();Z(this,this._10050,h[0],n,g);this._2454("_2242",{dz:l,sp:e});this._10050===f&&null==this._8099&&this._558(e);C(this,n);n=this._1704();e.x===n.x&&e.y===n.y||this._10050._6581(this._3602());!p&&0<this._10050._11338&&
(p=!0,this._1400._8169=p);p&&U(this._606);this._10050._5998(!0)}else U(this._3586),U(this._606),I(this,a),V(this,a),this._2454("_2242",{dz:this._4668/this._6878,sp:this._1704()});this._8099=null}this._3140===d&&(this._3140="")}};r._558=function(b,a){"fi"!==this._8099&&(this._8099=null!=a?{x:b,y:a}:b)};r._6972=function(){var b=this.get_Images(),a=b.get_Count();if(0===a)return[];var d=this._290();if(!d)return b=b.get_Image(this._547),null!=b?[b]:[];var g=this._6777.valueOf();if(1===g)return b.toArray();
var e=this._10856,f=0;d&&1!==g&&(f=Math.floor(this._547/e));d=Array(e);for(g=0;g<e;g++){var h=f*e+g;if(h>=a)break;d[g]=b.get_Image(h)}return d};r._3107=function(a){var d=[],e=p._4868._3842();if(0===a.length)return{b:e,r:d};var g=this._5295;this._290()||(g=[0,0,0,0]);var f=this._6777.valueOf(),h=this._4822(),l=h.width,n=h.height,e={x:0,y:0,width:l,height:n},f=1===f?Math.min(a.length,this._10856):a.length,q=this._4668,r=this._7603.valueOf(),s=this._5079.valueOf();if(2===s){var d=this._8205(a,f,g,l,
n),l=d.w,n=d.h,q=d.z,d=d.r,s=l>h.width,t=n>h.height;if(t){if(l=h.width-this._2382,n=h.height,d=this._8205(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r,s=l>h.width-this._2382)l=h.width-this._2382,n=h.height-this._2382,d=this._8205(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r}else!s||1!==r&&3!==r&&4!==r||(n=h.height-this._2382,l=h.width,d=this._8205(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r)}else if(1===s)if(d=this._3353(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r,s=l>h.width,t=n>h.height,s){if(n=h.height-this._2382,l=h.width,d=this._3353(a,
f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r,t=n>h.height-this._2382)l=h.width-this._2382,n=h.height-this._2382,d=this._3353(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r}else!t||0!==r&&3!==r&&4!==r||(l=h.width-this._2382,n=h.height,d=this._3353(a,f,g,l,n),l=d.w,n=d.h,q=d.z,d=d.r);else b.pv.te("Invalid operation");0>=q?(e.width=0,e.height=0):(e.width=l,e.height=n);this._6878=this._4668=q;return{b:e,r:d}};r._8205=function(a,d,e,g,f){var h=this._7603.valueOf(),l=5===h,n=this._88(a,0,a.length,!l),p=n.w,q=n.h,r=e[0]+e[2],s=
e[1]+e[3],t=p*d,u;switch(h){case 2:u=Math.min((g-r*d)/t,(f-s)/q);break;case 1:u=(f-s)/q;break;case 0:u=(g-r*d)/t;break;case 3:u=this._4668/100;break;case 4:case 5:u=1;break;default:b.pv.te("Invalid operation")}0>u&&(u=0);var v=1,x=1;if(3===h||4===h)v=this._8595/96,x=this._5123/96;for(var y=[],t=Math.round(t*u*v+r*d),z=0,B=0;B<a.length;B+=d){for(var n=this._88(a,B,d,!l),q=n.h,n=Math.round(p*u*v)+r,q=Math.round(q*u*x)+s,D=0;D<d&&B+D<a.length;D++){var C={x:D*n,y:z,width:n,height:q};C.x+=e[0];C.y+=e[1];
C.width-=r;0>C.width&&(C.width=0);C.height-=s;0>C.height&&(C.height=0);y[B+D]=C}z+=q}a=Math.ceil(z);this._290()?this._3517(g,f,t,a,y):y[0]={x:0,y:0,width:Math.max(g,t),height:Math.max(f,a)};g=100*u;3!==h&&4!==h&&(g/=this._8595/96);return{w:t,h:a,z:g,r:y}};r._3353=function(a,d,e,g,f){var h=this._7603.valueOf(),l=5===h,n=this._88(a,0,a.length,!l),p=n.w,q=n.h,r=e[0]+e[2],s=e[1]+e[3],t=q*d,u;switch(h){case 2:u=Math.min((g-r)/p,(f-s*d)/t);break;case 1:u=(f-s*d)/t;break;case 0:u=(g-r)/p;break;case 3:u=
this._4668/100;break;case 4:case 5:u=1;break;default:b.pv.te("Invalid operation")}0>u&&(u=0);var v=1,x=1;if(3===h||4===h)v=this._8595/96,x=this._5123/96;for(var y=[],z=0,t=Math.round(t*u*x+s*d),B=0;B<a.length;B+=d){for(var n=this._88(a,B,d,!l),p=n.w,p=Math.round(p*u*v)+r,n=Math.round(q*u*x)+s,D=0;D<d&&B+D<a.length;D++){var C={x:z,y:D*n,width:p,height:n};C.x+=e[0];C.y+=e[1];C.width-=r;0>C.width&&(C.width=0);C.height-=s;0>C.height&&(C.height=0);y[B+D]=C}z+=p}a=Math.ceil(z);this._290()?this._3517(g,
f,a,t,y):y[0]={x:0,y:0,width:Math.max(g,a),height:Math.max(f,t)};g=100*u;3!==h&&4!==h&&(g/=this._8595/96);return{w:a,h:t,z:g,r:y}};r._88=function(b,a,d,g){for(var e=0,f=0,h=0;h<d&&a+h<b.length;h++){var l=b[a+h];if(null!=l){var l=this._3274(l),n=l.w,p=l.h;g&&(n*=this._8595/l.rx,p*=this._5123/l.ry);n>e&&(e=n);p>f&&(f=p)}}if(90===this._1814||270===this._1814)b=e,e=f,f=b;return{w:e,h:f}};r._3274=function(b){var a=b.get_Resolution(),d=b.get_Size(),g;null==a||0===a.x||0===a.y?(b=this._5725.x,a=this._5725.y):
(b=a.x,a=a.y);null==d||0===d.width||0===d.height?(g=this._5699.width,d=this._5699.height):(g=d.width,d=d.height);return{rx:b,ry:a,w:g,h:d}};r._3517=function(b,a,d,g,e){switch(this._7096.valueOf()){case 4:case 7:b=0;a=Math.max(0,(a-g)/2);break;case 6:b=0;a=Math.max(0,a-g);break;case 5:a=b=0;break;case 8:case 11:b=Math.max(0,b-d);a=Math.max(0,(a-g)/2);break;case 10:b=Math.max(0,b-d);a=Math.max(0,a-g);break;case 9:b=Math.max(0,b-d);a=0;break;case 1:case 13:b=Math.max(0,(b-d)/2);a=0;break;case 2:case 14:b=
Math.max(0,(b-d)/2);a=Math.max(0,a-g);break;default:b=Math.max(0,(b-d)/2),a=Math.max(0,(a-g)/2)}if(0!=b||0!=a)for(g=0;g<e.length;g++)e[g].x+=b,e[g].y+=a};r._8326=function(a,d){if(null==a){var e=this._640();a={x:0,y:0,width:e.width,height:e.height}}b.pv.r(a);if(!p._4868._11395(a)){var g=this._1800;if(0!==this._2633.length&&null!=g){e=this._606.getContext("2d");e.clearRect(a.x,a.y,a.width,a.height);var f=this.get_FocusedImage(),h=this._10911(!0);if(this._290()&&g.get_IsMultipageModeSupported())for(g=
0;g<h.length;g++){var l=h[g];if(l!==f){var n=this._4072(l,!0),n=p._4868._6314(a,n);p._4868._11395(n)||this._635(e,l,n)}}this._635(e,f,a)}}};r._635=function(b,a,d){if(null!=a){var g=this._7963(a);if(null!=g){var e=g._10330();e||this.get_FocusedImage()!==a||g._10755()||!g._6172()||(e=!0,d=this._640(),d={x:0,y:0,width:d.width,height:d.height});e&&(b.save(),e=d,b.beginPath(),b.rect(e.x,e.y,e.width,e.height),b.clip(),b._192=a.get_Resolution(),this._1800._6160(g._10184(),d,a),b.restore())}}};r._10552=function(b){var a=
this;$(b).on(fa(a._2936),function(b){a._1733(b)})};r._2424=function(b){$(b).off(fa(this._2936))};r._3386=function(b){var a=this,d=a._2936;$(b).on(O(d),function(b){a._9698(b)});$(b).on(ba(d),function(b){a._9629(b)})};r._1191=function(b){var a=this._2936;$(b).off(O(a));$(b).off(ba(a))};r._2454=function(b,a){$(this._6466).triggerHandler(b,a);$(this).triggerHandler(b,a)};r._8229=function(){var b={};b._8665=this._8665;b._4129=this._4129;b._4668=this._4668;b._7603=this._7603.valueOf();b._1814=this._1814;
b._5295=this._5295.slice();b._5079=this._5079.valueOf();b._10856=this._10856;b._6777=this._6777.valueOf();b._7096=this._7096.valueOf();b._7732=this._7732;b._7419=this._7419.clone();b._10393=this._10393.clone();b._isMultipage=this._290();this._10248=b};r._10240=function(){var b=this._10248;if(null==b)return!0;var a=this._290(),d=!b._7419.equals(this._7419),g=b._7732!==this._7732;if(b._8665!==this._8665||b._4129!==this._4129||b._1814!==this._1814||a!==b._isMultipage||b._7096!==this._7096.valueOf()||
b._4668!==this._4668||!a&&(g||d&&this._7732))return!0;g=this._7603.valueOf();return b._7603!==g&&3!==g||a&&(a=this._5295,g=b._5295,a=a[0]!==g[0]||a[1]!==g[1]||a[2]!==g[2]||a[3]!==g[3],g=!b._10393.equals(this._10393),a||b._5079!==this._5079.valueOf()||b._6777!==this._6777.valueOf()||b._10856!==this._10856||d||g)?!0:!1};r._863=function(b){var a=[],d=this._2633;if(null!=b)for(var g=0;g<b.length;g++){var e=this._7310[b[g].get_Guid()];-1!==d.indexOf(e)&&a.push(e)}else a=d;if(0!==a.length){for(g=0;g<a.length;g++)a[g]._1552();
this._9654()}};var aa;b.pv.iss(f)?aa=document.getElementById(f):(b.pv.ic(f,$)&&(f=f[0]),null!=f.tagName&&(aa=f));null==aa&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==aa.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");aa.style.setProperty("position","relative","important");this._4824=aa;this._2936=b.WebImagingEnviromentJS.guid();this._2950=null;this._27={width:aa.clientWidth,height:aa.clientHeight};this._2382=b.WebImagingEnviromentJS.get_ScrollSize(aa);
this._8595=b.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._8595&&(this._8595=96);this._5123=b.WebImagingEnviromentJS.getScreenDpi().dpiY;0===this._5123&&(this._5123=96);this._9695=this._1558=0;this._7455="WebImageViewer";this._4893=new b.WebImageCollectionJS;this._7907=this._1800=null;this._4561=!1;this._4129=this._8665=1024;this._547=-1;this._6878=this._4668=100;this._7603=new n.WebImageSizeModeEnumJS(4);this._1400=this._606=this._3586=this._8099=null;this._6108=0;this._8565=null;this._5940=
250;this._1814=0;this._6567=this._2960=!0;this._501=null;this._7214=!0;this._4530=new b.WebImageTypeEnumJS(1);this._9561=this._10041="";this._1887=!1;this._6466={};this._6515=null;this._3222=!0;this.set_ImageCacheManager(new p.WebImageCacheManagerJS);this._10050=null;this._2633=[];this._7310={};this._3140="";this._6537=!0;this._7419=new n.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(0,0,0,1)",1);this._10393=new n.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(255,255,255,0)",0);this._7732=!1;
this._5295=[4,4,4,4];this._5079=new n.WebImageLayoutDirectionEnumJS(2);this._10856=1;this._6777=new n.WebImageViewerMultipageDisplayModeEnumJS(2);this._4757=0;this._7096=new n.WebImageAnchorTypeEnumJS(0);this._5699={width:100,height:100};this._5725={x:96,y:96};this._816=this._5375=this._4022=this._10248=null;this._8437={};this._8494=null;f={v:this};aa="."+this._2936;$(this._4893.evm).on("changing"+aa,f,u);$(this._4893.evm).on("changed"+aa,f,x);ga(this,this._7419);M(this,this._10393);(function(b){var a=
b._4824,d=a.clientWidth,g=a.clientHeight,e=$("<div>");$(a).prepend(e);a={width:"100%",height:"100%",position:"absolute"};a["overflow-x"]=b._2960?"auto":"hidden";a["overflow-y"]=b._6567?"auto":"hidden";e.css(a);$(e).on("scroll",{v:b},ra);b._4022=e;a=$("<div>").appendTo(e);a.css({position:"absolute","touch-action":"none",width:d,height:g});b._5375=a;var f=$("<div>").insertBefore(e);$(f).css({position:"absolute",overflow:"hidden",width:"100%",height:"100%"});var e={position:"absolute",top:0,left:0},
h=$("<canvas>").appendTo(f);b._3586=h[0];$(h).css(e);b._3586.width=d;b._3586.height=g;b._2950={width:d,height:g};b._1400=b._3586.getContext("2d");f=$("<canvas>").appendTo(f);b._606=f[0];$(b._606).css(e);b._606.width=d;b._606.height=g;b._10552(a);b._3386(a);null!=b._1800&&b._1800._1433();b._27={width:d,height:g};b._8565=setInterval(X,b._5940,b)})(this);this.set_ContextMenuFunc();this._7243=!1;this._3608=this._9982=null;this._6421=!1;this._8169=null;delete this._8169;delete r.focusedIndexChanged;delete r.imageRotating;
delete r.imageRotated;delete r.zoomChanged;delete r.imageInfoLoaded;delete r.imageTilePainted;delete r.imagePainted;delete r.visualToolChanged;delete r.imageInfoLoadingException;delete r.imagePaintingException;delete r.imagePainting;delete r.imageInfoLoading;delete r._3979;delete r._7059;delete r._4337;delete r._4158;delete r._1054;delete r.disposed;delete r._2242;delete r._10397};e._2326=d;e.WebImageViewerJS=a;var h=function(a){function d(b,a,e){if(e.width!==b._445||e.height!==b._5496)return!1;a=
b.get_Images().get_Image(a);b=a.get_RenderingSettings();a=a.get_DecodingSettings();return b.equals(e.renderingSettings)&&(null!=a&&a.equals(e.decodingSettings)||null==a&&a==e.decodingSettings)}function l(b,a,d){null==d&&(d=!0);b=$(b._4824).offset();b={x:a.pageX-b.left,y:a.pageY-b.top};if(d){d=0;switch(a.button){case 0:d=1;break;case 1:d=4;break;case 2:d=2;break;case 3:d=8;break;case 4:d=16}d=new n.WebMouseButtonsEnumJS(d)}else d=new n.WebMouseButtonsEnumJS(a.buttons);return{pc:b,pv:b,ps:b,e:a,b:d}}
function t(b,a){var d=b.data.v,e;e=null!=a?a.get_Images():d.get_Images();x(d,e.toArray());d._386();d._2454("_4158",a)}function q(b,a){var d=b.data.v,e=(null!=a?a.get_Images():d.get_Images()).toArray();B(d,e);d._2454("_1054",a);d._8130(0,e);e=-1;null!=a&&(e=a._547);d._547=e;-1!==e&&d.scrollTo(e);d._7816||K(d)}function u(b){b.data.v.set_MasterViewer()}function v(b,a){b.data.v._2454("_10397",a)}function E(b,a,d){b=document.getElementById(d._2936+"_ThumbnailStyleSheet").sheet.cssRules[b];null!=b&&(b=
b.style,b.background=a._5329,b.border=a._1098,b.marginLeft=-a._8895+"px",b.marginTop=-a._8895+"px")}function s(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}if(0!==e.length){x(d,e);for(var h=d.get_ImageCacheManager(),k=null!=h&&d.get_SyncCacheWithImages(),l=0;l<e.length;l++){var m=e[l];k&&h.contains(m)&&h.clearImageCache(m)}}B(d,
f);d._2454("_3979",a)}function x(b,a){for(var d=0;d<a.length;d++)$(a[d].evm).off("."+b._2936)}function B(b,a){if(null==b._7907)for(var d=0;d<a.length;d++)$(a[d].evm).on("icd."+b._2936,{v:b},z)}function z(b,a){var d=b.data.v,e=a.i;if("dc"===a.d){var f=d.get_ImageCacheManager();null!=f&&f.contains(e)&&f.clearImageCache(e)}f=d.get_Images().indexOf(e.get_Guid());d._3982(f,e,e);K(d);d._2454("_4337",a)}function F(b,a){var d=b.data.v,e=d._547;d._2385(a);d._7816||K(d);d._2454("_7059",a);d._547!==e&&d._2454("focusedIndexChanged",
{newFocusedIndex:d._547,previouslyFocusedIndex:e})}function D(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function G(b){b._4022.find(".selected").removeClass("selected")}function C(b,a){for(var d=0;d<b._2406.length;d++)if(b._2406[d]===a)return!0;return!1}function I(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function V(b){var a="";window.PointerEvent?a+=" pointermove."+
b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function Y(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function L(b,a,d,e){var f=$("<div>");f.css({"float":"left",position:"relative","margin-top":b,"margin-left":b,width:a,height:d});b=$("<div>",{id:e}).appendTo(f);$(b).css({width:a,height:d});$(b).addClass("border");$(b).addClass("notReady");return{border:b,
main:f}}function W(b){var a=b._4824;if(a.clientWidth!=b._27.width||a.clientHeight!=b._27.height){0!==b._27.width&&0!==b._27.height||ba(b);var d=b.get_Images().get_Count();b._27={width:a.clientWidth,height:a.clientHeight};R(b,d);S(b);b._7816||K(b);4===b._9478.valueOf()&&P(b,d)}}function Z(b,a){var d=b._4824,e=d.clientWidth,d=d.clientHeight;if(null==b._606){var f=b._4022[0],f=$("<canvas>").insertAfter(f);f.css({left:"0px",top:"0px",position:"absolute","pointer-events":"none",display:"none","user-select":"none",
"-webkit-user-select":"none","-moz-user-select":"none"});b._606=f[0]}b._606.width=e;b._606.height=d}function P(b,a){var d=b._7325,e=-1,f=-1,h=b._4451(),k=h.width,h=h.height,l=b._2695,m=b._9478.valueOf();R(b,a);switch(m){case 1:e=k;f=h*a+l*a;d.css("left","50%");d.css("top","0px");d.css("margin-left",-e/2-l);d.css("margin-top",0);d.css("margin-bottom",l);break;case 2:f=h;e=(k+l)*a;d.css("top","50%");d.css("left","0px");d.css("margin-top",-f/2-l);d.css("margin-left",0);break;case 4:m=b._4824;e=(k+l)*
b._11053+l;f=(h+l)*b._9522;d.css("top","0px");e>m.clientWidth?(d.css("left","0px"),d.css("margin-left",l)):(m.clientWidth-e)/2<l?(d.css("left","0px"),d.css("margin-left",l)):(d.css("left","50%"),d.css("margin-left",-e/2));d.css("margin-top",0);d.css("margin-bottom",l);break;case 3:d.css({"margin-left":l,left:"0px",top:"0px","margin-top":0,"margin-bottom":l})}-1!=e?d.css({width:e,height:f}):d.css({width:"",height:""})}function R(a,d){if(0===d)a._9522=a._11053=0;else{0===a._2382&&(a._2382=b.WebImagingEnviromentJS.get_ScrollSize(a._4824));
var e;switch(a.get_ThumbnailFlowStyle().valueOf()){case 1:e=1;break;case 2:e=d;break;case 4:e=Math.min(a.get_ThumbnailFixedColumnCount(),d);break;case 3:e=a._4824;var f=a._4451().width,h=0;N(a,"y")&&(h=a._2382);e=Math.floor((e.clientWidth-a.get_ThumbnailMargin()-h)/(f+a.get_ThumbnailMargin()));e=0<e?Math.min(e,d):1}a._11053=e;a._9522=Math.ceil(d/e)}}function S(b){var a=b._5179(),d=b._4824,e=d.clientHeight,d=d.clientWidth,f=0,h=0;switch(b._1814){case 0:f=b._1091;h=b._9622;break;case 90:f=b._9292;h=
b._1091;break;case 180:f=b._10600;h=b._9292;break;case 270:f=b._9622,h=b._10600}3===b._9478.valueOf()&&(f*=-1);b=b._4022;a.width+f>d?b.css("overflow-x","auto"):b.css("overflow-x","hidden");a.height+h>e?b.css("overflow-y","auto"):b.css("overflow-y","hidden")}function N(b,a){var d=b._4022,e=d.css("overflow"),f;f=null==a||"y"==a?d.css("overflow-y"):d.css("overflow-x");return(d=null==a||"y"==a?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==
f||"visible"==f)||"scroll"==e||"scroll"==f}function K(b){var a=b.get_GenerateOnlyVisibleThumbnails(),d=b.get_ImageCacheManager();if(null!=d){for(var e=[],f=0;f<b._8752.length;f++)1!==b._8752[f]&&e.push(f);for(var h=b._445,k=b._5496,l=b.get_Images(),f=0;f<e.length;f++){var m=l.get_Image(e[f]),n=d._10109(h,k,m),n=d.getImageData(m,n);null!=n&&(n={fileId:n,image:m,width:h,height:k,renderingSettings:m.get_RenderingSettings().clone()},m=m.get_DecodingSettings(),null!=m&&(n.decodingSettings=m.clone()),b._7616(n))}}d=
sa(b);if(0!=d.length)for(e=b.get_Images(),f=0;f<d.length;f++)h=d[f],k=e.get_Image(h).get_Guid(),k=$(b._4824).find("#"+k),0===b._8752[h]&&(fa(b,k,h),h=b,n=k,null!=h._816&&(k=h._816.width,l=h._816.height,0===k&&0===l&&(k=l=32),m=h._4451(),h=$($(h._816).clone()).appendTo(n),$(h).css({position:"absolute","pointer-events":"none",top:(m.height-l)/2,left:(m.width-k)/2})));if(!b._7816)if(a)0==d.length?b._2454("visibleThumbnailsPainted"):Q(d,b);else if(a=b._4022[0],d=a.clientHeight,0!==a.clientWidth&&0!==
d){a=[];for(d=0;d<b._8752.length;d++)1!==b._8752[d]&&a.push(d);0===a.length&&b._2454("visibleThumbnailsPainted");Q(a,b)}}function sa(b){var a=b.get_Images().get_Count();if(0===a)return[];var d=b.get_ThumbnailMargin(),e=b.get_ThumbnailPadding(),f=b._4451(),h=f.width,f=f.height,k=b._4022[0],l=k.clientWidth,m=k.clientHeight;if(0===l||0===m)return[];var n=k.scrollTop,k=k.scrollLeft,p=h+d,q=b._11053,r=k+l,s=n+m,t;t=n<d+e[0]?0:Math.floor(n/(f+d));m=Math.ceil(m/f)+t+1;m>b._9522&&(m=b._9522);p=k<d+e[3]?0:
Math.floor(k/p);l=Math.ceil(l/h)+p+1;l>b._11053&&(l=b._11053);var u=b._7325.children("div");if(0===u.length)return[];for(var v=$(u[t*q+p]).position(),u=v.left,v=v.top,x=0,y=0,z=0,B=0,A=[],C=t;C<m;C++){C!=t?(z+=f+d,B=z+f+e[2]):(z=v,B=z+f+e[0]+e[2]);for(var D=p;D<l;D++){var x=D!=p?x+(h+d):u,y=x+h+e[1],F=C*q+D;F<a&&(1<k-y||1>r-x||1<n-B||1>s-z||1===b._8752[F]||A.push(F))}}return A}function fa(b,a,d){a=$("<img>").appendTo(a);var e=b._6512.valueOf()/100;a.css({width:b._445*e,height:b._5496*e,display:"block",
position:"absolute","margin-left":b._1091,"margin-top":b._9622,"margin-right":b._10600,"margin-bottom":b._9292,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});0!==b._1814&&a.css(b._2734());e={v:b};a.on("click",e,X);a.contextmenu(e,ga);a.mouseover(e,U);a.mouseout(e,ea);a.on(I(b._2936),e,M);b._8752[d]=2;b._2454("thumbnailPainting",d);return a[0]}function O(b,a,d){for(;-1!==b.indexOf(a);)b=b.replace(a,d);return b}function ba(b){if(0!==b._4245){for(var a=0;a<b._8752.length;a++)0!==
b._8752[a]&&(b._2454("thumbnailPainting",a),2===b._4245&&b._2454("thumbnailPainted",a));b._4245=0}}function Q(a,d){function e(b){d._7616(b)}function f(b){if(!b.blocked){null!=b.fileId&&d._7616(b);var a=d.get_Images().indexOf(b.image);d._2454("imageRenderingException",{response:b,thumbnailIndex:a})}}function h(b){d._7816=!1;K(d)}if(0!==d._1558)d._9695=!0;else{for(var k=d._445,l=d._5496,m=d.get_Images(),n=[],p=[],q=0;q<a.length;q++){var r=m.get_Image(a[q]);n.push(r);for(var s=r.get_Source(),t=!0,r=
0;r<p.length;r++)if(s.equals(p[r])){t=!1;break}t&&p.push(s)}for(q=0;q<p.length;q++)p[q].get_ImageService().bi();0!==n.length&&(d._7816=!0);r={width:k,height:l,useCache:d._7214,format:d._10243};for(q=0;q<n.length;q++)n[q].renderThumbnail(r,e,f);for(q=0;q<p.length;q++)if(n=p[q].get_ImageService().ei(),null!=n)for(r=0;r<n.length;r++)if(k=n[r].request,b.pv.ic(k,b.WebCompositeRequestJS)&&"RenderThumbnails"===k.get_ActionName())$(k).one("cre crs",h)}}function ca(b){var a=b.data.v;K(a);a._2454("scrollChanged",
b)}function X(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._547!=d?a.set_FocusedIndex(d):a.set_SelectedIndices(d);a._2454("thumbnailClick",{thumbnailIndex:d,originalEvent:b})}function U(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);if(!C(a,d))if(a.get_FocusOnHover())a.set_FocusedIndex(d);else{var e="";d==a._547&&(e+="focused");a._11141(d,e+" hovered")}a._2454("thumbnailMouseover",{thumbnailIndex:d,originalEvent:b})}function ga(b){var a=b.data.v,
d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._2454("thumbnailContextMenu",{thumbnailIndex:d,originalEvent:b})}function M(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e=b;"mousedown"!=b.type&&(e="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent);e=e.button;0===e||2===e?(a._789=!0,a.set_SelectedIndices([d])):0===a._2406.length&&a.set_SelectedIndices([d]);a._2454("thumbnailMousedown",{thumbnailIndex:d,originalEvent:b})}function ea(b){var a=b.data.v,d=
$(this).parent()[0].id,d=a.get_Images().indexOf(d),e="",e=d==a._547?e+"focused":1===a._8752[d]?e+"normal":e+"notReady";C(a,d)&&(e+=" selected");a._11141(d,e);a._2454("thumbnailMouseout",{thumbnailIndex:d,originalEvent:b})}function r(b,a){b.data.v.set_ImageRotationAngle(a)}function aa(b){b._445=b._7983.width;b._5496=b._7983.height;b._9478=b._3810;b._3485=b._1311;b._6512=b._8554;b._9622=b._6734[0];b._10600=b._6734[1];b._9292=b._6734[2];b._1091=b._6734[3];b._2695=b._11230;b._1814=b._8683}function k(b){b.cancelable=
!0;b.preventDefault?b.preventDefault():b.returnValue=!1}var m=h.prototype;m.focusedIndexChanged=function(b,a){};m.imageRotating=function(b,a){};m.imageRotated=function(b,a){};m.thumbnailRendered=function(b,a){};m.thumbnailPainting=function(b,a){};m.thumbnailPainted=function(b,a){};m.visibleThumbnailsPainted=function(b){};m.imageRenderingException=function(b,a){};m.scrollChanged=function(b,a){};m.thumbnailClick=function(b,a){};m.thumbnailMouseover=function(b,a){};m.thumbnailContextMenu=function(b,
a){};m.thumbnailMousedown=function(b,a){};m.thumbnailMouseout=function(b,a){};m.disposed=function(b){};m._3979=function(b,a){};m._7059=function(b,a){};m._4337=function(b,a){};m._4158=function(b,a){};m._1054=function(b,a){};m._6313=function(b){};m._10397=function(b,a){};m.get_Images=function(){this._3925();var b=this._7907;return null==b?this._4893:b.get_Images()};m.get_FocusedIndex=function(){this._3925();return this._547};m.set_FocusedIndex=function(a){b.pv.n(a);(-1>a||a>this.get_Images().get_Count()-
1)&&b.pv.toe();var d=this._547;if(a!==d&&(-1!==d&&(1===this._8752[d]?this._11141(d,"normal"):this._11141(d,"notReady")),this._547=a,-1!==a&&(this._11141(a,"focused"),this.scrollTo(a),this.set_SelectedIndices(a)),this._2454("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d}),null!=this._7907))try{this._7907.set_FocusedIndex(a)}catch(e){}};m.get_MasterViewer=function(){this._3925();return this._7907};m.set_MasterViewer=function(a){this._3925();if(a!=this&&this._7907!==a){if(null!=a){b.pv.ic(a,
e.WebImageViewerJS)||b.pv.ic(a,h)||b.pv.tae();a._7907===this&&a.set_MasterViewer();for(var d=a;null!=(d=d._7907);)d===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._2983();this._7907=a;this._9549()}};m.get_ProgressImage=function(){this._3925();return this._816};m.set_ProgressImage=function(a){this._3925();null!=a&&b.pv.c(a,Image);this._816=a};m.get_ThumbnailWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};m.get_ThumbnailHeight=
function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};m.get_ThumbnailSize=function(){this._3925();var b=this._445,a=this._5496;0!==this._1558&&(b=this._7983.width,a=this._7983.height);return{width:b,height:a}};m.set_ThumbnailSize=function(a,d){this._3925();var e,f;null==d?(e=a.width,f=a.height):(e=a,f=d);b.pv.n(e,f);32>e&&(e=32);1024<e&&(e=1024);32>f&&(f=32);1024<f&&(f=1024);var h=this.get_ThumbnailSize();if(h.width!==e||h.height!==f)this._9695=
!0,this._7983={width:e,height:f},0===this._1558&&this.update()};m.get_ThumbnailFlowStyle=function(){this._3925();return 0!==this._1558?this._3810:this._9478};m.set_ThumbnailFlowStyle=function(a){this._3925();a=b.pv.e(a,n.WebThumbnailFlowStyleEnumJS);a.equals(this.get_ThumbnailFlowStyle())||(this._9695=!0,this._3810=a,0===this._1558&&this.update())};m.get_ThumbnailColumnCount=function(){this._3925();return this._11053};m.get_ThumbnailFixedColumnCount=function(){this._3925();return 0!==this._1558?this._1311:
this._3485};m.set_ThumbnailFixedColumnCount=function(a){this._3925();b.pv.n(a);0>=a&&b.pv.toe();a!==this.get_ThumbnailFixedColumnCount()&&(this._9695=!0,this._1311=a,0===this._1558&&this.update())};m.get_ThumbnailScale=function(){this._3925();return 0!==this._1558?this._8554:this._6512};m.set_ThumbnailScale=function(a){this._3925();a=b.pv.e(a,n.WebThumbnailScaleEnumJS);a.equals(this.get_ThumbnailScale())||(this._9695=!0,this._8554=a,0===this._1558&&this.update())};m.get_GenerateOnlyVisibleThumbnails=
function(){this._3925();return this._7610};m.set_GenerateOnlyVisibleThumbnails=function(a){this._3925();b.pv.b(a);if(this._7610!==a)if(this._7610=a)this._4022.on("scroll",{v:this},ca);else this._4022.off("scroll"),0<this.get_Images().get_Count()&&K(this)};m.get_FocusOnHover=function(){this._3925();return this._1809};m.set_FocusOnHover=function(a){this._3925();b.pv.b(a);this._1809=a};m.get_ThumbnailMargin=function(){this._3925();return 0!==this._1558?this._11230:this._2695};m.set_ThumbnailMargin=function(a){this._3925();
b.pv.n(a);0>a&&(a=0);a!==this.get_ThumbnailMargin()&&(this._9695=!0,this._11230=a,0===this._1558&&this.update())};m.get_ThumbnailPadding=function(){this._3925();var b=[this._9622,this._10600,this._9292,this._1091];0!==this._1558&&(b=this._6734.slice());return b};m.set_ThumbnailPadding=function(a){this._3925();var d=[];null!=a.length?(b.pv.ad(a,b.pv.n),4!==a.length&&b.pv.tae(),d[0]=0<=a[0]?a[0]:0,d[1]=0<=a[1]?a[1]:0,d[2]=0<=a[2]?a[2]:0,d[3]=0<=a[3]?a[3]:0):(b.pv.n(a),0>a&&(a=0),d[0]=d[1]=d[2]=d[3]=
a);a=this.get_ThumbnailPadding();if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3])this._9695=!0,this._6734=d,0===this._1558&&this.update()};m.get_SelectedIndices=function(){this._3925();return this._2406.slice()};m.set_SelectedIndices=function(a){this._3925();if(null==a)this._2406=[],G(this);else{var d=[];if(null!=a.length)if(this._6373)for(var e=0;e<a.length;e++)-1===d.indexOf(a[e])&&d.push(a[e]);else d.push(a[0]);else"number"==typeof a&&d.push(a);var f=this.get_Images().get_Count();b.pv.ad(d,
function(a){b.pv.n(a);(0>a||a>=f)&&b.pv.toe()});this._2406=d;G(this);for(e=0;e<d.length;e++)this._11141(d[e],"selected")}};m.get_MultiSelect=function(){this._3925();return this._6373};m.set_MultiSelect=function(a){this._3925();b.pv.b(a);this._6373=a};m.get_ImageRotationAngle=function(){this._3925();return 0!==this._1558?this._8683:this._1814};m.set_ImageRotationAngle=function(a){this._3925();b.pv.n(a);a=p._4868._4781(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();
a!==d&&(this._2454("imageRotating",{currentAngle:d,newAngle:a}),this._9695=!0,this._8683=a,0===this._1558&&this.update(),null!=this._7907&&this._7907.set_ImageRotationAngle(a),this._2454("imageRotated",a))};m.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();var d=a.get_Resolution(),a=a.get_IsVector();return null==b||null==d?null:{size:b,resolution:d,isVector:a}};m.get_ThumbnailCanvas=function(a){b.pv.n(a);var d=this.get_Images();(0>a||a>d.get_Count())&&b.pv.toe();a=d.get_Image(a).get_Guid();
d=$("#"+a).parent();a=$(d).children("canvas");0===a.length&&(a=$("<canvas>").appendTo(d),a.css({"pointer-events":"none",position:"absolute",top:"0px",left:"0px","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"}),d=this._4451(),a[0].width=d.width,a[0].height=d.height);return a[0]};m.get_UseCache=function(){this._3925();return this._7214};m.set_UseCache=function(a){this._3925();b.pv.b(a);this._7214=a};m.get_ThumbnailsFormat=function(){this._3925();return this._10243};m.set_ThumbnailsFormat=
function(a){this._3925();this._10243=b.pv.e(a,b.WebImageTypeEnumJS)};m.get_NormalThumbnailAppearance=function(){this._3925();return this._7433};m.set_NormalThumbnailAppearance=function(a){this._3925();b.pv.c(a,n.WebThumbnailAppearanceJS);this._7433.equals(a)||(this._7433=a,E(0,this._7433,this))};m.get_FocusedThumbnailAppearance=function(){this._3925();return this._6002};m.set_FocusedThumbnailAppearance=function(a){this._3925();b.pv.c(a,n.WebThumbnailAppearanceJS);this._6002.equals(a)||(this._6002=
a,E(1,this._6002,this))};m.get_HoveredThumbnailAppearance=function(){this._3925();return this._2302};m.set_HoveredThumbnailAppearance=function(a){this._3925();b.pv.c(a,n.WebThumbnailAppearanceJS);this._2302.equals(a)||(this._2302=a,E(2,this._2302,this))};m.get_NotReadyThumbnailAppearance=function(){this._3925();return this._9943};m.set_NotReadyThumbnailAppearance=function(a){this._3925();b.pv.c(a,n.WebThumbnailAppearanceJS);this._9943.equals(a)||(this._9943=a,E(3,this._9943,this))};m.get_SelectedThumbnailAppearance=
function(){this._3925();return this._11394};m.set_SelectedThumbnailAppearance=function(a){this._3925();b.pv.c(a,n.WebThumbnailAppearanceJS);this._11394.equals(a)||(this._11394=a,E(4,this._11394,this))};m.get_ImageCacheManager=function(){this._3925();var b=this._7907;return null==b?this._6515:b.get_ImageCacheManager()};m.set_ImageCacheManager=function(a){this._3925();null!=a&&b.pv.c(a,p.WebImageCacheManagerJS);null!=this._7907&&b.pv.te("Cannot change cache manager of slave viewer.");this._6515!==a&&
(this._6515=a,this._2454("_10397",a))};m.get_SyncCacheWithImages=function(){this._3925();var b=this._7907;return null!=b?b.get_SyncCacheWithImages():this._3222};m.set_SyncCacheWithImages=function(a){this._3925();b.pv.b(a);null!=this._7907&&b.pv.te("Can not change cache property of slave viewer.");this._3222=a};m.get_ControlId=function(){this._3925();return this._4824.id};m.get_Control=function(){return this._4824};m.get_ContextMenuFunc=function(){this._3925();return this._2440};m.set_ContextMenuFunc=
function(a){this._3925();null!=a&&b.pv.f(a);this._2440=a;if(null!=this._4022){var d=this;d._4022[0].oncontextmenu=function(b){k(b);b.stopPropagation();var a;null!=d._2440&&(a=d._2440(b));return null!=a?a:!1}}};m.get_IsDisposed=function(){return this._6421};m.get_DisplayThumbnailCaption=function(){this._3925();return this._8960};m.set_DisplayThumbnailCaption=function(a){this._3925();b.pv.b(a);this._8960!==a&&((this._8960=a)?this._448():this._7325.find("div.caption").remove())};m.get_ThumbnailCaptionFormat=
function(){this._3925();return this._4201};m.set_ThumbnailCaptionFormat=function(a){this._3925();b.pv.s(a);this._4201!==a&&(this._4201=a,this._8960&&this._10999(!0,!0))};m.get_ThumbnailCaptionAnchor=function(){this._3925();return this._1925};m.set_ThumbnailCaptionAnchor=function(a){this._3925();a=b.pv.e(a,n.WebImageAnchorTypeEnumJS);a.equals(this._1925)||(this._1925=a,this._8960&&this._10999(!1,!0))};m._1704=function(){var b=this._4022[0];return{y:b.scrollTop,x:b.scrollLeft}};m._10537=function(b,
a){var d=this._4022[0];d.scrollTop=a;d.scrollLeft=b};m.beginInit=function(){this._3925();this._1558++};m.endInit=function(){this._3925();this._1558--;0===this._1558?(this._9695&&this.update(),this._9695=!1):0>this._1558&&(this._1558=0)};m.scrollTo=function(a){b.pv.n(a);var d=this.get_Images();if(!(0>a||a>d.get_Count())){var e=!1;try{var f=d.get_Image(a).get_Guid(),h=$("#"+f).parent(),k=$(h).position(),l=this._4022[0],m=this._4451(),n=k.top+this._9622,p=n+m.height,q=l.scrollTop,r=q+l.clientHeight;
a=0;if(p<=r&&n>=q)a=q;else{if(p>r||n>r)a=p-r+q+2*this._2695+this._9622+this._9292;n<q&&(a=n-this._2695+this._9622)}var s=l.scrollLeft,t=s+l.clientWidth,u=k.left+this._1091,v=u+m.width,k=0;if(v<=t&&u>=s)k=s;else{if(v>t||u>t)k=v-t+s+2*this._2695+this._1091+this._10600;u<s&&(k=u-this._2695+this._1091)}l.scrollTop=a;l.scrollLeft=k}catch(x){e=!0}this._7816||e||K(this)}};m.update=function(){var b=this.get_Images().get_Count();if(0<b){if(0===this._1558&&this._9695){var a=this._7983.width!==this._445||this._7983.height!==
this._5496,d=!this._6512.equals(this._8554),e=this._11230!==this._2695,f=this._6734[0]!==this._9622||this._6734[1]!==this._10600||this._6734[2]!==this._9292||this._6734[3]!==this._1091,h=this._8683!==this._1814,k=!1;if(a||d)var d=this._8554.valueOf()/100,k=this._7983.height*d,l=this._6512.valueOf()/100,m=this._5496*l,k=this._7983.width*d!==this._445*l||k!==m;d=this._4451();aa(this);l=this._4451();d=d.width!==l.width||d.height!==l.height;P(this,b);b=this._7325.children("div");l=$(b).children("div");
m=this._2695;e&&b.css({"margin-left":m,"margin-top":m});if(d||k||f||h)if(e=this._4451(),d&&this._1495(b,l,e.width,e.height),l=$(l).children("img:nth-child(1)"),0!==l.length&&(f&&this._9002(l,this._9622,this._10600,this._9292,this._1091),k&&(f=this._6512.valueOf()/100,this._6305(l,this._445*f,this._5496*f)),0!==this._1814?this._8500(l):h&&this._7004(l)),d)for(h=$(b).children("canvas"),f=0;f<h.length;f++)h[f].width=e.width,h[f].height=e.height;h=0;a?h=1:d&&(h=2);this._4245=h;d&&(h=this._7325.find(".border").children("img:nth-child(2)"),
0!=h.length&&(f=this._4451(),d=$(h[0]).width(),e=$(h[0]).height(),d=(f.width-d)/2,h.css("top",(f.height-e)/2),h.css("left",d)),this._10999(!1,!0));if(a)for(a=0;a<this.get_Images().get_Count();a++)1===this._8752[a]&&(this._8752[a]=2);this._9695=!1}a=this._4022[0];0!==a.clientHeight&&0!==a.clientWidth&&ba(this);S(this);this._2454("_6313");this._7816||K(this)}else 0===this._1558&&(aa(this),this._9695=!1,this._2454("_6313"))};m.invalidate=function(b){this._3925();var a=this._606;b=a.getContext("2d");
var d=a.width,a=a.height;b.clearRect(0,0,d,a);this._2777&&this._2777._6160(this._10184(),{width:d,height:a})};m.focus=function(){this._3925();$(this._4824).focus()};m.dispose=function(){this._3925();clearInterval(this._8565);this._9522=this._11053=null;this._8752=[];this._547=-1;this._2406=[];this._7816=!1;this._6515=this._816=this._2777=null;var b="."+this._2936,a=this._4893;$(a.evm).off(b);for(var d=0;d<a.get_Count();d++){var e=a.get_Image(d);$(e.evm).off(b)}if(null!=this._7907){$(this._7907._6466).off(b);
a=this.get_Images();for(d=0;d<a.get_Count();d++)e=a.get_Image(d),$(e.evm).off(b);this._7907=null}this._2280();$("head #"+(this._2936+"_ThumbnailStyleSheet")).remove();$(this._4824).empty();this._606=this._7325=this._4022=this._4824=null;this._2454("disposed");this._6421=!0;$(this).off();$(this._6466).off()};m._5179=function(){var b=this._4022[0];return{width:b.scrollWidth,height:b.scrollHeight}};m._5257=function(){return this._5179()};m._6731=function(){try{null==this._2777&&(this._2777=new ob._5366,
this._4022.find("img").css("z-index",2),this._2777._4610(this),0!=this._2406.length&&this.set_SelectedIndices(this._2406))}catch(b){}};m._7616=function(b){function a(){s._2454("thumbnailRendered",{thumbnailId:h,thumbnailIndex:k});s._2454("thumbnailPainted",k)}function e(){if(10>t)setTimeout(function(){p.src=q},250),t++;else{if(null!=r){var b=r._10109(s._445,s._5496,f);r._10477(h,b)}s._8752[k]=2;K(s)}}if(!this._1255){var f=b.image,h=f.get_Guid(),k=this.get_Images().indexOf(f);if(-1!==k&&d(this,k,b))if(1===
this._8752[k])K(this);else{var l=$(this._4824).find("#"+h)[0],m=$(l).children("img"),n=m[1];null!=n&&$(n).remove();var p=m[0];null==p&&(p=fa(this,l,k));var q=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(q)||(q+="?"+b.image.gi());var r=this.get_ImageCacheManager(),s=this,t=0;p.onload=a;p.onerror=e;p.src=q;this._8960&&0===$(l).find(".caption").length&&this._7505(l,k);null!=r&&(l=r._10109(this._445,this._5496,b.image),r.containsImageData(f,l)||r.addImageData(f,l,b.fileId));this._547==k?this._11141(k,
"focused"):this._11141(k,"normal");C(this,k)&&this._11141(k,"selected");this._8752[k]=1}}};m._1733=function(a){var d=this._2777;if(null!=d&&d._3461){var e=a;"mousedown"!=a.type&&(a="touchstart"==a.type?a.originalEvent.touches[0]:a.originalEvent,a.sourceEvent=e);e=l(this,a);e.t="mouseDown";var f=this._4022,h=a,m=this._4022;0===this._2382&&(this._2382=b.WebImagingEnviromentJS.get_ScrollSize(this._4824));var n=N(this,"y"),p=N(this,"x"),q=h.pageX,h=h.pageY,r=m.offset(),s,t,u,v;t=s=!1;n&&(n=r.top,u=r.left+
m.width(),v=n+m.height(),t=u-this._2382,t=h>=n&&h<=v&&q>=t&&q<u);p&&(p=r.top+m.height(),r=r.left,s=p-this._2382,m=r+m.width(),s=h>=s&&h<=p&&q>=r&&q<m);s||t?f.css("touch-action","pan-x pan-y"):(k(a),f.css("touch-action","none"),Z(this,this._5179()),$(this._606).css("display","block"),this._10484(),d._1733(e));this.focus()}};m._9698=function(b){k(b);var a=this._2777;if(null!=a&&a._3461){if("mousemove"!=b.type){var d=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=d}b=
l(this,b,!1);b.t="mouseMove";a._9698(b)}};m._9629=function(b){var a=this._2777;if(null!=a&&a._3461){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=l(this,b);b.t="mouseUp";a._9629(b);$(this._606).css("display","none");this._2280()}};m._11042=function(b){k(b)};m._10184=function(b){b=this._1704();var a=new p.WebMatrixJS;a.translate(-b.x,-b.y);return a};m._7226=function(b){return this._10184(b).invert()};m._3925=function(){this._6421&&
b.pv.te("Viewer is disposed.")};m._2454=function(b,a){$(this._6466).triggerHandler(b,a);$(this).triggerHandler(b,a)};m._2983=function(){var b=this._7907;t({data:{v:this}},b);null!=b&&$(b._6466).off("."+this._2936)};m._9549=function(){var b=this._7907,a={v:this};if(null!=b){var d="."+this._2936,e=b._6466;$(e).on("_3979"+d,a,s);$(e).on("_7059"+d,a,F);$(e).on("_4337"+d,a,z);$(e).on("focusedIndexChanged"+d,a,D);$(e).on("imageRotated"+d,a,r);$(e).on("_10397"+d,a,v);$(e).on("_4158"+d,a,t);$(e).on("_1054"+
d,a,q);$(e).on("disposed"+d,a,u)}q({data:a},b)};m._2385=function(b){switch(b.actionName){case "clear":this._386();break;case "set":this._3982(b.imageIndex,b.image,b.previousImage);break;case "removeAt":case "removeRange":var a=[],d=[];"removeRange"===b.actionName?(a=b.imagesIndexes,d=b.images):(a.push(b.imageIndex),d.push(b.image));this._6237(a,d);this._10999(!0,!1,a[0]);break;case "insert":case "insertRange":a=b.imageIndex,d=[],"insert"===b.actionName?d.push(b.image):d=b.images,this._8130(a,d),this._10999(!0,
!1,a+d.length)}};m._386=function(){this._547=-1;this._7325.children().remove();this._8752=[];this._2406=[];P(this,0)};m._3982=function(b,a,d){var e=d.get_Guid(),e=$("#"+e);a!==d&&e.attr("id",a.get_Guid());e.find(".caption").remove();1===this._8752[b]&&(this._8752[b]=2)};m._6237=function(b,a){for(var d=0;d<a.length;d++){var e=a[d].get_Guid();$("#"+e).parent().remove()}for(d=b.length-1;0<=d;d--)this._8752.splice(b[d],1);for(d=0;d<this._2406.length;){for(var f=!1,e=0;e<b.length;e++)if(this._2406[d]===
b[e]){this._2406.splice(d,1);f=!0;break}f||d++}for(var f=!1,h=0,k=[],d=0;d<this._2406.length;d++)k.push(0);for(d=0;d<b.length;d++){for(e=0;e<this._2406.length;e++)this._2406[e]>b[d]&&(k[e]+=1);this._547>b[d]?h++:this._547===b[d]&&(f=!0)}for(d=0;d<this._2406.length;d++)this._2406[d]-=k[d];this._547-=h;f&&(0===this.get_Images().get_Count()?this._547=-1:(this._547==this.get_Images().get_Count()&&this._547--,this._11141(this._547,"focused"),-1!=this._2406.indexOf(this._547)&&this._11141(this._547,"selected")));
P(this,this.get_Images().get_Count())};m._8130=function(b,a){for(var d=this._4451(),e=d.width,f=d.height,d=[],h=0;h<a.length;h++){var k=a[h].get_Guid();d.push(L(this._2695,e,f,k))}h=this.get_Images();e=h.get_Count();if(e==a.length)for(h=0;h<d.length;h++)$(d[h].main).appendTo(this._7325);else for(b<e-a.length?(h=h.get_Image(b+a.length).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertBefore(h)):(h=h.get_Image(b-1).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertAfter(h)),h=1;h<d.length;h++)$(d[h].main).insertAfter(d[h-
1].main);for(h=0;h<d.length;h++)this._8752.splice(b+h,0,0);this._547>=b&&(this._547+=a.length);for(h=0;h<this._2406.length;h++)this._2406[h]>=b&&(this._2406[h]+=a.length);-1==this._547&&0===b&&(this._547=b,this._11141(b,"focused"));P(this,e);S(this);e!==a.length&&this.scrollTo(this._547)};m._11141=function(b,a){var d=this.get_Images();0<=b&&b<d.get_Count()&&(d=d.get_Image(b).get_Guid(),d=$(this._4824).find("#"+d),0!=d.length&&(d=d[0],"selected"!==a?($(d).removeClass(),$(d).addClass("border "+a)):
($(d).addClass("border"),b===this._547&&$(d).addClass("focused"),$(d).addClass(a))))};m._2734=function(){var b=this._1814,a=this._445*this._6512.valueOf()/100,d=this._5496*this._6512.valueOf()/100,e=0,f=0;switch(b){case 90:e=d;break;case 180:e=a;f=d;break;case 270:f=a}b="translate("+e+"px,"+f+"px) rotate("+b+"deg)";return{transform:b,"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,"-ms-transform":b,"transform-origin":"0px 0px","-moz-transform-origin":"0px 0px","-webkit-transform-origin":"0px 0px",
"-o-transform-origin":"0px 0px","-ms-transform-origin":"0px 0px"}};m._9975=function(){return{transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"","transform-origin":"","-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};m._8835=function(){var b=this,a=b._2936;$(b._4824).on(I(a),function(a){b._1733(a)})};m._7751=function(){var b=this._2936;$(this._4824).off(I(b))};m._10484=function(){var b=this,a=b._2936;
$(document).on(V(a),function(a){b._9698(a)});$(document).on(Y(a),function(a){b._9629(a)})};m._2280=function(){var b=this._2936;$(document).off(V(b));$(document).off(Y(b))};m._1495=function(b,a,d,e){d={width:d,height:e};b.css(d);a.css(d)};m._9002=function(b,a,d,e,f){b.css({"margin-top":a,"margin-right":d,"margin-bottom":e,"margin-left":f})};m._6305=function(b,a,d){b.css({width:a,height:d})};m._8500=function(b){var a=this._2734();b.css(a);return a};m._7004=function(b){var a=this._9975();b.css(a);return a};
m._448=function(){for(var b=this._7325.find("div.border"),a=0;a<this._8752.length;a++)if(1===this._8752[a]){var d=$(b[a]);this._7505(d,a)}};m._7505=function(b,a){if(this._8960){var d=$("<div>").appendTo(b);d.addClass("caption");if(null==this._883){var e=d.css("top"),f=d.css("left"),h=d.css("right"),k=d.css("bottom");this._883="auto"!==e||"auto"!==f||"auto"!==h||"auto"!==k}d.css({position:"absolute","user-select":"none",cursor:"inherit","pointer-events":"none"});this._4480(d,a,!0,!0)}};m._10999=function(b,
a,d,e){if(this._8960){null==d&&(d=0);var f=this._8752.length;null!=e&&(f=d+e,f>this._8752.length&&(f=this._8752.length));for(e=this._7325.find("div.border");d<f;d++)if(0!==this._8752[d]){var h=$(e[d]).find(".caption");0!==h.length&&this._4480(h,d,b,a)}}};m._4480=function(b,a,d,e){d?(this._3521(b,a),this._7257(b)):e&&this._7257(b)};m._3521=function(b,a){var d=this._4201;if(""!==d){var e=this.get_Images().get_Image(a),f=e.get_PageIndex(),h=e.get_ImageId(),k=e.get_Size(),e=e.get_Resolution(),d=O(d,"{FileId}",
h),d=O(d,"{PageNumber}",f+1),d=O(d,"{PageIndex}",f),d=O(d,"{ImageNumber}",a+1),d=O(d,"{ImageIndex}",a);null!=k&&(f=k.width,k=k.height,h=f*k/1E6,d=O(d,"{ImageWidthPx}",f),d=O(d,"{ImageHeightPx}",k),d=O(d,"{ImageSizeMpx}",h));null!=e&&(d=O(d,"{ImageHRes}",e.x),d=O(d,"{ImageVRes}",e.y))}b.text(d)};m._7257=function(b){if(!this._883){var a="",d="",e="",f="";b.css({top:a,left:d,right:e,bottom:f});var h=this._1925.valueOf(),k=b.width(),l=b.height(),m=this._4451(),l=(m.height-l)/2,k=(m.width-k)/2,m="center";
switch(h){case 15:a=l;d=k;break;case 1:case 13:a=0;d=k;break;case 2:case 14:d=k;f=0;break;case 4:case 7:m="left";a=l;d=0;break;case 5:m="left";d=a=0;break;case 6:m="left";f=d=0;break;case 8:case 11:m="right";a=l;e=0;break;case 9:m="right";e=a=0;break;case 10:m="right",f=e=0}b.css({top:a,left:d,right:e,bottom:f,"text-align":m})}};m._4451=function(){var b=this._445*this._6512.valueOf()/100,a=this._5496*this._6512.valueOf()/100;if(90===this._1814||270===this._1814)var d=b,b=a,a=d;b+=this._10600+this._1091;
a+=this._9622+this._9292;return{width:b,height:a}};var A;b.pv.iss(a)?A=document.getElementById(a):(b.pv.ic(a,$)&&(a=a[0]),null!=a.tagName&&(A=a));null==A&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==A.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");A.style.setProperty("position","relative","important");this._4824=A;this._2936=b.WebImagingEnviromentJS.guid();this._2382=b.WebImagingEnviromentJS.get_ScrollSize(A);this._9522=this._11053=null;this._8752=
[];this._1558=0;this._9695=!1;this._4245=0;this._2777=null;this._789=!1;this._7455="WebThumbnailViewer";this._816=this._7907=null;this._4893=new b.WebImageCollectionJS;this._5496=this._445=100;this._9478=new n.WebThumbnailFlowStyleEnumJS(1);this._3485=2;this._6512=new n.WebThumbnailScaleEnumJS(100);this._547=-1;this._7610=!0;this._1809=!1;this._2695=20;this._1091=this._9292=this._10600=this._9622=5;this._2406=[];this._6373=!0;this._606=null;this._7816=!1;this._1814=0;this._7214=!0;this._10243=new b.WebImageTypeEnumJS(1);
this._8565=null;this._5940=500;this._6515=null;this._3222=!0;this.set_ImageCacheManager(new p.WebImageCacheManagerJS);this._6466={};this._7325=this._4022=null;this._6421=!1;this._7983={width:this._445,height:this._5496};this._3810=this._9478;this._1311=this._3485;this._8554=this._6512;this._6734=[this._9622,this._10600,this._9292,this._1091];this._11230=this._2695;this._8683=this._1814;this._7433=new n.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._6002=new n.WebThumbnailAppearanceJS("white",
"1px dotted gray");this._2302=new n.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._9943=new n.WebThumbnailAppearanceJS("black","0px solid black");this._11394=new n.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");this._2440=null;this._8960=!0;this._4201="{ImageNumber}";this._1925=new n.WebImageAnchorTypeEnumJS(2);this._883=null;(function(b){var a=document.createElement("style"),d=b._2936;a.type="text/css";a.id=d+"_ThumbnailStyleSheet";var d=b._7433._6876(),e=b._6002._6876(),
f=b._2302._6876(),h=b._9943._6876(),k=b._11394._6876();b=b.get_ControlId();var l="";""!==b&&(l="#"+b);a.innerHTML+=l+" .border.normal{"+d+"}";a.innerHTML+=l+" .border.focused{"+e+"}";a.innerHTML+=l+" .border.hovered{"+f+"}";a.innerHTML+=l+" .border.notReady{"+h+"}";a.innerHTML+=l+" .border.selected{"+k+"}";document.getElementsByTagName("head")[0].appendChild(a)})(this);a={v:this};$(this._6466).on("_1623",a,function(b){b=b.data.v;b._789?b._789=!1:(G(b),b._2406=[])});A="."+this._2936;$(this._4893.evm).on("changing"+
A,a,s);$(this._4893.evm).on("changed"+A,a,F);(function(b){var a=b._4824;b._8835();var d=$("<div>");$(a).prepend(d);b._4022=d;d.css({width:"100%",height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});var e=$("<div>").appendTo(d);e.css("position","absolute");b._7325=e;if(b._7610)$(d).on("scroll",{v:b},ca);Z(b,b._5179());S(b);b._6731();b._27={width:a.clientWidth,height:a.clientHeight};b._8565=setInterval(W,b._5940,b)})(this);this.set_ContextMenuFunc();delete m.focusedIndexChanged;
delete m.imageRotating;delete m.imageRotated;delete m.thumbnailRendered;delete m.thumbnailPainting;delete m.thumbnailPainted;delete m.visibleThumbnailsPainted;delete m.imageRenderingException;delete m.scrollChanged;delete m.thumbnailClick;delete m.thumbnailMouseover;delete m.thumbnailContextMenu;delete m.thumbnailMousedown;delete m.thumbnailMouseout;delete m._3979;delete m._7059;delete m._4337;delete m._4158;delete m._1054;delete m._6313;delete m._10397;delete m.disposed};e.WebThumbnailViewerJS=h})(v.UI);
(function(e){b.WebServiceJS.defaultImageProcessingService=-1;var d=function(){var a=d.prototype;a._3746=function(b,a){};a._7856=function(b,a){};a.get_Type=function(){return this._7455};a.set_Type=function(a){a=b.pv.e(a,n.WebColorBaseJSTypeEnumJS);if(a.valueOf()!==this._7455.valueOf()){$(this._1760).triggerHandler("_3746",{oldValue:this._7455,newValue:a});var d=this._7455;this._7455=a;switch(a.valueOf()){case 0:this._533=0;this._2660=this._5587=this._7440=this._4999=this._10517=null;break;case 1:this._10517=
0;this._2660=this._5587=this._7440=this._4999=this._533=null;break;case 2:case 3:case 4:case 6:this._5587=this._7440=this._4999=0;this._2660=this._533=this._10517=null;break;case 5:case 7:this._2660=this._5587=this._7440=this._4999=0,this._533=this._10517=null}$(this._1760).triggerHandler("_7856",{oldValue:d,newValue:a})}};a.get_Index=function(){return this._533};a.set_Index=function(a){0===this._7455.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),255<a&&(a=255),this._533=a)};a.get_Luminance=function(){return this._10517};
a.set_Luminance=function(a){1===this._7455.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),65535<a&&(a=65535),this._10517=a)};a.get_Red=function(){return this._4999};a.set_Red=function(b){this._4999=this._1748(b)};a.get_Green=function(){return this._7440};a.set_Green=function(b){this._7440=this._1748(b)};a.get_Blue=function(){return this._5587};a.set_Blue=function(b){this._5587=this._1748(b)};a.get_Alpha=function(){return this._2660};a.set_Alpha=function(a){var d=this._7455.valueOf();if(5===d||7===
d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 5:255<a&&(a=255);break;case 7:65535<a&&(a=65535)}this._2660=a}};a.toString=function(){var b=this._7455,a=b.toString();switch(b.valueOf()){case 0:a+="("+this._533+")";break;case 1:a+="("+this._10517+")";break;case 2:case 3:case 4:case 6:a+="("+this._4999+","+this._7440+","+this._5587+")";break;case 5:case 7:a+="("+this._4999+","+this._7440+","+this._5587+","+this._2660+")"}return a};a.clone=function(){var b=new d;b._7455=this._7455;b._533=this._533;
b._10517=this._10517;b._4999=this._4999;b._7440=this._7440;b._5587=this._5587;b._2660=this._2660;return b};a.getParams=function(){var b={type:this._7455.toString()},a=this._10517;null!=a&&(b.luminance=a);a=this._533;null!=a&&(b.index=a);a=this._4999;null!=a&&(b.red=a);a=this._7440;null!=a&&(b.green=a);a=this._5587;null!=a&&(b.blue=a);a=this._2660;null!=a&&(b.alpha=a);return b};a._1748=function(a){var d=this._7455.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<
a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}return a}};this._7455=new n.WebColorBaseJSTypeEnumJS(4);this._10517=this._533=null;this._5587=this._7440=this._4999=0;this._2660=null;this._1760={};delete a._3746;delete a._7856},a=function(e,f,Pa,h){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=a.prototype;k.get_Radius=function(){return this._5924};k.set_Radius=function(a){b.pv.n(a);0>a&&(a=0);this._5924=a};k.get_Center=
function(){return this._8892};k.set_Center=function(a){b.pv.c(a,d);var e=a._7455.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._8892._1760).off();this._8892=a;$(a._1760).on("_3746",g)};k.toString=function(){return"Center="+this._8892.toString()+"; Radius="+this._5924};k.clone=function(){var b=new a;b.set_Center(this._8892.clone());b._5924=this._5924;return b};k.getParams=function(){return{center:this._8892.getParams(),radius:this._5924}};k=new d;k.set_Type(4);null!=e&&null!=f&&
null!=Pa&&(k.set_Red(e),k.set_Green(f),k.set_Blue(Pa));this._8892=k;try{this.set_Radius(h)}catch(l){this._5924=0}$(this._8892._1760).on("_3746",g)},h=function(a,e,Pa,f){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=h.superclass;k.constructor.call(this,a,e,Pa,f);a=h.prototype;a.get_InterpolationRadius=function(){return this._2038};a.set_InterpolationRadius=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._2038=a};a.get_NewColor=function(){return this._6164};
a.set_NewColor=function(a){b.pv.c(a,d);var e=a._7455.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._6164._1760).off();this._6164=a;$(a._1760).on("_3746",g)};a.toString=function(){return k.toString.call(this)+"; NewColor="+this._6164.toString()+"; InterpolationRadius="+this._2038};a.clone=function(){var b=new h;b.set_Center(this._8892.clone());b._5924=this._5924;b.set_NewColor(this._6164.clone());b._2038=this._2038;return b};a.getParams=function(){var b=k.getParams.call(this);b.newColor=
this._6164.getParams();b.interpolationRadius=this._2038;return b};a=new d;a.set_Type(4);this._6164=a;$(this._6164._1760).on("_3746",g);this._2038=.5};b.extend(h,a);var f=function(a,d,e,h,g){var k=f.prototype;k.get_Gamma=function(){return this._gamma};k.set_Gamma=function(a){b.pv.n(a);0>a&&(a=0);this._gamma=a};k.get_InputMax=function(){return this._inputMax};k.set_InputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMax=a};k.get_InputMin=function(){return this._inputMin};
k.set_InputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMin=a};k.get_OutputMax=function(){return this._outputMax};k.set_OutputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMax=a};k.get_OutputMin=function(){return this._outputMin};k.set_OutputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMin=a};k.getParams=function(){return{gamma:this._gamma,inputMax:this._inputMax,inputMin:this._inputMin,outputMax:this._outputMax,
outputMin:this._outputMin}};null==a&&(a=1);this.set_Gamma(a);null==d&&(d=255);this.set_InputMax(d);null==e&&(e=0);this.set_InputMin(e);null==h&&(h=255);this.set_OutputMax(h);null==g&&(g=0);this.set_OutputMin(g)},v=function(){function a(d,e){var f=d;b.pv.ic(f,b.WebEnumItemBase)&&(f=f.valueOf());if(-1===e.indexOf(f))switch(e.push(f),f){case 4:a(2,e);a(1,e);break;case 8:a(2,e);a(1,e);a(4,e);a(9,e);break;case 9:a(2,e);a(1,e);a(4,e);a(8,e);break;case 16:a(9,e);break;case 24:a(8,e);a(9,e);a(14,e);a(15,
e);a(32,e);break;case 32:a(24,e);break;case 33:a(8,e);a(24,e);break;case 48:a(16,e);a(24,e);break;case 64:a(33,e),a(48,e)}}this._1939=[];this._2434=this._1484=this._9393=!1;var d=v.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CanModifyImage=function(){return this._9393};d.get_SupportedNativePixelFormats=function(){return this._1939.slice()};d.get_SupportedPixelFormats=function(){var b=this.get_SupportedNativePixelFormats();return this._1484?b.length===b[0].getAllAvailableNames().length?
b:this._1561(b):b};d.get_ExpandSupportedPixelFormats=function(){return this._1484};d.set_ExpandSupportedPixelFormats=function(a){b.pv.b(a);this._1484=a};d.get_RestoreSourcePixelFormat=function(){return this._2434};d.set_RestoreSourcePixelFormat=function(a){b.pv.b(a);!this._9393&&a&&b.pv.te("Command does not support this property because command cannot modify image.");this._2434=a};d.getParams=function(){return{}};d.checkCommandParams=function(b){return!0};d.execute=function(a,d,e,f){b.pv.c(a,b.WebImageJS);
b.pv.ic(d,b.WebServiceJS)?(f=d,e=d=null):b.pv.ic(e,b.WebServiceJS)&&(f=e,e=null);null!=d&&b.pv.f(d,"Success callback must be defined as function.");null!=e&&b.pv.f(e,"Error callback must be defined as function.");null==f&&(f=this._11297());b.pv.c(f,b.WebServiceJS,"Image Processing service is not an instance of WebServiceJS class.");this._9829(a);return this.checkCommandParams(a)?(this._7828(a,d,e,f),!0):!1};d._6711=function(b){this._1939=this._10611(b)};d._7828=function(a,d,e,f){var h=this,g=h.getParams();
g.expandSupportedPixelFormats=h._1484;g.restoreSourcePixelFormat=h._2434;g.imageInfo=a.cto();var k=a.csto(),Ka;for(Ka in k)g[Ka]=k[Ka];g={data:g};g=new b.WebRequestJS(h.get_ActionName(),function(b,e,f){h._5618(a,b);d&&d(b,e,f)},function(b,d,f){h._5618(a,b);e&&e(b,d,f)},g);return f.sendRequest(g)};d._11297=function(){return b.WebServiceJS.defaultImageProcessingService};d._5618=function(b,a){a.sourceImage=b};d._1561=function(b){for(var d=[],e=0;e<b.length;e++)a(b[e],d);return this._10611(d)};d._10611=
function(a){a.sort(p._4868._9123);for(var d=[],e=0;e<a.length;e++)d.push(new b.WebPixelFormatEnumJS(a[e]));return d};d._9829=function(a){var d=a.get_PixelFormat();if(null!=d){a=this.get_SupportedPixelFormats();for(var e=!1,f=0;f<a.length;f++)if(d.equals(a[f])){e=!0;break}if(!e){e="Please convert the image to supported pixel format first.";if(!this._1484){for(var h=this._1561(a),g=!1,f=0;f<h.length;f++)if(d.equals(h[f])){g=!0;break}g&&(e="Please enable automatic convertation using the 'set_ExpandSupportedPixelFormats' property  or convert an image to the supported pixel format manually.")}d=
this.get_ActionName()+": unsupported pixel format - "+d.toString()+". With current settings the processing command supports only the following pixel formats:";for(f=0;f<a.length;f++)d+=" "+a[f].toString();b.pv.te(d+(".\n"+e))}}}},l=function(){var a=l.superclass;a.constructor.call(this);var d=l.prototype;this._9393=this._9574=!0;d.get_ChangeSource=function(){return this._9574};d.set_ChangeSource=function(a){b.pv.b(a);this._9574=a};d.getParams=function(){return{changeSource:this._9574}};d.execute=function(b,
d,e,f){return a.execute.call(this,b,d,e,f)};d._5618=function(d,e){a._5618.call(this,d,e);if(!0===e.success){var f=e.imageInfo.fileInfo.id,h=e.imageInfo.pageIndex,g=d.get_PageIndex(),k=d.get_ImageId();if(f===k&&h===g)e.processedImage=d,d.ci("dc");else{var g=d.get_Source(),Ka,l;try{Ka=g.get_ImageService(),l=g.get_AnnotationService()}catch(m){}f=new b.WebImageSourceJS(f,Ka,l);h=new b.WebImageJS(f,h);e.processedImage=h}}}};b.extend(l,v);var t=function(){t.superclass.constructor.call(this);var a=t.prototype;
this._109=p._4868._3842();a.get_Region=function(){return b.cloneObject(this._109)};a.set_Region=function(a,d,e,f){a=null==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._109=a};a.getParams=function(){return{region:this._109}};a.checkCommandParams=function(b){b=b.get_Size();return null==b?!0:this._109.x<=
b.width&&this._109.y<=b.height}};b.extend(t,v);var q=function(){var a=q.superclass;a.constructor.call(this);var d=q.prototype;this._109=p._4868._3842();d.get_Region=function(){return b.cloneObject(this._109)};d.set_Region=function(a,d,e,f){a=null==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._109=a};
d.getParams=function(){var b=a.getParams.call(this);b.region=this._109;return b};d.checkCommandParams=function(b){b=b.get_Size();return null==b?!0:this._109.x<=b.width&&this._109.y<=b.height}};b.extend(q,l);var u=function(){var a=u.superclass;a.constructor.call(this);this._2482=new n.WebBinarizationModeEnumJS(0);this._6915=0;this._8542=1;this._8951=-115;this._10053=0;this._11=384;this._4342=15;this._9620=new n.WebLuminanceComputationModeEnumJS(1);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=u.prototype;
d.get_ActionName=function(){return"Binarize"};d.get_BinarizationMode=function(){return this._2482};d.set_BinarizationMode=function(a){this._2482=b.pv.e(a,n.WebBinarizationModeEnumJS)};d.get_ConvertToBlackLevel=function(){return this._6915};d.set_ConvertToBlackLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._6915=a};d.get_ConvertToWhiteLevel=function(){return this._8542};d.set_ConvertToWhiteLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._8542=a};d.get_MaxLevelDifference=function(){return this._8951};
d.set_MaxLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._8951=a};d.get_MinLevelDifference=function(){return this._10053};d.set_MinLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._10053=a};d.get_Threshold=function(){return this._11};d.set_Threshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);765<a&&(a=765);this._11=a};d.get_WindowRadius=function(){return this._4342};d.set_WindowRadius=function(a){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);256<a&&(a=256);this._4342=a};d.get_LuminanceComputationMode=function(){return this._9620};d.set_LuminanceComputationMode=function(a){this._9620=b.pv.e(a,n.WebLuminanceComputationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.binarizationMode=this._2482.valueOf();b.convertToBlackLevel=this._6915;b.convertToWhiteLevel=this._8542;b.maxLevelDifference=this._8951;b.minLevelDifference=this._10053;b.threshold=this._11;b.windowRadius=this._4342;b.luminanceComputationMode=this._9620.valueOf();
return b}};b.extend(u,l);var E=function(){var a=E.superclass;a.constructor.call(this);this._1429=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=E.prototype;d.get_ActionName=function(){return"ChangeBrightness"};d.get_Brightness=function(){return this._1429};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._1429=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._1429;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,
b)&&0!==this._1429}};b.extend(E,q);var N=function(){var a=N.superclass;a.constructor.call(this);this._5910=this._1429=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=N.prototype;d.get_ActionName=function(){return"ChangeBrightnessContrast"};d.get_Brightness=function(){return this._1429};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._1429=a};d.get_Contrast=function(){return this._5910};d.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);
100<a&&(a=100);this._5910=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._1429;b.contrast=this._5910;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._1429||0!==this._5910)}};b.extend(N,q);var s=function(){var a=s.superclass;a.constructor.call(this);this._5910=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=s.prototype;d.get_ActionName=function(){return"ChangeContrast"};d.get_Contrast=function(){return this._5910};d.set_Contrast=
function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5910=a};d.getParams=function(){var b=a.getParams.call(this);b.contrast=this._5910;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._5910}};b.extend(s,q);var x=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=x.superclass;d.constructor.call(this);this._8660=this._6930=this._7567=1;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=x.prototype;
e.get_ActionName=function(){return"ChangeGamma"};e.get_RedGamma=function(){return this._7567};e.set_RedGamma=function(b){a(b);this._7567=b};e.get_GreenGamma=function(){return this._6930};e.set_GreenGamma=function(b){a(b);this._6930=b};e.get_BlueGamma=function(){return this._8660};e.set_BlueGamma=function(b){a(b);this._8660=b};e.get_Gamma=function(){return(this._7567+this._6930+this._8660)/3};e.set_Gamma=function(b){a(b);this._8660=this._6930=this._7567=b};e.getParams=function(){var b=d.getParams.call(this);
b.redGamma=this._7567;b.greenGamma=this._6930;b.blueGamma=this._8660;return b};e.checkCommandParams=function(b){return d.checkCommandParams.call(this,b)&&(1!==this._7567||1!==this._6930||1!==this._8660)}};b.extend(x,q);var B=function(){var a=B.superclass;a.constructor.call(this);this._10517=this._3170=this._10934=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=B.prototype;d.get_ActionName=function(){return"ChangeHSL"};d.get_Hue=function(){return this._10934};d.set_Hue=function(a){a=parseInt(a);
b.pv.n(a);-180>a&&(a=-180);180<a&&(a=180);this._10934=a};d.get_Saturation=function(){return this._3170};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._3170=a};d.get_Luminance=function(){return this._10517};d.set_Luminance=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._10517=a};d.getParams=function(){var b=a.getParams.call(this);b.hue=this._10934;b.saturation=this._3170;b.luminance=this._10517;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,
b)&&(0!==this._10934||0!==this._3170||0!==this._10517)}};b.extend(B,q);var z=function(){var a=z.superclass;a.constructor.call(this);this._10523="rgba(0,0,0,1)";this._2826=new n.WebBlendingModeEnumJS(1);this._6711([1,2,4,8,9,24,32,33]);var d=z.prototype;d.get_ActionName=function(){return"ColorBlend"};d.get_BlendColor=function(){return this._10523};d.set_BlendColor=function(a){b.pv.s(a);this._10523=a};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(a){this._2826=b.pv.e(a,
n.WebBlendingModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.blendColor=this._10523;b.blendingMode=this._2826.valueOf();return b}};b.extend(z,q);var F=function(){function a(d,e){7!==e.newValue.valueOf()&&b.pv.te("Unsupported color type.")}var e=F.superclass;e.constructor.call(this);var f=new d;f.set_Type(7);f._4999=65535;f._7440=65535;f._5587=65535;f._2660=65535;$(f._1760).on("_3746",a);this._10523=f;this._2826=new n.WebBlendingModeEnumJS(1);this._6711([48,64]);f=F.prototype;f.get_ActionName=
function(){return"ColorBlend16"};f.get_BlendColor=function(){return this._10523};f.set_BlendColor=function(e){b.pv.c(e,d);7!==e._7455.valueOf()&&b.pv.te("Unsupported color type.");$(this._10523._1760).off();this._10523=e;$(e._1760).on("_3746",a)};f.get_BlendingMode=function(){return this._2826};f.set_BlendingMode=function(a){this._2826=b.pv.e(a,n.WebBlendingModeEnumJS)};f.getParams=function(){var b=e.getParams.call(this);b.blendColor=this._10523.getParams();b.blendingMode=this._2826.valueOf();return b}};
b.extend(F,q);var D=function(){var a=D.superclass;a.constructor.call(this);this._356=new n.WebDesaturateMethodEnumJS(2);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=D.prototype;d.get_ActionName=function(){return"Desaturate"};d.get_DesaturateMethod=function(){return this._356};d.set_DesaturateMethod=function(a){this._356=b.pv.e(a,n.WebDesaturateMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.desaturateMethod=this._356.valueOf();return b}};b.extend(D,q);var G=function(){G.superclass.constructor.call(this);
this._6711([8,33,64]);G.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};b.extend(G,q);var C=function(){C.superclass.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);C.prototype.get_ActionName=function(){return"Halftone"}};b.extend(C,l);var I=function(){I.superclass.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);I.prototype.get_ActionName=function(){return"Invert"}};b.extend(I,q);var V=function(){var a=V.superclass;a.constructor.call(this);this._5681=
new f;this._3067=new f;this._9883=new f;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=V.prototype;d.get_ActionName=function(){return"Levels"};d.get_RedChannelSettings=function(){return this._5681};d.set_RedChannelSettings=function(a){b.pv.c(a,f);this._5681=a};d.get_GreenChannelSettings=function(){return this._3067};d.set_GreenChannelSettings=function(a){b.pv.c(a,f);this._3067=a};d.get_BlueChannelSettings=function(){return this._9883};d.set_BlueChannelSettings=function(a){b.pv.c(a,f);this._9883=
a};d.getParams=function(){var b=a.getParams.call(this);b.redChannelSettings=this._5681.getParams();b.greenChannelSettings=this._3067.getParams();b.blueChannelSettings=this._9883.getParams();return b}};b.extend(V,q);var Y=function(){var a=Y.superclass;a.constructor.call(this);this._9468=6;this._6711([9,16,24,32,33,48,64]);var d=Y.prototype;d.get_ActionName=function(){return"Posterize"};d.get_ColorCount=function(){return this._9468};d.set_ColorCount=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);256<
a&&(a=256);this._9468=a};d.getParams=function(){var b=a.getParams.call(this);b.colorCount=this._9468;return b}};b.extend(Y,l);var L=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=L.superclass;d.constructor.call(this);this._2816=256;this._466=[];this._9417=[];this._3951=[];this._6711([2,1,4,8,9,24,32,33]);var e=L.prototype;e.get_ActionName=function(){return"RemapColors"};e.get_RedMap=function(){return this._466.slice()};e.set_RedMap=function(b){this._6480(b);
this._466=b.slice()};e.get_GreenMap=function(){return this._9417.slice()};e.set_GreenMap=function(b){this._6480(b);this._9417=b.slice()};e.get_BlueMap=function(){return this._3951.slice()};e.set_BlueMap=function(b){this._6480(b);this._3951=b.slice()};e.setGamma=function(b){a(b);b=this._8613(b);this._466=b.slice();this._9417=b.slice();this._3951=b.slice()};e.setRedGamma=function(b){a(b);this._466=this._8613(b)};e.setGreenGamma=function(b){a(b);this._9417=this._8613(b)};e.setBlueGamma=function(b){a(b);
this._3951=this._8613(b)};e.getParams=function(){var b=d.getParams.call(this);b.redMap=this._466;b.greenMap=this._9417;b.blueMap=this._3951;return b};e._8613=function(b){for(var a=[],d=this._2816-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};e._6480=function(a){var d=this._2816-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._2816&&b.pv.te("Color map must contain "+this._2816+" elements.")};this.setGamma(1)};b.extend(L,q);var W=
function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=W.superclass;d.constructor.call(this);this._2816=65536;this._466=[];this._9417=[];this._3951=[];this._6711([16,48,64]);var e=W.prototype;W.prototype.get_ActionName=function(){return"RemapColors16"};e.get_RedMap=function(){return this._466.slice()};e.set_RedMap=function(b){this._6480(b);this._466=b.slice()};e.get_GreenMap=function(){return this._9417.slice()};e.set_GreenMap=function(b){this._6480(b);this._9417=
b.slice()};e.get_BlueMap=function(){return this._3951.slice()};e.set_BlueMap=function(b){this._6480(b);this._3951=b.slice()};e.setGamma=function(b){a(b);b=this._8613(b);this._466=b.slice();this._9417=b.slice();this._3951=b.slice()};e.setRedGamma=function(b){a(b);this._466=this._8613(b)};e.setGreenGamma=function(b){a(b);this._9417=this._8613(b)};e.setBlueGamma=function(b){a(b);this._3951=this._8613(b)};e.getParams=function(){var b=d.getParams.call(this);b.redMap=this._466;b.greenMap=this._9417;b.blueMap=
this._3951;return b};e._8613=function(b){for(var a=[],d=this._2816-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};e._6480=function(a){var d=this._2816-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._2816&&b.pv.te("Color map must contain "+this._2816+" elements.")};this.setGamma(1)};b.extend(W,q);var Z=function(){Z.superclass.constructor.call(this);this._4441=new L;var b=Z.prototype;b.get_ActionName=function(){return"Curves"};
b.get_SupportedNativePixelFormats=function(){return this._4441.get_SupportedNativePixelFormats()};b.get_RedMap=function(){return this._4441.get_RedMap()};b.set_RedMap=function(b){this._4441.set_RedMap(b)};b.get_GreenMap=function(){return this._4441.get_GreenMap()};b.set_GreenMap=function(b){this._4441.set_GreenMap(b)};b.get_BlueMap=function(){return this._4441.get_BlueMap()};b.set_BlueMap=function(b){this._4441.set_BlueMap(b)};b.getParams=function(){this._4441._109=this._109;return this._4441.getParams()}};
b.extend(Z,q);var P=function(){P.superclass.constructor.call(this);this._4441=new W;var b=P.prototype;P.prototype.get_ActionName=function(){return"Curves16"};b.get_SupportedNativePixelFormats=function(){return this._4441.get_SupportedNativePixelFormats()};b.get_RedMap=function(){return this._4441.get_RedMap()};b.set_RedMap=function(b){this._4441.set_RedMap(b)};b.get_GreenMap=function(){return this._4441.get_GreenMap()};b.set_GreenMap=function(b){this._4441.set_GreenMap(b)};b.get_BlueMap=function(){return this._4441.get_BlueMap()};
b.set_BlueMap=function(b){this._4441.set_BlueMap(b)};b.getParams=function(){this._4441._109=this._109;return this._4441.getParams()}};b.extend(P,q);var R=function(){var a=R.superclass;a.constructor.call(this);this._10194=new n.WebColorSpaceTypeEnumJS(2);this._5020=0;this._9126="rgba(255,255,255,1)";this._6164="rgba(0,0,0,1)";this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=R.prototype;d.get_ActionName=function(){return"ReplaceColor"};d.get_ColorSpace=function(){return this._10194};d.set_ColorSpace=
function(a){a=b.pv.e(a,n.WebColorSpaceTypeEnumJS);var d=a.valueOf();2!==d&&5!==d&&b.pv.te("Supported values are sRGB and CIELab.");this._10194=a};d.get_MaximalColorDifference=function(){return this._5020};d.set_MaximalColorDifference=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._5020=a};d.get_NewColor=function(){return this._6164};d.set_NewColor=function(a){b.pv.s(a);this._6164=a};d.get_OldColor=function(){return this._9126};d.set_OldColor=function(a){b.pv.s(a);this._9126=a};d.getParams=function(){var b=
a.getParams.call(this);b.colorSpace=this._10194.valueOf();b.maximalColorDifference=this._5020;b.oldColor=this._9126;b.newColor=this._6164;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&this._9126!==this._6164}};b.extend(R,q);var S=function(){var a=S.superclass;a.constructor.call(this);this._1975="";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=S.prototype;d.get_ActionName=function(){return"SetAlphaChannelMask"};d.get_Mask=function(){return this._1975};
d.set_Mask=function(a){b.pv.s(a);this._1975=a};d.checkCommandParams=function(d){""===this._1975&&b.pv.te("Mask property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.mask=this._1975;return b}};b.extend(S,q);var Q=function(){var a=Q.superclass;a.constructor.call(this);this._7523=255;this._6711([1,2,4,8,33,64]);var d=Q.prototype;d.get_ActionName=function(){return"SetAlphaChannelValue"};d.get_AlphaValue=function(){return this._7523};
d.set_AlphaValue=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._7523=a};d.getParams=function(){var b=a.getParams.call(this);b.alphaValue=this._7523;return b}};b.extend(Q,q);var K=function(){var a=K.superclass;a.constructor.call(this);this._5475=new b.WebPixelFormatEnumJS(0);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=K.prototype;d.get_ActionName=function(){return"ChangePixelFormat"};d.get_PixelFormat=function(){return this._5475};d.set_PixelFormat=function(a){this._5475=
b.pv.e(a,b.WebPixelFormatEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.pixelFormat=this._5475.valueOf();return b}};b.extend(K,l);var X=function(){var a=X.superclass;a.constructor.call(this);this._5475=new b.WebPixelFormatEnumJS(24);this._5735=!1;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=X.prototype;d.get_ActionName=function(){return"ChangePixelFormatToBgr"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();14!==d&&15!==d&&24!==d&&32!==
d&&33!==d&&48!==d&&64!==d&&b.pv.te("Unsupported pixel format.");this._5475=a};d.get_KeepAlphaChannel=function(){return this._5735};d.set_KeepAlphaChannel=function(a){b.pv.b(a);this._5735=a};d.getParams=function(){var b=a.getParams.call(this);b.keepAlphaChannel=this._5735;return b}};b.extend(X,K);var fa=function(){fa.superclass.constructor.call(this);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);fa.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};b.extend(fa,u);var O=function(){O.superclass.constructor.call(this);
this._5475=new b.WebPixelFormatEnumJS(9);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=O.prototype;a.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};a.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();9!==d&&16!==d&&b.pv.te("Unsupported pixel format.");this._5475=a}};b.extend(O,K);var ba=function(){var a=ba.superclass;a.constructor.call(this);this._5475=new b.WebPixelFormatEnumJS(8);this._8814=new n.WebPaletteTypeEnumJS(0);this._9147=new n.WebColorQuantizationMethodEnumJS(3);
this._6226=!1;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ba.prototype;d.get_ActionName=function(){return"ChangePixelFormatToPalette"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();1!==d&&4!==d&&8!==d&&b.pv.te("Unsupported pixel format.");this._5475=a};d.get_Transparency=function(){return this._6226};d.set_Transparency=function(a){b.pv.b(a);this._6226=a};d.get_PaletteType=function(){return this._8814};d.set_PaletteType=function(a){this._8814=b.pv.e(a,
n.WebPaletteTypeEnumJS)};d.get_QuantizationMethod=function(){return this._9147};d.set_QuantizationMethod=function(a){this._9147=b.pv.e(a,n.WebColorQuantizationMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.transparency=this._6226;b.paletteType=this._8814.valueOf();b.quantizationMethod=this._9147.valueOf();return b}};b.extend(ba,K);var ea=function(){var a=ea.superclass;a.constructor.call(this);this._7394="rgba(0,0,0,1)";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ea.prototype;
d.get_ActionName=function(){return"Clear"};d.get_Color=function(){return this._7394};d.set_Color=function(a){b.pv.s(a);this._7394=a};d.getParams=function(){var b=a.getParams.call(this);b.color=this._7394;return b}};b.extend(ea,q);var ca=function(){ca.superclass.constructor.call(this);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var b=ca.prototype;b.get_ActionName=function(){return"Crop"};b.checkCommandParams=function(b){b=b.get_Size();if(null==b)return!0;b.x=0;b.y=0;var a=p._4868._6314(b,this._109);
return p._4868._11395(a)||p._4868._464(a,b)?!1:!0}};b.extend(ca,q);var ra=function(){var a=ra.superclass;a.constructor.call(this);this._6367=new b.WebInterpolationModeEnumJS(7);this._1324=this._7278=96;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ra.prototype;d.get_ActionName=function(){return"Resample"};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(a){this._6367=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_HorizontalResolution=function(){return this._7278};
d.set_HorizontalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._7278=a};d.get_VerticalResolution=function(){return this._1324};d.set_VerticalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._1324=a};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._6367.valueOf();b.horizontalResolution=this._7278;b.verticalResolution=this._1324;return b}};b.extend(ra,l);var U=function(){var a=U.superclass;a.constructor.call(this);this._2532={width:100,
height:100};this._6367=new b.WebInterpolationModeEnumJS(7);this._2434=this._1484=!0;this._10197=this._10611([8,9,16,24,32,33,48,64]);this._10297=this._10611([9,16,24,32,33,48,64]);this._7491=this._10611([16,33,48,64]);var d=U.prototype;d.get_ActionName=function(){return"Resize"};d.get_SupportedNativePixelFormats=function(){var b;switch(this._6367.valueOf()){case 5:b=this._10197;break;case 3:b=this._10297;break;default:b=this._7491}return b.slice()};d.get_Size=function(){return b.cloneObject(this._2532)};
d.set_Size=function(a,d){var e;e=null==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._2532=e};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(a){this._6367=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._6367.valueOf();
b.width=this._2532.width;b.height=this._2532.height;return b};d.checkCommandParams=function(b){b=b.get_Size();if(null==b)return!0;var a=this._109;return p._4868._11395(a)?this._2532.width!==b.width||this._2532.height!==b.height:0===a.x&&0===a.y&&a.width===b.width&&a.height===b.height?!1:!0}};b.extend(U,q);var ga=function(){var a=ga.superclass;a.constructor.call(this);this._1127="rgba(0,0,0,1)";this._9332={width:100,height:100};this._3893={x:0,y:0};this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=
ga.prototype;d.get_ActionName=function(){return"ResizeCanvas"};d.get_CanvasColor=function(){return this._1127};d.set_CanvasColor=function(a){b.pv.s(a);this._1127=a};d.get_CanvasSize=function(){return b.cloneObject(this._9332)};d.set_CanvasSize=function(a,d){var e;e=null==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._9332=
e};d.get_ImagePosition=function(){return b.cloneObject(this._3893)};d.set_ImagePosition=function(a,d){var e;e=null==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};b.pv.p(e);this._3893=e};d.getParams=function(){var b=a.getParams.call(this);b.imagePosition=this._3893;b.width=this._9332.width;b.height=this._9332.height;b.canvasColor=this._1127;return b}};b.extend(ga,l);var M=function(){var a=M.superclass;a.constructor.call(this);this._6837=!1;this._3848="";this._6226=!1;this._10086=
"rgba(255,255,255,0)";this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=M.prototype;d.get_ActionName=function(){return"Overlay"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(a){b.pv.s(a);this._3848=a};d.get_HasTransparentColor=function(){return this._6837};d.set_HasTransparentColor=function(a){b.pv.b(a);this._6837=a};d.get_Transparency=function(){return this._6226};d.set_Transparency=function(a){b.pv.b(a);this._6226=a};d.get_TransparentColor=function(){return this._10086};
d.set_TransparentColor=function(a){b.pv.s(a);this._10086=a};d.checkCommandParams=function(d){""===this._3848&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.hasTransparentColor=this._6837;b.overlayImage=this._3848;b.transparency=this._6226;b.transparentColor=this._10086;return b}};b.extend(M,q);var ha=function(){var a=ha.superclass;a.constructor.call(this);this._10017=this._3848="";this._6711([1,2,4,
8,9,16,24,32,33,48,64]);var d=ha.prototype;d.get_ActionName=function(){return"OverlayMasked"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(a){b.pv.s(a);this._3848=a};d.get_MaskImage=function(){return this._10017};d.set_MaskImage=function(a){b.pv.s(a);this._10017=a};d.checkCommandParams=function(d){""===this._3848&&b.pv.te("OverlayImage property cannot be empty.");""===this._10017&&b.pv.te("MaskImage property cannot be empty.");return a.checkCommandParams.call(this,
d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3848;b.maskImage=this._10017;return b}};b.extend(ha,q);var r=function(){var a=r.superclass;a.constructor.call(this);this._3848="";this._2826=new n.WebBlendingModeEnumJS(1);this._6711([9,16,24,32,33,48,64]);var d=r.prototype;d.get_ActionName=function(){return"OverlayWithBlending"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(a){b.pv.s(a);this._3848=a};d.get_BlendingMode=function(){return this._2826};
d.set_BlendingMode=function(a){this._2826=b.pv.e(a,n.WebBlendingModeEnumJS)};d.checkCommandParams=function(d){""===this._3848&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3848;b.blendingMode=this._2826.valueOf();return b}};b.extend(r,q);var aa=function(){var a=aa.superclass;a.constructor.call(this);this._7394=new d;this._1223=[];this._6711([2,9,24,32,33]);var e=aa.prototype;e.get_ActionName=
function(){return"FillRectangle"};e.get_Color=function(){return this._7394};e.set_Color=function(a){b.pv.c(a,d);this._7394=a};e.get_Rectangles=function(){for(var b=[],a=0;a<this._1223.length;a++)b[a]={x:this._1223[a].x,y:this._1223[a].y,width:this._1223[a].width,height:this._1223[a].height};return b};e.set_Rectangles=function(a){b.pv.ad(a,b.pv.r);this._1223=[];for(var d=0;d<a.length;d++)this._1223[d]={x:a[d].x,y:a[d].y,width:a[d].width,height:a[d].height}};e.getParams=function(){var b=a.getParams.call(this);
b.rectangles=this._1223;b.color=this._7394.getParams();return b};e.checkCommandParams=function(b){return 0!==this._1223.length}};b.extend(aa,l);var k=function(){var a=k.superclass;a.constructor.call(this);this._7826="";this._7236=new n.WebImageCompareOperatorEnumJS(0);this._10972=null;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=k.prototype;d.get_ActionName=function(){return"ImageComparison"};d.get_Image=function(){return this._7826};d.set_Image=function(a){b.pv.s(a);this._7826=a};d.get_CompareChannelIndexes=
function(){var b=this._10972;return null!=b?b.slice():b};d.set_CompareChannelIndexes=function(a){null!=a&&b.pv.ad(a,b.pv.n);this._10972=a};d.get_CompareOperator=function(){return this._7236};d.set_CompareOperator=function(a){this._7236=b.pv.e(a,n.WebImageCompareOperatorEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.image=this._7826;b.compareOperator=this._7236.valueOf();b.compareChannelIndexes=this._10972;return b};d.checkCommandParams=function(d){""===this._7826&&b.pv.te("Image property cannot be empty.");
return a.checkCommandParams.call(this,d)}};b.extend(k,l);var m=function(){function a(d,e,f,h){d=null==e?{x:d.x,y:d.y,width:d.width,height:d.height}:{x:d,y:e,width:f,height:h};b.pv.r(d);0>d.width&&(d.width=0);0>d.height&&(d.height=0);return d}var d=m.superclass;d.constructor.call(this);this._3848="";this._5668=p._4868._3842();this._3595=p._4868._3842();this._6367=new b.WebInterpolationModeEnumJS(6);this._7143="rgba(0,0,0,0)";this._6711([24,32,33]);var e=m.prototype;e.get_ActionName=function(){return"DrawImage"};
e.get_OverlayImage=function(){return this._3848};e.set_OverlayImage=function(a){b.pv.s(a);this._3848=a};e.get_SourceRect=function(){return b.cloneObject(this._5668)};e.set_SourceRect=function(b,d,e,f){this._5668=a(b,d,e,f)};e.get_DestRect=function(){return b.cloneObject(this._3595)};e.set_DestRect=function(b,d,e,f){this._3595=a(b,d,e,f)};e.get_InterpolationMode=function(){return this._6367};e.set_InterpolationMode=function(a){this._6367=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_BackgroundColor=
function(){return this._7143};e.set_BackgroundColor=function(a){b.pv.s(a);this._7143=a};e.checkCommandParams=function(a){""===this._3848&&b.pv.te("OverlayImage property cannot be empty.");return d.checkCommandParams.call(this,a)};e.getParams=function(){var b=d.getParams.call(this);b.overlayImage=this._3848;b.sourceRect=this._5668;b.destRect=this._3595;b.interpolationMode=this._6367.valueOf();b.backgroundColor=this._7143;return b}};b.extend(m,l);var A=function(){var a=A.superclass;a.constructor.call(this);
this._3848="";this._2547={x:0,y:0};this._3186=new n.WebOverlayBinaryOperationTypeEnumJS(0);this._6711([2]);var d=A.prototype;d.get_ActionName=function(){return"OverlayBinary"};d.get_OverlayImage=function(){return this._3848};d.set_OverlayImage=function(a){b.pv.s(a);this._3848=a};d.get_OverlayPosition=function(){return b.cloneObject(this._2547)};d.set_OverlayPosition=function(a,d){var e;e=null==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};(0>e.x||0>e.y)&&b.pv.toe();b.pv.p(e);this._2547=
e};d.get_BinaryOperationType=function(){return this._3186};d.set_BinaryOperationType=function(a){this._3186=b.pv.e(a,n.WebOverlayBinaryOperationTypeEnumJS)};d.checkCommandParams=function(d){""===this._3848&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3848;b.overlayPosition=this._2547;b.binaryOperationType=this._3186.valueOf();return b}};b.extend(A,l);var g=function(){var b=g.superclass;
b.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var a=g.prototype;a.get_ActionName=function(){return"GetBackgroundColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(g,v);var w=function(){var b=w.superclass;b.constructor.call(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var a=w.prototype;a.get_ActionName=function(){return"GetBorderColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(w,v);var H=function(){var a=H.superclass;
a.constructor.call(this);this._1195=this._1807=0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=H.prototype;d.get_ActionName=function(){return"GetColorCount"};d.get_MaxColorCount=function(){return this._1807};d.set_MaxColorCount=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._1807=a};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._1195=a};d.getParams=function(){var b=a.getParams.call(this);b.maxColorCount=this._1807;
b.maxInaccuracy=this._1195;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(H,t);var J=function(){var a=J.superclass;a.constructor.call(this);this._3000=new n.WebHistogramTypeEnumJS(15);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=J.prototype;d.get_ActionName=function(){return"GetHistogram"};d.get_HistogramType=function(){return this._3000};d.set_HistogramType=function(a){this._3000=b.pv.e(a,n.WebHistogramTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);
b.histogramType=this._3000.valueOf();return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(J,t);var ia=function(){var b=ia.superclass;b.constructor.call(this);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=ia.prototype;a.get_ActionName=function(){return"GetThreshold"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(ia,v);var T=function(){var a=T.superclass;a.constructor.call(this);this._2969=.01;this._6711([1,2,4,8,9,16,24,32,33,48,
64]);var d=T.prototype;d.get_ActionName=function(){return"IsImageBlank"};d.get_MaxNoiseLevel=function(){return this._2969};d.set_MaxNoiseLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._2969=a};d.getParams=function(){return{maxNoiseLevel:this._2969}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(T,v);var ja=function(){var a=ja.superclass;a.constructor.call(this);this._6809=!0;this._7394=new d;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=ja.prototype;e.get_ActionName=
function(){return"HasCertainColor"};e.get_ConsiderAlphaChannel=function(){return this._6809};e.set_ConsiderAlphaChannel=function(a){b.pv.b(a);this._6809=a};e.get_Color=function(){return this._7394};e.set_Color=function(a){b.pv.c(a,d);this._7394=a};e.getParams=function(){var b=a.getParams.call(this);b.considerAlphaChannel=this._6809;b.color=this._7394.getParams();return b};e.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ja,v);var ka=function(){var b=ka.superclass;b.constructor.call(this);
this._6711([1,2,4,8,9,24,32,33]);var a=ka.prototype;a.get_ActionName=function(){return"GetUniqueColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(ka,t);var la=function(){var a=la.superclass;a.constructor.call(this);this._1195=0;this._6711([8,9,24]);var d=la.prototype;d.get_ActionName=function(){return"IsImageBlackWhite"};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._1195=a};d.getParams=function(){return{maxInaccuracy:this._1195}};
d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(la,v);var ma=function(){var a=ma.superclass;a.constructor.call(this);this._10882=this._1195=0;this._6711([1,8,24,33]);var d=ma.prototype;d.get_ActionName=function(){return"IsImageGrayscale"};d.get_MaxPercentOfColorPixels=function(){return this._10882};d.set_MaxPercentOfColorPixels=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._10882=a};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(a){b.pv.n(a);
0>a&&(a=0);442<a&&(a=442);this._1195=a};d.getParams=function(){var b=a.getParams.call(this);b.maxInaccuracy=this._1195;b.maxPercentOfColorPixels=this._10882;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ma,t);var oa=function(){var a=oa.superclass;a.constructor.call(this);this._9362=this._5312=this._10474=this._9038=this._1836=!0;this._1195=0;this._6711([8,9,24]);var d=oa.prototype;d.get_ActionName=function(){return"GetImageColorDepth"};d.get_DetectBlackWhite=
function(){return this._1836};d.set_DetectBlackWhite=function(a){b.pv.b(a);this._1836=a};d.get_DetectGrayscale=function(){return this._9038};d.set_DetectGrayscale=function(a){b.pv.b(a);this._9038=a};d.get_DetectIndexed1=function(){return this._10474};d.set_DetectIndexed1=function(a){b.pv.b(a);this._10474=a};d.get_DetectIndexed4=function(){return this._5312};d.set_DetectIndexed4=function(a){b.pv.b(a);this._5312=a};d.get_DetectIndexed8=function(){return this._9362};d.set_DetectIndexed8=function(a){b.pv.b(a);
this._9362=a};d.get_MaxInaccuracy=function(){return this._1195};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._1195=a};d.getParams=function(){var b=a.getParams.call(this);b.detectBlackWhite=this._1836;b.detectGrayscale=this._9038;b.detectIndexed1=this._10474;b.detectIndexed4=this._5312;b.detectIndexed8=this._9362;b.maxInaccuracy=this._1195;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._7828=function(d,e,f,h){a._7828.call(this,d,function(a){var d;
try{d=b.pv.e(a.pixelFormat,b.WebPixelFormatEnumJS)}catch(f){d=new b.WebPixelFormatEnumJS(0)}a.pixelFormat=d;e&&e(a)},f,h)}};b.extend(oa,v);var pa=function(){function a(b){b._9067.get_ActionName=null;b._9067.get_ChangeSource=null;b._9067.set_ChangeSource=null}var d=pa.superclass;d.constructor.call(this);this._8895=5;this._10647=new n.WebBorderRemovalColorTypeEnumJS(0);this._5081=0;this._8378=new n.WebImageSideEnumJS(15);this._9067=new u;a(this);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var e=pa.prototype;
e.get_ActionName=function(){return"GetBorderRect"};e.get_BorderSize=function(){return this._8895};e.set_BorderSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);1E3<a&&(a=1E3);this._8895=a};e.get_BorderColorType=function(){return this._10647};e.set_BorderColorType=function(a){this._10647=b.pv.e(a,n.WebBorderRemovalColorTypeEnumJS)};e.get_MaxBorderNoise=function(){return this._5081};e.set_MaxBorderNoise=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._5081=a};e.get_Side=function(){return this._8378};
e.set_Side=function(a){this._8378=b.pv.e(a,n.WebImageSideEnumJS)};e.get_Binarization=function(){return this._9067};e.set_Binarization=function(d){b.pv.c(d,u);this._9067=d;a(this)};e.getParams=function(){var b=d.getParams.call(this);b.borderSize=this._8895;b.borderColorType=this._10647.valueOf();b.maxBorderNoise=this._5081;b.side=this._8378.valueOf();b.binarization=this._9067.getParams();delete b.binarization.changeSource;return b};e.execute=function(b,a,e,f){return d.execute.call(this,b,a,e,f)}};
b.extend(pa,v);var qa=function(){var a=qa.superclass;a.constructor.call(this);this._7116=new n.WebRotateFlipTypeEnumJS(1);this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=qa.prototype;d.get_ActionName=function(){return"Flip"};d.get_RotateFlipType=function(){return this._7116};d.set_RotateFlipType=function(a){this._7116=b.pv.e(a,n.WebRotateFlipTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.rotateFlipType=this._7116.valueOf();return b};d.checkCommandParams=function(b){return 0!==
this._7116.valueOf()}};b.extend(qa,l);var ta=function(){var a=ta.superclass;a.constructor.call(this);this._5278=0;this._10647=new n.WebBorderColorTypeEnumJS(0);this._7427="rgba(0,0,0,1)";this._8934=this._2434=this._1484=!0;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=ta.prototype;d.get_ActionName=function(){return"Rotate"};d.get_Angle=function(){return this._5278};d.set_Angle=function(a){b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._5278=a};d.get_BorderColorType=function(){return this._10647};d.set_BorderColorType=
function(a){this._10647=b.pv.e(a,n.WebBorderColorTypeEnumJS)};d.get_BorderColor=function(){return this._7427};d.set_BorderColor=function(a){b.pv.s(a);this._7427=a};d.get_IsAntialiasingEnabled=function(){return this._8934};d.set_IsAntialiasingEnabled=function(a){b.pv.b(a);this._8934=a};d.getParams=function(){var b=a.getParams.call(this);b.rotationAngle=this._5278;b.borderColorType=this._10647.valueOf();b.borderColor=this._7427;b.isAntialiasingEnabled=this._8934;return b};d.checkCommandParams=function(b){return 0!==
this._5278}};b.extend(ta,l);var ua=function(){var a=ua.superclass;a.constructor.call(this);this._4511=0;this._2835="rgba(0,0,0,0)";this._9603=new n.WebImageProcessingDirectionEnumJS(1);this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=ua.prototype;d.get_ActionName=function(){return"Skew"};d.get_Offset=function(){return this._4511};d.set_Offset=function(a){a=parseInt(a);b.pv.n(a);this._4511=a};d.get_BackColor=function(){return this._2835};d.set_BackColor=function(a){b.pv.s(a);this._2835=a};d.get_Direction=
function(){return this._9603};d.set_Direction=function(a){a=b.pv.e(a,n.WebImageProcessingDirectionEnumJS);2<a.valueOf()&&b.pv.te("Direction cannot be horizontal and vertical.");this._9603=a};d.getParams=function(){var b=a.getParams.call(this);b.offset=this._4511;b.backColor=this._2835;b.direction=this._9603.valueOf();return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._4511}};b.extend(ua,q);var va=function(){var a=va.superclass;a.constructor.call(this);this._7143=
"rgba(0,0,0,0)";this._11301=[];this._6711([8,9,16,24,32,33,48,64]);var d=va.prototype;d.get_ActionName=function(){return"QuadrilateralWarp"};d.get_BackgroundColor=function(){return this._7143};d.set_BackgroundColor=function(a){b.pv.s(a);this._7143=a};d.get_DestinationPoints=function(){for(var b=[],a=0;a<this._11301.length;a++)b[a]={x:this._11301[a].x,y:this._11301[a].y};return b};d.set_DestinationPoints=function(a){b.pv.ad(a,b.pv.p);3!==a.length&&4!==a.length&&b.pv.te("Array length is not equal 3 or 4.");
a=a.slice();3==a.length&&a.push({x:a[2].x+(a[1].x-a[0].x),y:a[1].y+(a[2].y-a[0].y)});if(p._4868._4848(a[0],a[1],a[3],a[2])){this._11301=[];for(var d=0;d<a.length;d++)this._11301[d]={x:a[d].x,y:a[d].y}}else b.pv.te("The destination points are not convex.")};d.getParams=function(){var b=a.getParams.call(this);b.backgroundColor=this._7143;b.destinationPoints=this._11301;return b};d.checkCommandParams=function(d){4!==this._11301.length&&b.pv.te("DestinationPoints property has wrong value.");return a.checkCommandParams.call(this,
d)}};b.extend(va,q);var wa=function(){var a=wa.superclass;a.constructor.call(this);this._2835="rgba(0,0,0,0)";this._6367=new b.WebInterpolationModeEnumJS(7);this._1726=p._4868._3842();this._4243=new p.WebMatrixJS;this._134=!0;this._6711([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=wa.prototype;d.get_ActionName=function(){return"MatrixTransform"};d.get_BackColor=function(){return this._2835};d.set_BackColor=function(a){b.pv.s(a);this._2835=a};d.get_CropRect=function(){return b.cloneObject(this._1726)};
d.set_CropRect=function(a,d,e,f){a=null==d?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,y:d,width:e,height:f};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1726=a};d.get_InterpolationMode=function(){return this._6367};d.set_InterpolationMode=function(a){this._6367=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_Matrix=function(){return this._4243};d.set_Matrix=function(a){b.pv.c(a,p.WebMatrixJS);this._4243=a};d.get_PreservePixelFormat=function(){return this._134};
d.set_PreservePixelFormat=function(a){b.pv.b(a);this._134=a};d.getParams=function(){var b=a.getParams.call(this);b.backColor=this._2835;b.interpolationMode=this._6367.valueOf();b.cropRect=this._1726;b.matrix=this._4243._3252();b.preservePixelFormat=this._134;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!this._4243.compareMatrix(new p.WebMatrixJS)}};b.extend(wa,l);var xa=function(){var a=xa.superclass;a.constructor.call(this);this._10205=new U;this._9750=this._7235=
1;this._2434=this._1484=!0;var d=xa.prototype;d.get_ActionName=function(){return"ImageScaling"};d.get_SupportedNativePixelFormats=function(){return this._10205.get_SupportedNativePixelFormats()};d.get_ScaleX=function(){return this._7235};d.set_ScaleX=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7235=a};d.get_ScaleY=function(){return this._9750};d.set_ScaleY=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._9750=a};d.get_Scale=function(){return this._7235!==this._9750?-1:this._7235};d.set_Scale=function(a){b.pv.n(a);
0>=a&&b.pv.toe();this._9750=this._7235=a};d.get_InterpolationMode=function(){return this._10205.get_InterpolationMode()};d.set_InterpolationMode=function(b){this._10205.set_InterpolationMode(b)};d.getParams=function(){var b=a.getParams.call(this);b.scaleX=this._7235;b.scaleY=this._9750;b.interpolationMode=this._10205._6367.valueOf();return b}};b.extend(xa,q);var na=function(){var a=na.superclass;a.constructor.call(this);this._724=new n.WebColorChannelEnumJS(7);var d=na.prototype;d.get_ColorChannel=
function(){return this._724};d.set_ColorChannel=function(a){this._724=b.pv.e(a,n.WebColorChannelEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._724.valueOf();return b}};b.extend(na,q);var Ia=function(){var a=Ia.superclass;a.constructor.call(this);this._724=new n.WebColorChannelEnumJS(7);this._7297=3;this._9603=new n.WebImageProcessingDirectionEnumJS(3);this._6711([9,24,33]);var d=Ia.prototype;d.get_ColorChannel=function(){return this._724};d.set_ColorChannel=function(a){this._724=
b.pv.e(a,n.WebColorChannelEnumJS)};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._7297=a};d.get_Direction=function(){return this._9603};d.set_Direction=function(a){this._9603=b.pv.e(a,n.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._724.valueOf();b.windowSize=this._7297;b.direction=this._9603.valueOf();return b}};b.extend(Ia,na);
var ya=function(){ya.superclass.constructor.call(this);ya.prototype.get_ActionName=function(){return"Minimum"}};b.extend(ya,Ia);var za=function(){za.superclass.constructor.call(this);za.prototype.get_ActionName=function(){return"Maximum"}};b.extend(za,Ia);var Aa=function(){Aa.superclass.constructor.call(this);Aa.prototype.get_ActionName=function(){return"MidPoint"}};b.extend(Aa,Ia);var Ba=function(){Ba.superclass.constructor.call(this);Ba.prototype.get_ActionName=function(){return"Mean"}};b.extend(Ba,
Ia);var Ca=function(){Ca.superclass.constructor.call(this);Ca.prototype.get_ActionName=function(){return"Median"}};b.extend(Ca,Ia);var Oa=function(){var a=Oa.superclass;a.constructor.call(this);this._7297=3;this._9603=new n.WebImageProcessingDirectionEnumJS(1);this._6711([2,9,24,33]);var d=Oa.prototype;d.get_ActionName=function(){return"Dilate"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._7297=
a};d.get_Direction=function(){return this._9603};d.set_Direction=function(a){this._9603=b.pv.e(a,n.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._7297;b.direction=this._9603.valueOf();return b}};b.extend(Oa,q);var Da=function(){Da.superclass.constructor.call(this);Da.prototype.get_ActionName=function(){return"Erode"}};b.extend(Da,Oa);var Ea=function(){var a=Ea.superclass;a.constructor.call(this);this._7297=5;this._6711([9,16,24,32,33,48,
64]);var d=Ea.prototype;d.get_ActionName=function(){return"Blur"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);255<a&&(a=255);0===a%2&&b.pv.te("Value must be odd.");this._7297=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._7297;return b}};b.extend(Ea,na);var Fa=function(){var a=Fa.superclass;a.constructor.call(this);this._7297=5;this._10399=!1;this._9585=.833;this._6711([9,16,24,32,33,48,64]);var d=Fa.prototype;
d.get_ActionName=function(){return"GaussianBlur"};d.get_WindowSize=function(){return this._7297};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);513<a&&(a=513);0===a%2&&b.pv.te("Value must be odd.");this._7297=a};d.get_AutoCalculateSigma=function(){return this._10399};d.set_AutoCalculateSigma=function(a){b.pv.b(a);this._10399=a};d.get_Sigma=function(){return this._9585};d.set_Sigma=function(a){b.pv.n(a);.6>a&&(a=.6);2.4<a&&(a=2.4);this._9585=a};d.getParams=function(){var b=a.getParams.call(this);
b.windowSize=this._7297;b.autoCalculateSigma=this._10399;b.sigma=this._9585;return b}};b.extend(Fa,na);var Ga=function(){Ga.superclass.constructor.call(this);this._6711([9,16,24,32,33,48,64]);Ga.prototype.get_ActionName=function(){return"EdgeDetection"}};b.extend(Ga,na);var Ha=function(){var a=Ha.superclass;a.constructor.call(this);this._2522=2;this._4438=45;this._6711([9,16,24,32,33,48,64]);var d=Ha.prototype;d.get_ActionName=function(){return"Emboss"};d.get_Depth=function(){return this._2522};d.set_Depth=
function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._2522=a};d.get_LightDirection=function(){return this._4438};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._4438=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._2522;b.lightDirection=this._4438;return b}};b.extend(Ha,na);var Qa=function(){var a=Qa.superclass;a.constructor.call(this);this._7160=1;this._6711([9,16,24,32,33,48,64]);var d=Qa.prototype;d.get_ActionName=function(){return"Sharpen"};
d.get_Amount=function(){return this._7160};d.set_Amount=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._7160=a};d.getParams=function(){var b=a.getParams.call(this);b.amount=this._7160;return b}};b.extend(Qa,na);var Ra=function(){var a=Ra.superclass;a.constructor.call(this);this._2011=!1;this._7481=!0;this._978=0;this._2177=!1;this._1923=100;this._1610=new n.WebNoiseTypeEnumJS(3);this._586=this._7133=100;this._6711([1,2,4,8,9,16,24,32,33,48,64]);var d=Ra.prototype;d.get_ActionName=
function(){return"AddNoise"};d.get_AutoNoiseGeneration=function(){return this._2011};d.set_AutoNoiseGeneration=function(a){b.pv.b(a);this._2011=a};d.get_AutoSeedPercentageGeneration=function(){return this._7481};d.set_AutoSeedPercentageGeneration=function(a){b.pv.b(a);this._7481=a};d.get_Mean=function(){return this._978};d.set_Mean=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._978=a};d.get_MonochromaticNoise=function(){return this._2177};d.set_MonochromaticNoise=function(a){b.pv.b(a);this._2177=
a};d.get_NoisePercentage=function(){return this._1923};d.set_NoisePercentage=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._1923=a};d.get_NoiseType=function(){return this._1610};d.set_NoiseType=function(a){this._1610=b.pv.e(a,n.WebNoiseTypeEnumJS)};d.get_SeedPercentage=function(){return this._7133};d.set_SeedPercentage=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._7133=a};d.get_Variance=function(){return this._586};d.set_Variance=function(a){b.pv.n(a);-1E6>a&&(a=-1E6);
1E6<a&&(a=1E6);this._586=a};d.getParams=function(){var b=a.getParams.call(this);b.autoNoiseGeneration=this._2011;b.autoSeedPercentageGeneration=this._7481;b.mean=this._978;b.monochromaticNoise=this._2177;b.noisePercentage=this._1923;b.noiseType=this._1610.valueOf();b.seedPercentage=this._7133;b.variance=this._586;return b}};b.extend(Ra,na);var Sa=function(){var a=Sa.superclass;a.constructor.call(this);this._9504=3;this._6858=80;this._3336=20;this._6711([9]);var d=Sa.prototype;d.get_ActionName=function(){return"CannyEdgeDetector"};
d.get_BlurRadius=function(){return this._9504};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._9504=a};d.get_LowThreshold=function(){return this._3336};d.set_LowThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._3336=a};d.get_HighThreshold=function(){return this._6858};d.set_HighThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._6858=a};d.getParams=function(){var b=a.getParams.call(this);b.blurRadius=this._9504;
b.highThreshold=this._6858;b.lowThreshold=this._3336;return b}};b.extend(Sa,q);var La=function(){var a=La.superclass;a.constructor.call(this);this._9306=this._7967=.05;this._6711([24,32,33,48,64]);var d=La.prototype;d.get_ActionName=function(){return"AutoColors"};d.get_LowLimit=function(){return this._7967};d.set_LowLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._7967=a};d.get_HighLimit=function(){return this._9306};d.set_HighLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._9306=
a};d.getParams=function(){var b=a.getParams.call(this);b.lowLimit=this._7967;b.highLimit=this._9306;return b}};b.extend(La,l);var Ta=function(){Ta.superclass.constructor.call(this);Ta.prototype.get_ActionName=function(){return"AutoContrast"}};b.extend(Ta,La);var Ua=function(){Ua.superclass.constructor.call(this);Ua.prototype.get_ActionName=function(){return"AutoLevels"}};b.extend(Ua,La);var Va=function(){var a=Va.superclass;a.constructor.call(this);this._5494=-25;this._8634=this._4007=25;this._9020=
-25;this._10260=2;this._3238=15;this._6711([9,16,24,32,33,48,64]);var d=Va.prototype;d.get_ActionName=function(){return"BevelEdge"};d.get_BottomBrightness=function(){return this._5494};d.set_BottomBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5494=a};d.get_TopBrightness=function(){return this._4007};d.set_TopBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._4007=a};d.get_LeftBrightness=function(){return this._8634};d.set_LeftBrightness=
function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._8634=a};d.get_RightBrightness=function(){return this._9020};d.set_RightBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._9020=a};d.get_Smoothness=function(){return this._10260};d.set_Smoothness=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._10260=a};d.get_EdgeSize=function(){return this._3238};d.set_EdgeSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._3238=a};
d.getParams=function(){var b=a.getParams.call(this);b.bottomBrightness=this._5494;b.topBrightness=this._4007;b.leftBrightness=this._8634;b.rightBrightness=this._9020;b.smoothness=this._10260;b.edgeSize=this._3238;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!(0===this._5494&&0===this._4007&&0===this._8634&&0===this._9020||0===this._3238)}};b.extend(Va,q);var Wa=function(){var a=Wa.superclass;a.constructor.call(this);this._6989="rgba(255,255,255,0)";this._9504=
4;this._7394="rgba(0,0,0,1)";this._8638=15;this._4438=45;this._6711([24,32,33,48,64]);var d=Wa.prototype;d.get_ActionName=function(){return"DropShadow"};d.get_BackColorOfShadow=function(){return this._6989};d.set_BackColorOfShadow=function(a){b.pv.s(a);this._6989=a};d.get_BlurRadius=function(){return this._9504};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._9504=a};d.get_Color=function(){return this._7394};d.set_Color=function(a){b.pv.s(a);this._7394=a};d.get_Distance=
function(){return this._8638};d.set_Distance=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._8638=a};d.get_LightDirection=function(){return this._4438};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._4438=a};d.getParams=function(){var b=a.getParams.call(this);b.backColorOfShadow=this._6989;b.blurRadius=this._9504;b.color=this._7394;b.distance=this._8638;b.lightDirection=this._4438;return b}};b.extend(Wa,q);var Xa=function(){var a=Xa.superclass;a.constructor.call(this);
this._2522=4;this._1645=45;this._6711([9,16,24,32,33,48,64]);var d=Xa.prototype;d.get_ActionName=function(){return"MotionBlur"};d.get_Depth=function(){return this._2522};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._2522=a};d.get_MotionDirection=function(){return this._1645};d.set_MotionDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);180<a&&(a=180);this._1645=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._2522;b.motionDirection=this._1645;
return b}};b.extend(Xa,na);var Ya=function(){var a=Ya.superclass;a.constructor.call(this);this._10909=5;this._6711([24,32,33,48,64]);var d=Ya.prototype;d.get_ActionName=function(){return"Mosaic"};d.get_TileSize=function(){return this._10909};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);this._10909=a};d.getParams=function(){var b=a.getParams.call(this);b.tileSize=this._10909;return b}};b.extend(Ya,na);var Za=function(){var a=Za.superclass;a.constructor.call(this);this._4593=50;this._5924=
3;this._6711([16,24,32,33,48,64]);var d=Za.prototype;d.get_ActionName=function(){return"OilPainting"};d.get_Radius=function(){return this._5924};d.set_Radius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);64<a&&(a=64);this._5924=a};d.get_IntensityLevel=function(){return this._4593};d.set_IntensityLevel=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);255<a&&(a=255);this._4593=a};d.getParams=function(){var b=a.getParams.call(this);b.radius=this._5924;b.intensityLevel=this._4593;return b}};b.extend(Za,
q);var $a=function(){var a=$a.superclass;a.constructor.call(this);this._6839=5;this._6711([24,32,33,48,64]);var d=$a.prototype;d.get_ActionName=function(){return"Pixelate"};d.get_CellSize=function(){return this._6839};d.set_CellSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);100<a&&(a=100);this._6839=a};d.getParams=function(){var b=a.getParams.call(this);b.cellSize=this._6839;return b}};b.extend($a,q);var ab=function(){var a=ab.superclass;a.constructor.call(this);this._3170=90;this._6909=70;this._6711([24,
32,33,48,64]);var d=ab.prototype;d.get_ActionName=function(){return"RedEyeRemoval"};d.get_Saturation=function(){return this._3170};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);50>a&&(a=50);100<a&&(a=100);this._3170=a};d.get_Tolerance=function(){return this._6909};d.set_Tolerance=function(a){a=parseInt(a);b.pv.n(a);35>a&&(a=35);100<a&&(a=100);this._6909=a};d.getParams=function(){var b=a.getParams.call(this);b.saturation=this._3170;b.tolerance=this._6909;return b}};b.extend(ab,q);var bb=function(){bb.superclass.constructor.call(this);
this._6711([24,32,33,48,64]);bb.prototype.get_ActionName=function(){return"Sepia"}};b.extend(bb,q);var cb=function(){cb.superclass.constructor.call(this);this._6711([24,32,33,48,64]);cb.prototype.get_ActionName=function(){return"Solarize"}};b.extend(cb,q);var db=function(){var a=db.superclass;a.constructor.call(this);this._3266=8;this._5278=30;this._10909=40;this._6711([24,32,33,48,64]);var d=db.prototype;d.get_ActionName=function(){return"TileReflection"};d.get_Curvature=function(){return this._3266};
d.set_Curvature=function(a){a=parseInt(a);b.pv.n(a);-20>a&&(a=-20);20<a&&(a=20);this._3266=a};d.get_RotationAngle=function(){return this._5278};d.set_RotationAngle=function(a){a=parseInt(a);b.pv.n(a);-45>a&&(a=-45);45<a&&(a=45);this._5278=a};d.get_TileSize=function(){return this._10909};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);200<a&&(a=200);this._10909=a};d.getParams=function(){var b=a.getParams.call(this);b.curvature=this._3266;b.rotationAngle=this._5278;b.tileSize=this._10909;
return b}};b.extend(db,q);var eb=function(){var a=eb.superclass;a.constructor.call(this);this._7262=1;this._5924=12;this._7955=new n.WebFrequencyFilterTypeEnumJS(2);this._2826=new n.WebBlendingModeEnumJS(9);this._2334=!0;this._6711([24,32,33,9]);var d=eb.prototype;d.get_ActionName=function(){return"ImageSharpening"};d.get_OverlayAlpha=function(){return this._7262};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7262=a};d.get_Radius=function(){return this._5924};d.set_Radius=function(a){b.pv.n(a);
0>=a&&b.pv.te("Value must be positive.");this._5924=a};d.get_Filter=function(){return this._7955};d.set_Filter=function(a){this._7955=b.pv.e(a,n.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(a){this._2826=b.pv.e(a,n.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._2334};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._2334=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._7262;b.radius=
this._5924;b.filter=this._7955.valueOf();b.blendingMode=this._2826.valueOf();b.grayscaleFiltration=this._2334;return b}};b.extend(eb,q);var fb=function(){var a=fb.superclass;a.constructor.call(this);this._7262=1;this._5924=7;this._7955=new n.WebFrequencyFilterTypeEnumJS(2);this._2826=new n.WebBlendingModeEnumJS(0);this._2334=!1;this._6711([24,32,33,9]);var d=fb.prototype;d.get_ActionName=function(){return"ImageSmoothing"};d.get_OverlayAlpha=function(){return this._7262};d.set_OverlayAlpha=function(a){b.pv.n(a);
0>a&&(a=0);1<a&&(a=1);this._7262=a};d.get_Radius=function(){return this._5924};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._5924=a};d.get_Filter=function(){return this._7955};d.set_Filter=function(a){this._7955=b.pv.e(a,n.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._2826};d.set_BlendingMode=function(a){this._2826=b.pv.e(a,n.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._2334};d.set_GrayscaleFiltration=function(a){b.pv.b(a);
this._2334=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._7262;b.radius=this._5924;b.filter=this._7955.valueOf();b.blendingMode=this._2826.valueOf();b.grayscaleFiltration=this._2334;return b}};b.extend(fb,q);var Ma=function(){var a=Ma.superclass;a.constructor.call(this);this._11082=.08;this._6711([24,32,33,9]);var d=Ma.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._11082};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&
b.pv.te("Value must be positive.");this._11082=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._11082;return b}};b.extend(Ma,q);var gb=function(){gb.superclass.constructor.call(this);gb.prototype.get_ActionName=function(){return"IdealHighpass"}};b.extend(gb,Ma);var hb=function(){hb.superclass.constructor.call(this);hb.prototype.get_ActionName=function(){return"GaussianHighpass"}};b.extend(hb,Ma);var ib=function(){var a=ib.superclass;a.constructor.call(this);this._7992=
2;var d=ib.prototype;d.get_ActionName=function(){return"ButterworthHighpass"};d.get_Order=function(){return this._7992};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7992=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._7992;return b}};b.extend(ib,Ma);var Na=function(){var a=Na.superclass;a.constructor.call(this);this._11082=.14;this._6711([24,32,33,9]);var d=Na.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._11082};
d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._11082=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._11082;return b}};b.extend(Na,q);var jb=function(){jb.superclass.constructor.call(this);jb.prototype.get_ActionName=function(){return"IdealLowpass"}};b.extend(jb,Na);var kb=function(){kb.superclass.constructor.call(this);kb.prototype.get_ActionName=function(){return"GaussianLowpass"}};b.extend(kb,Na);var lb=function(){var a=
lb.superclass;a.constructor.call(this);this._7992=2;var d=lb.prototype;d.get_ActionName=function(){return"ButterworthLowpass"};d.get_Order=function(){return this._7992};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7992=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._7992;return b}};b.extend(lb,Na);e.WebColorBaseJS=d;e.WebColorSphereJS=a;e.WebColorReplaceSphereJS=h;e.WebChannelRemapSettings=f;e.WebImageProcessingCommandBaseJS=v;e.WebImageProcessingCommandWithSourceChangeJS=
l;e.WebImageProcessingCommandWithRegionJS=t;e.WebImageProcessingCommandWithRegionAndSourceChangeJS=q;e.WebBinarizeCommandJS=u;e.WebChangePixelFormatCommandJS=K;e.WebChangePixelFormatToBgrCommandJS=X;e.WebChangePixelFormatToBlackWhiteCommandJS=fa;e.WebChangePixelFormatToGrayscaleCommandJS=O;e.WebChangePixelFormatToPaletteCommandJS=ba;e.WebClearCommandJS=ea;e.WebCropCommandJS=ca;e.WebResampleCommandJS=ra;e.WebResizeCommandJS=U;e.WebResizeCanvasCommandJS=ga;e.WebOverlayCommandJS=M;e.WebOverlayMaskedCommandJS=
ha;e.WebOverlayWithBlendingCommandJS=r;e.WebFillRectangleCommandJS=aa;e.WebImageComparisonCommandJS=k;e.WebDrawImageCommandJS=m;e.WebOverlayBinaryCommandJS=A;e.WebGetBackgroundColorCommandJS=g;e.WebGetBorderColorCommandJS=w;e.WebGetColorCountCommandJS=H;e.WebGetHistogramCommandJS=J;e.WebGetThresholdCommandJS=ia;e.WebIsImageBlankCommandJS=T;e.WebHasCertainColorCommandJS=ja;e.WebGetUniqueColorCommandJS=ka;e.WebIsImageBlackWhiteCommandJS=la;e.WebIsImageGrayscaleCommandJS=ma;e.WebGetImageColorDepthCommandJS=
oa;e.WebGetBorderRectCommandJS=pa;e.WebFlipCommandJS=qa;e.WebRotateCommandJS=ta;e.WebSkewCommandJS=ua;e.WebQuadrilateralWarpCommandJS=va;e.WebMatrixTransformCommandJS=wa;e.WebImageScalingCommandJS=xa;e.WebChangeBrightnessCommandJS=E;e.WebChangeBrightnessContrastCommandJS=N;e.WebChangeContrastCommandJS=s;e.WebChangeGammaCommandJS=x;e.WebChangeHSLCommandJS=B;e.WebColorBlendCommandJS=z;e.WebColorBlend16CommandJS=F;e.WebCurvesCommandJS=Z;e.WebCurves16CommandJS=P;e.WebDesaturateCommandJS=D;e.WebGetAlphaChannelMaskCommandJS=
G;e.WebHalftoneCommandJS=C;e.WebInvertCommandJS=I;e.WebLevelsCommandJS=V;e.WebPosterizeCommandJS=Y;e.WebRemapColorsCommandJS=L;e.WebRemapColors16CommandJS=W;e.WebReplaceColorCommandJS=R;e.WebSetAlphaChannelMaskCommandJS=S;e.WebSetAlphaChannelValueCommandJS=Q;e.WebMinimumCommandJS=ya;e.WebMaximumCommandJS=za;e.WebMidPointCommandJS=Aa;e.WebMeanCommandJS=Ba;e.WebMedianCommandJS=Ca;e.WebDilateCommandJS=Oa;e.WebErodeCommandJS=Da;e.WebBlurCommandJS=Ea;e.WebGaussianBlurCommandJS=Fa;e.WebEdgeDetectionCommandJS=
Ga;e.WebEmbossCommandJS=Ha;e.WebSharpenCommandJS=Qa;e.WebAddNoiseCommandJS=Ra;e.WebCannyEdgeDetectorCommandJS=Sa;e.WebAutoColorsCommandJS=La;e.WebAutoContrastCommandJS=Ta;e.WebAutoLevelsCommandJS=Ua;e.WebBevelEdgeCommandJS=Va;e.WebDropShadowCommandJS=Wa;e.WebMotionBlurCommandJS=Xa;e.WebMosaicCommandJS=Ya;e.WebOilPaintingCommandJS=Za;e.WebPixelateCommandJS=$a;e.WebRedEyeRemovalCommandJS=ab;e.WebSepiaCommandJS=bb;e.WebSolarizeCommandJS=cb;e.WebTileReflectionCommandJS=db;e.WebImageSharpeningCommandJS=
eb;e.WebImageSmoothingCommandJS=fb;e.WebIdealHighpassCommandJS=gb;e.WebGaussianHighpassCommandJS=hb;e.WebButterworthHighpassCommandJS=ib;e.WebIdealLowpassCommandJS=jb;e.WebGaussianLowpassCommandJS=kb;e.WebButterworthLowpassCommandJS=lb})(v.ImageProcessing);v.WebBmpCompressionEnumJS=b.EnumGenerator.create([{None:0},{RLE:1}],!1);v.WebPngFilterMethodEnumJS=b.EnumGenerator.create([{None:0},{Sub:1},{Up:2},{Average:3},{Paeth:4},{Adaptive:5},{Auto:31}],!1);v.WebGifCreatePageMethodEnumJS=b.EnumGenerator.create([{UseOnlyGlobalPalette:0},
{UseGlobalOrLocalPalette:1}],!1);v.WebJpeg2000CompressionTypeEnumJS=b.EnumGenerator.create([{Lossless:0},{Lossy:0}],!1);v.WebTiffCompressionEnumJS=b.EnumGenerator.create([{Auto:0},{None:1},{CcittRle:2},{CcittGroup3:3},{CcittGroup4:4},{Lzw:5},{OldJpeg:6},{Jpeg:7},{Zip:8},{"Packbits ":32773},{"Jpeg2000 ":34712},{NikonNef:34713}],!1);v.WebPdfImageCompressionEnumJS=b.EnumGenerator.create([{None:0},{CcittFax:1},{Lzw:2},{Jpeg:4},{Zip:8},{Jbig2:16},{Jpeg2000:32},{Auto:1024}],!1);v.WebPdfDocumentConformanceEnumJS=
b.EnumGenerator.create([{Undefined:0},{PdfA_1a:1},{PdfA_1b:2},{PdfA_2a:4},{PdfA_2b:8},{PdfA_2u:16},{PdfA_3a:32},{PdfA_3b:64},{PdfA_3u:128}],!1);v.WebSvgEmbeddedImageEncoderEnumJS=b.EnumGenerator.create([{PNG:0},{JPEG:1}],!1);var N=function(){var e=N.prototype;e.get_Name=function(){if(null!=this._9951)return this._9951;b.pv.tne()};e.toObject=function(){return this._7393()};e._7393=function(){b.pv.tne()}},wa=function(){wa.superclass.constructor.call(this);wa.prototype._7393=function(){return{}};this._9951=
"Pcx"};b.extend(wa,N);var nb=function(){wa.superclass.constructor.call(this);var e=nb.prototype;e.get_DetectDuplicatePaths=function(){return this._3112};e.set_DetectDuplicatePaths=function(d){b.pv.b(d);this._3112=d};e._7393=function(){return{}};this._9951="Svg";this._3112=!0;this._4626=new v.WebSvgEmbeddedImageEncoderEnumJS(0)};b.extend(nb,N);var Ea=function(){Ea.superclass.constructor.call(this);var e=Ea.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){this._11414=
b.pv.e(d,v.WebBmpCompressionEnumJS)};e.clone=function(){var b=new this.constructor;b._11414=new v.WebBmpCompressionEnumJS(this._11414.valueOf());return b};e._7393=function(){return{compression:this._11414.valueOf()}};this._9951="Bmp";this._11414=new v.WebBmpCompressionEnumJS(1)};b.extend(Ea,N);var X=function(e,d){X.superclass.constructor.call(this);var a=X.prototype;a.get_CompressionLevel=function(){return this._2507};a.set_CompressionLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._2507=a};
a.get_FilterMethod=function(){return this._8235};a.set_FilterMethod=function(a){this._8235=b.pv.e(a,v.WebPngFilterMethodEnumJS)};a.clone=function(){var a=new this.constructor;a._2507=this._2507;a._8235=new v.WebPngFilterMethodEnumJS(this._8235.valueOf());return a};a._7393=function(){return{compressionLevel:this._2507,filterMethod:this._8235.valueOf()}};this._9951="Png";this._2507=6;this._8235=new v.WebPngFilterMethodEnumJS(31);null!=d&&this.set_CompressionLevel(d);null!=e&&this.set_FilterMethod(e)};
b.extend(X,N);X.bestSpeed=function(){return new X(0,1)};X.fast=function(){return new X(31,4)};X.normal=function(){return new X};X.bestCompression=function(){return new X(31,8)};var ja=function(e){ja.superclass.constructor.call(this);var d=ja.prototype;d.get_Quality=function(){return this._6927};d.set_Quality=function(a){b.pv.n(a);a!==this._6927&&(1>a&&(a=1),100<a&&(a=100),this._6927=a)};d.get_SaveAsGrayscale=function(){return this._1722};d.set_SaveAsGrayscale=function(a){b.pv.b(a);this._1722=a};d.clone=
function(){var a=new this.constructor;a._6927=this._6927;a._1722=this._1722;return a};d._7393=function(){return{quality:this._6927,saveAsGrayscale:this._1722}};null==e&&(e=70);b.pv.n(e);this._6927=e;this._1722=!1;this._9951="Jpeg"};b.extend(ja,N);var Fa=function(){Fa.superclass.constructor.call(this);var e=Fa.prototype;e.get_NumberOfAnimationCycles=function(){return this._8886};e.set_NumberOfAnimationCycles=function(d){b.pv.n(d);(0>d||65535<d)&&b.pv.toe();this._8886=d};e.get_AnimationDelay=function(){return this._7281};
e.set_AnimationDelay=function(d){b.pv.n(d);(0>d||65535<d)&&b.pv.toe();this._7281=d};e.get_InfiniteAnimation=function(){return this._8137};e.set_InfiniteAnimation=function(d){b.pv.b(d);this._8137=d;this._8886=0};e.get_CreatePageMethod=function(){return this._1483};e.set_CreatePageMethod=function(d){this._1483=b.pv.e(d,v.WebGifCreatePageMethodEnumJS)};e.clone=function(){var b=new this.constructor;b._8137=this._8137;b._8886=this._8886;b._7281=this._7281;b._1483=new v.WebGifCreatePageMethodEnumJS(this._1483.valueOf());
return b};e._7393=function(){return{infiniteAnimation:this._8137,numberOfAnimationCycles:this._8886,animationDelay:this._7281,createPageMethod:this._1483.valueOf()}};this._8137=!1;this._7281=this._8886=0;this._1483=new v.WebGifCreatePageMethodEnumJS(1);this._9951="Gif"};b.extend(Fa,N);var ka=function(){ka.superclass.constructor.call(this);var e=ka.prototype;e.get_TileHeight=function(){return this._4129};e.set_TileHeight=function(d){b.pv.n(d);0>d&&b.pv.toe();this._4129=d};e.get_TileWidth=function(){return this._8665};
e.set_TileWidth=function(d){b.pv.n(d);0>d&&b.pv.toe();this._8665=d};e.get_WaveletLevels=function(){return this._4024};e.set_WaveletLevels=function(d){b.pv.n(d);(0>d||32<d)&&b.pv.toe();this._4024=d};e.get_CompressionType=function(){return this._10048};e.set_CompressionType=function(d){this._10048=b.pv.e(d,v.WebJpeg2000CompressionTypeEnumJS)};e.get_CompressionRatio=function(){return this._9531};e.set_CompressionRatio=function(d){b.pv.n(d);1>d&&b.pv.toe();this._9531=d};e.get_FileSize=function(){return this._4858};
e.set_FileSize=function(d){b.pv.n(d);this._4858=d};e.clone=function(){var b=new this.constructor;b._8665=this._8665;b._4129=this._4129;b._4024=this._4024;b._10048=new v.WebJpeg2000CompressionTypeEnumJS(this._10048.valueOf());b._9531=this._9531;b._4858=this._4858;return b};e._7393=function(){return{tileWidth:this._8665,tileHeight:this._4129,waveletLevels:this._4024,compressionType:this._10048.valueOf(),compressionRatio:this._9531,fileSize:this._4858}};this._9951="Jpeg2000";this._4129=this._8665=0;
this._4024=5;this._10048=new v.WebJpeg2000CompressionTypeEnumJS(0);this._9531=20;this._4858=0};b.extend(ka,N);var ta=function(){ta.superclass.constructor.call(this);var e=ta.prototype;e.get_UseMmr=function(){return this._4247};e.set_UseMmr=function(d){b.pv.b(d);this._4247=d};e.get_Lossy=function(){return this._5830};e.set_Lossy=function(d){b.pv.b(d);this._5830=d};e.get_Inaccuracy=function(){return this._10398};e.set_Inaccuracy=function(d){b.pv.n(d);(0>d||100<d)&&b.pv.toe();this._10398=d};e.get_UseSymbolDictionary=
function(){return this._8227};e.set_UseSymbolDictionary=function(d){b.pv.b(d);this._8227=d};e.get_SymbolDictionarySize=function(){return this._3617};e.set_SymbolDictionarySize=function(d){b.pv.n(d);10>d&&b.pv.toe();this._3617=d};e.clone=function(){var b=new this.constructor;b._4247=this._4247;b._5830=this._5830;b._10398=this._10398;b._8227=this._8227;b._3617=this._3617;return b};e._7393=function(){return{useMmr:this._4247,lossy:this._5830,inaccuracy:this._10398,useSymbolDictionary:this._8227,symbolDictionarySize:this._3617}};
this._9951="Jbig2";this._5830=this._4247=!1;this._10398=50;this._8227=!0;this._3617=6500};b.extend(ta,N);var Ga=function(){Ga.superclass.constructor.call(this);var e=Ga.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){d=b.pv.e(d,v.WebTiffCompressionEnumJS);switch(d.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;default:b.pv.te("Compression '"+d.toString()+"' is not supported.")}this._11414=d};e.get_UsePredictor=function(){return this._247};
e.set_UsePredictor=function(d){b.pv.b(d);this._247=d};e.get_JpegSettings=function(){return this._3413};e.set_JpegSettings=function(d){b.pv.c(d,ja);this._3413=d};e.get_JpegQuality=function(){return this._3413.get_Quality()};e.set_JpegQuality=function(b){this._3413.get_Quality(b)};e.get_SaveAsGrayscale=function(){return this._3413.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(b){this._3413.set_SaveAsGrayscale(b)};e.get_ZipLevel=function(){return this._7422};e.set_ZipLevel=function(d){b.pv.n(d);
0>d&&(d=0);9<d&&(d=9);this._7422=d};e.get_Jpeg2000Settings=function(){return this._7921};e.set_Jpeg2000Settings=function(d){b.pv.c(d,ka);this._7921=d};e.get_BinarizationCommand=function(){return this._5696};e.set_BinarizationCommand=function(d){b.pv.c(d,oa.WebChangePixelFormatToBlackWhiteCommandJS);this._5696=d};e.clone=function(){var b=new this.constructor;b._11414=new v.WebTiffCompressionEnumJS(this._11414.valueOf());b._247=this._247;b._3413=this._3413.clone();var a=new oa.WebChangePixelFormatToBlackWhiteCommandJS,
e=this._5696;a._2482=new n.WebBinarizationModeEnumJS(e._2482.valueOf);a._6915=e._6915;a._8542=e._8542;a._8951=e._8951;a._10053=e._10053;a._11=e._11;a._4342=e._4342;a._9620=new n.WebLuminanceComputationModeEnumJS(e._9620.valueOf());b._5696=a;b._7422=this._7422;b._7921=this._7921.clone();return b};e._7393=function(){return{compression:this._11414.valueOf(),usePredictor:this._247,jpegSettings:this._3413._7393(),binarizarionCommand:this._5696.getParams(),zipLevel:this._7422,jpeg2000Settings:this._7921._7393()}};
this._9951="Tiff";this._11414=new v.WebTiffCompressionEnumJS(0);this._247=!0;this._3413=new ja;this._5696=new oa.WebChangePixelFormatToBlackWhiteCommandJS;this._7422=6;this._7921=new ka};b.extend(Ga,N);var Ha=function(){Ha.superclass.constructor.call(this);var e=Ha.prototype;e.get_Compression=function(){return this._11414};e.set_Compression=function(d){this._11414=b.pv.e(d,v.WebPdfImageCompressionEnumJS)};e.get_Conformance=function(){return this._1059};e.set_Conformance=function(d){d=b.pv.e(d,v.WebPdfDocumentConformanceEnumJS);
switch(d.valueOf()){case 0:case 2:case 8:case 64:break;default:b.pv.te("Conformance to '"+d.toString()+"' is not supported now.")}this._1059=d};e.get_JpegSettings=function(){return this._3413};e.set_JpegSettings=function(d){b.pv.c(d,ja);this._3413=d};e.get_JpegQuality=function(){return this._3413.get_Quality()};e.set_JpegQuality=function(b){this._3413.get_Quality(b)};e.get_SaveAsGrayscale=function(){return this._3413.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(b){this._3413.set_SaveAsGrayscale(b)};
e.get_BinarizationCommand=function(){return this._5696};e.set_BinarizationCommand=function(d){b.pv.c(d,oa.WebChangePixelFormatToBlackWhiteCommandJS);this._5696=d};e.get_Jbig2UseGlobals=function(){return this._3930};e.set_Jbig2UseGlobals=function(d){b.pv.b(d);this._3930=d};e.get_Jbig2Settings=function(){return this._6159};e.set_Jbig2Settings=function(d){b.pv.c(d,ta);this._6159=d};e.get_Jpeg2000Settings=function(){return this._7921};e.set_Jpeg2000Settings=function(d){b.pv.c(d,ka);this._7921=d};e.get_ZipLevel=
function(){return this._7422};e.set_ZipLevel=function(d){b.pv.n(d);0>d&&(d=0);9<d&&(d=9);this._7422=d};e.get_GenerateAnnotationAppearance=function(){return this._4200};e.set_GenerateAnnotationAppearance=function(d){b.pv.b(d);this._4200=d};e.clone=function(){var b=new this.constructor;b._11414=new v.WebPdfImageCompressionEnumJS(this._11414.valueOf());b._1059=new v.WebPdfDocumentConformanceEnumJS(this._1059.valueOf());b._3413=this._3413.clone();b._7921=this._7921.clone();var a=new oa.WebChangePixelFormatToBlackWhiteCommandJS,
e=this._5696;a._2482=new n.WebBinarizationModeEnumJS(e._2482.valueOf);a._6915=e._6915;a._8542=e._8542;a._8951=e._8951;a._10053=e._10053;a._11=e._11;a._4342=e._4342;a._9620=new n.WebLuminanceComputationModeEnumJS(e._9620.valueOf());b._5696=a;b._3930=this._3930;b._6159=this._6159;b._7422=this._7422;b._4200=this._4200;return b};e._7393=function(){return{compression:this._11414.valueOf(),conformance:this._1059.valueOf(),jpegSettings:this._3413._7393(),jpeg2000Settings:this._7921._7393(),binarizarionCommand:this._5696.getParams(),
jbig2UseGlobals:this._3930,jbig2Settings:this._6159._7393(),zipLevel:this._7422,generateAnnotationAppearance:this._4200}};this._9951="Pdf";this._11414=new v.WebPdfImageCompressionEnumJS(1024);this._1059=new v.WebPdfDocumentConformanceEnumJS(0);this._3413=new ja;this._5696=new oa.WebChangePixelFormatToBlackWhiteCommandJS;this._3930=!0;this._6159=new ta;this._7921=new ka;this._7422=6;this._4200=!1};b.extend(Ha,N);b.WebServiceJS.defaultConverterService=-1;var ub=function(e,d){var a=ub.prototype;a.started=
function(a){};a.progress=function(a,b){};a.finished=function(a,b){};a.get_IsStarted=function(){return this._9280};a.get_IsActive=function(){return this._8291()};a.get_ConvertationStatus=function(){return this._2968};a.convertFileTo=function(a,d,e){(this._9280||this._8291())&&b.pv.te("The image file converter already has active image file converting process or already sent the request.");var l=a.fileId,n=a.encoderSettings,p=a.password;a=a.renderingSettings;b.pv.c(n,N);b.pv.s(l);null!=p&&b.pv.s(p);
null!=a&&b.pv.c(a,b.WebRenderingSettingsJS);var u;try{u=n.get_Name()}catch(v){b.pv.te("Unsupported encoder settings.")}u="ConvertFileTo"+u;var l={fileId:l},n=n.toObject(),E=!0,s;for(s in n){E=!1;break}E||(l.settings=n);null!=a&&(l.renderingSettings=a.toObject());null!=p&&(l.password=p);var x=this,p=new b.WebRequestJS(u,function(a,b,e){x._4694=a.processId;delete a.processId;x._9280=!1;$(x).triggerHandler("started");setTimeout(function(){x._1150()},x._6716);d&&d(a,b,e)},function(a,b,d){x._9280=!1;e&&
e(a,b,d)},{data:l});this._2968=null;this._9280=!0;return this._2107.sendRequest(p)};a.abortConverting=function(a,d){this._8291()||b.pv.te("The active image file converting process does not exist.");var e=new b.WebRequestJS("AbortConverting",a,d,{data:{processId:this._4694}});return this._2107.sendRequest(e)};a._1150=function(){var a=this,d=new b.WebRequestJS("GetConvertingStatus",function(b){b=b.status;a._2968=b;var d=b.description;"Finished"===d||"Aborted"===d?(a._4694=null,$(a).triggerHandler("finished",
b)):($(a).triggerHandler("progress",b),setTimeout(function(){a._1150()},a._6716))},function(b){a._4694=null;$(a).triggerHandler("finished",a._2968)},{data:{processId:this._4694}});return this._2107.sendRequest(d)};a._8291=function(){return null!=this._4694};null==e&&(e=300);null==d&&(d=b.WebServiceJS.defaultConverterService);b.pv.c(d,b.WebServiceJS);b.pv.n(e);this._2107=d;this._6716=e;this._9280=!1;this._2968=this._4694=null;delete a.started;delete a.progress;delete a.finished};v.WebImageEncoderSettingsJS=
N;v.WebPcxEncoderSettingsJS=wa;v.WebBmpEncoderSettingsJS=Ea;v.WebPngEncoderSettingsJS=X;v.WebJpegEncoderSettingsJS=ja;v.WebGifEncoderSettingsJS=Fa;v.WebJpeg2000EncoderSettingsJS=ka;v.WebJbig2EncoderSettingsJS=ta;v.WebTiffEncoderSettingsJS=Ga;v.WebPdfEncoderSettingsJS=Ha;v.WebSvgEncoderSettingsJS=nb;v.WebImageConverterJS=ub})(Q.Imaging)})(Vintasoft);
